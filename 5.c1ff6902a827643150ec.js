(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"2UWG":function(t,e,n){"use strict";var r=n("CDJp"),i=n("K2E3");function o(t){return void 0!==t._view.width}function a(t){var e,n,r,i,a=t._view;if(o(t)){var s=a.width/2;e=a.x-s,n=a.x+s,r=Math.min(a.y,a.base),i=Math.max(a.y,a.base)}else{var l=a.height/2;e=Math.min(a.x,a.base),n=Math.max(a.x,a.base),r=a.y-l,i=a.y+l}return{left:e,top:r,right:n,bottom:i}}r._set("global",{elements:{rectangle:{backgroundColor:r.global.defaultColor,borderColor:r.global.defaultColor,borderSkipped:"bottom",borderWidth:0}}}),t.exports=i.extend({draw:function(){var t,e,n,r,i,o,a,s=this._chart.ctx,l=this._view,u=l.borderWidth;if(l.horizontal?(n=l.y-l.height/2,r=l.y+l.height/2,i=(e=l.x)>(t=l.base)?1:-1,o=1,a=l.borderSkipped||"left"):(t=l.x-l.width/2,e=l.x+l.width/2,i=1,o=(r=l.base)>(n=l.y)?1:-1,a=l.borderSkipped||"bottom"),u){var c=Math.min(Math.abs(t-e),Math.abs(n-r)),d=(u=u>c?c:u)/2,f=t+("left"!==a?d*i:0),h=e+("right"!==a?-d*i:0),p=n+("top"!==a?d*o:0),g=r+("bottom"!==a?-d*o:0);f!==h&&(n=p,r=g),p!==g&&(t=f,e=h)}s.beginPath(),s.fillStyle=l.backgroundColor,s.strokeStyle=l.borderColor,s.lineWidth=u;var v=[[t,r],[t,n],[e,n],[e,r]],m=["bottom","left","top","right"].indexOf(a,0);function y(t){return v[(m+t)%4]}-1===m&&(m=0);var x=y(0);s.moveTo(x[0],x[1]);for(var b=1;b<4;b++)x=y(b),s.lineTo(x[0],x[1]);s.fill(),u&&s.stroke()},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){var n=!1;if(this._view){var r=a(this);n=t>=r.left&&t<=r.right&&e>=r.top&&e<=r.bottom}return n},inLabelRange:function(t,e){if(!this._view)return!1;var n=a(this);return o(this)?t>=n.left&&t<=n.right:e>=n.top&&e<=n.bottom},inXRange:function(t){var e=a(this);return t>=e.left&&t<=e.right},inYRange:function(t){var e=a(this);return t>=e.top&&t<=e.bottom},getCenterPoint:function(){var t,e,n=this._view;return o(this)?(t=n.x,e=(n.y+n.base)/2):(t=(n.x+n.base)/2,e=n.y),{x:t,y:e}},getArea:function(){var t=this._view;return t.width*Math.abs(t.y-t.base)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}})},"35yf":function(t,e,n){"use strict";n("CDJp")._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},showLines:!1,tooltips:{callbacks:{title:function(){return""},label:function(t){return"("+t.xLabel+", "+t.yLabel+")"}}}}),t.exports=function(t){t.controllers.scatter=t.controllers.line}},"5ZZ7":function(t,e,n){"use strict";var r=n("CDJp"),i=n("vvH+"),o=n("RDha");r._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var n=t.data,r=n.datasets,i=n.labels;if(r.length)for(var o=0;o<r[0].data.length;++o)e.push('<li><span style="background-color:'+r[0].backgroundColor[o]+'"></span>'),i[o]&&e.push(i[o]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map(function(n,r){var i=t.getDatasetMeta(0),a=e.datasets[0],s=i.data[r].custom||{},l=o.valueAtIndexOrDefault,u=t.options.elements.arc;return{text:n,fillStyle:s.backgroundColor?s.backgroundColor:l(a.backgroundColor,r,u.backgroundColor),strokeStyle:s.borderColor?s.borderColor:l(a.borderColor,r,u.borderColor),lineWidth:s.borderWidth?s.borderWidth:l(a.borderWidth,r,u.borderWidth),hidden:isNaN(a.data[r])||i.data[r].hidden,index:r}}):[]}},onClick:function(t,e){var n,r,i,o=e.index,a=this.chart;for(n=0,r=(a.data.datasets||[]).length;n<r;++n)(i=a.getDatasetMeta(n)).data[o].hidden=!i.data[o].hidden;a.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}}),t.exports=function(t){t.controllers.polarArea=t.DatasetController.extend({dataElementType:i.Arc,linkScales:o.noop,update:function(t){var e,n,r,i=this,a=i.getDataset(),s=i.getMeta(),l=i.chart.options.startAngle||0,u=i._starts=[],c=i._angles=[];for(i._updateRadius(),s.count=i.countVisibleElements(),e=0,n=a.data.length;e<n;e++)u[e]=l,r=i._computeAngle(e),c[e]=r,l+=r;o.each(s.data,function(e,n){i.updateElement(e,n,t)})},_updateRadius:function(){var t=this,e=t.chart,n=e.chartArea,r=e.options,i=r.elements.arc,o=Math.min(n.right-n.left,n.bottom-n.top);e.outerRadius=Math.max((o-i.borderWidth/2)/2,0),e.innerRadius=Math.max(r.cutoutPercentage?e.outerRadius/100*r.cutoutPercentage:1,0),e.radiusLength=(e.outerRadius-e.innerRadius)/e.getVisibleDatasetCount(),t.outerRadius=e.outerRadius-e.radiusLength*t.index,t.innerRadius=t.outerRadius-e.radiusLength},updateElement:function(t,e,n){var r=this,i=r.chart,a=r.getDataset(),s=i.options,l=s.animation,u=i.scale,c=i.data.labels,d=u.xCenter,f=u.yCenter,h=s.startAngle,p=t.hidden?0:u.getDistanceFromCenterForValue(a.data[e]),g=r._starts[e],v=g+(t.hidden?0:r._angles[e]),m=l.animateScale?0:u.getDistanceFromCenterForValue(a.data[e]);o.extend(t,{_datasetIndex:r.index,_index:e,_scale:u,_model:{x:d,y:f,innerRadius:0,outerRadius:n?m:p,startAngle:n&&l.animateRotate?h:g,endAngle:n&&l.animateRotate?h:v,label:o.valueAtIndexOrDefault(c,e,c[e])}});var y=this.chart.options.elements.arc,x=t.custom||{},b=o.valueAtIndexOrDefault,k=t._model;k.backgroundColor=x.backgroundColor?x.backgroundColor:b(a.backgroundColor,e,y.backgroundColor),k.borderColor=x.borderColor?x.borderColor:b(a.borderColor,e,y.borderColor),k.borderWidth=x.borderWidth?x.borderWidth:b(a.borderWidth,e,y.borderWidth),t.pivot()},countVisibleElements:function(){var t=this.getDataset(),e=this.getMeta(),n=0;return o.each(e.data,function(e,r){isNaN(t.data[r])||e.hidden||n++}),n},_computeAngle:function(t){var e=this,n=this.getMeta().count,r=e.getDataset(),i=e.getMeta();return isNaN(r.data[t])||i.data[t].hidden?0:o.options.resolve([e.chart.options.elements.arc.angle,2*Math.PI/n],{chart:e.chart,dataIndex:t,dataset:r,datasetIndex:e.index},t)}})}},"6rqY":function(t,e,n){"use strict";var r=n("A5uo"),i=n("dpnK"),o=n("CDJp"),a=n("RDha"),s=n("mlr9"),l=n("fELs"),u=n("iM7B"),c=n("VgNv"),d=n("tjFV"),f=n("x8uC");t.exports=function(t){function e(t){return"top"===t||"bottom"===t}t.types={},t.instances={},t.controllers={},a.extend(t.prototype,{construct:function(e,n){var r=this;n=function(t){var e=(t=t||{}).data=t.data||{};return e.datasets=e.datasets||[],e.labels=e.labels||[],t.options=a.configMerge(o.global,o[t.type],t.options||{}),t}(n);var i=u.acquireContext(e,n),s=i&&i.canvas,l=s&&s.height,c=s&&s.width;r.id=a.uid(),r.ctx=i,r.canvas=s,r.config=n,r.width=c,r.height=l,r.aspectRatio=l?c/l:null,r.options=n.options,r._bufferedRender=!1,r.chart=r,r.controller=r,t.instances[r.id]=r,Object.defineProperty(r,"data",{get:function(){return r.config.data},set:function(t){r.config.data=t}}),i&&s?(r.initialize(),r.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var t=this;return c.notify(t,"beforeInit"),a.retinaScale(t,t.options.devicePixelRatio),t.bindEvents(),t.options.responsive&&t.resize(!0),t.ensureScalesHaveIDs(),t.buildOrUpdateScales(),t.initToolTip(),c.notify(t,"afterInit"),t},clear:function(){return a.canvas.clear(this),this},stop:function(){return i.cancelAnimation(this),this},resize:function(t){var e=this,n=e.options,r=e.canvas,i=n.maintainAspectRatio&&e.aspectRatio||null,o=Math.max(0,Math.floor(a.getMaximumWidth(r))),s=Math.max(0,Math.floor(i?o/i:a.getMaximumHeight(r)));if((e.width!==o||e.height!==s)&&(r.width=e.width=o,r.height=e.height=s,r.style.width=o+"px",r.style.height=s+"px",a.retinaScale(e,n.devicePixelRatio),!t)){var l={width:o,height:s};c.notify(e,"resize",[l]),e.options.onResize&&e.options.onResize(e,l),e.stop(),e.update({duration:e.options.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var t=this.options,e=t.scales||{},n=t.scale;a.each(e.xAxes,function(t,e){t.id=t.id||"x-axis-"+e}),a.each(e.yAxes,function(t,e){t.id=t.id||"y-axis-"+e}),n&&(n.id=n.id||"scale")},buildOrUpdateScales:function(){var t=this,n=t.options,r=t.scales||{},i=[],o=Object.keys(r).reduce(function(t,e){return t[e]=!1,t},{});n.scales&&(i=i.concat((n.scales.xAxes||[]).map(function(t){return{options:t,dtype:"category",dposition:"bottom"}}),(n.scales.yAxes||[]).map(function(t){return{options:t,dtype:"linear",dposition:"left"}}))),n.scale&&i.push({options:n.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),a.each(i,function(n){var i=n.options,s=i.id,l=a.valueOrDefault(i.type,n.dtype);e(i.position)!==e(n.dposition)&&(i.position=n.dposition),o[s]=!0;var u=null;if(s in r&&r[s].type===l)(u=r[s]).options=i,u.ctx=t.ctx,u.chart=t;else{var c=d.getScaleConstructor(l);if(!c)return;u=new c({id:s,type:l,options:i,ctx:t.ctx,chart:t}),r[u.id]=u}u.mergeTicksOptions(),n.isDefault&&(t.scale=u)}),a.each(o,function(t,e){t||delete r[e]}),t.scales=r,d.addScalesToLayout(this)},buildOrUpdateControllers:function(){var e=this,n=[],r=[];return a.each(e.data.datasets,function(i,o){var a=e.getDatasetMeta(o),s=i.type||e.config.type;if(a.type&&a.type!==s&&(e.destroyDatasetMeta(o),a=e.getDatasetMeta(o)),a.type=s,n.push(a.type),a.controller)a.controller.updateIndex(o),a.controller.linkScales();else{var l=t.controllers[a.type];if(void 0===l)throw new Error('"'+a.type+'" is not a chart type.');a.controller=new l(e,o),r.push(a.controller)}},e),r},resetElements:function(){var t=this;a.each(t.data.datasets,function(e,n){t.getDatasetMeta(n).controller.reset()},t)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(e){var n,r,i=this;if(e&&"object"==typeof e||(e={duration:e,lazy:arguments[1]}),r=(n=i).options,a.each(n.scales,function(t){l.removeBox(n,t)}),r=a.configMerge(t.defaults.global,t.defaults[n.config.type],r),n.options=n.config.options=r,n.ensureScalesHaveIDs(),n.buildOrUpdateScales(),n.tooltip._options=r.tooltips,n.tooltip.initialize(),c._invalidate(i),!1!==c.notify(i,"beforeUpdate")){i.tooltip._data=i.data;var o=i.buildOrUpdateControllers();a.each(i.data.datasets,function(t,e){i.getDatasetMeta(e).controller.buildOrUpdateElements()},i),i.updateLayout(),i.options.animation&&i.options.animation.duration&&a.each(o,function(t){t.reset()}),i.updateDatasets(),i.tooltip.initialize(),i.lastActive=[],c.notify(i,"afterUpdate"),i._bufferedRender?i._bufferedRequest={duration:e.duration,easing:e.easing,lazy:e.lazy}:i.render(e)}},updateLayout:function(){!1!==c.notify(this,"beforeLayout")&&(l.update(this,this.width,this.height),c.notify(this,"afterScaleUpdate"),c.notify(this,"afterLayout"))},updateDatasets:function(){if(!1!==c.notify(this,"beforeDatasetsUpdate")){for(var t=0,e=this.data.datasets.length;t<e;++t)this.updateDataset(t);c.notify(this,"afterDatasetsUpdate")}},updateDataset:function(t){var e=this.getDatasetMeta(t),n={meta:e,index:t};!1!==c.notify(this,"beforeDatasetUpdate",[n])&&(e.controller.update(),c.notify(this,"afterDatasetUpdate",[n]))},render:function(t){var e=this;t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]});var n=t.duration,o=t.lazy;if(!1!==c.notify(e,"beforeRender")){var s=e.options.animation,l=function(t){c.notify(e,"afterRender"),a.callback(s&&s.onComplete,[t],e)};if(s&&(void 0!==n&&0!==n||void 0===n&&0!==s.duration)){var u=new r({numSteps:(n||s.duration)/16.66,easing:t.easing||s.easing,render:function(t,e){var n=e.currentStep,r=n/e.numSteps;t.draw((0,a.easing.effects[e.easing])(r),r,n)},onAnimationProgress:s.onProgress,onAnimationComplete:l});i.addAnimation(e,u,n,o)}else e.draw(),l(new r({numSteps:0,chart:e}));return e}},draw:function(t){var e=this;e.clear(),a.isNullOrUndef(t)&&(t=1),e.transition(t),e.width<=0||e.height<=0||!1!==c.notify(e,"beforeDraw",[t])&&(a.each(e.boxes,function(t){t.draw(e.chartArea)},e),e.scale&&e.scale.draw(),e.drawDatasets(t),e._drawTooltip(t),c.notify(e,"afterDraw",[t]))},transition:function(t){for(var e=0,n=(this.data.datasets||[]).length;e<n;++e)this.isDatasetVisible(e)&&this.getDatasetMeta(e).controller.transition(t);this.tooltip.transition(t)},drawDatasets:function(t){var e=this;if(!1!==c.notify(e,"beforeDatasetsDraw",[t])){for(var n=(e.data.datasets||[]).length-1;n>=0;--n)e.isDatasetVisible(n)&&e.drawDataset(n,t);c.notify(e,"afterDatasetsDraw",[t])}},drawDataset:function(t,e){var n=this.getDatasetMeta(t),r={meta:n,index:t,easingValue:e};!1!==c.notify(this,"beforeDatasetDraw",[r])&&(n.controller.draw(e),c.notify(this,"afterDatasetDraw",[r]))},_drawTooltip:function(t){var e=this.tooltip,n={tooltip:e,easingValue:t};!1!==c.notify(this,"beforeTooltipDraw",[n])&&(e.draw(),c.notify(this,"afterTooltipDraw",[n]))},getElementAtEvent:function(t){return s.modes.single(this,t)},getElementsAtEvent:function(t){return s.modes.label(this,t,{intersect:!0})},getElementsAtXAxis:function(t){return s.modes["x-axis"](this,t,{intersect:!0})},getElementsAtEventForMode:function(t,e,n){var r=s.modes[e];return"function"==typeof r?r(this,t,n):[]},getDatasetAtEvent:function(t){return s.modes.dataset(this,t,{intersect:!0})},getDatasetMeta:function(t){var e=this.data.datasets[t];e._meta||(e._meta={});var n=e._meta[this.id];return n||(n=e._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),n},getVisibleDatasetCount:function(){for(var t=0,e=0,n=this.data.datasets.length;e<n;++e)this.isDatasetVisible(e)&&t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return"boolean"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(t){var e=this.id,n=this.data.datasets[t],r=n._meta&&n._meta[e];r&&(r.controller.destroy(),delete n._meta[e])},destroy:function(){var e,n,r=this,i=r.canvas;for(r.stop(),e=0,n=r.data.datasets.length;e<n;++e)r.destroyDatasetMeta(e);i&&(r.unbindEvents(),a.canvas.clear(r),u.releaseContext(r.ctx),r.canvas=null,r.ctx=null),c.notify(r,"destroy"),delete t.instances[r.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var t=this;t.tooltip=new f({_chart:t,_chartInstance:t,_data:t.data,_options:t.options.tooltips},t)},bindEvents:function(){var t=this,e=t._listeners={},n=function(){t.eventHandler.apply(t,arguments)};a.each(t.options.events,function(r){u.addEventListener(t,r,n),e[r]=n}),t.options.responsive&&(u.addEventListener(t,"resize",n=function(){t.resize()}),e.resize=n)},unbindEvents:function(){var t=this,e=t._listeners;e&&(delete t._listeners,a.each(e,function(e,n){u.removeEventListener(t,n,e)}))},updateHoverStyle:function(t,e,n){var r,i,o,a=n?"setHoverStyle":"removeHoverStyle";for(i=0,o=t.length;i<o;++i)(r=t[i])&&this.getDatasetMeta(r._datasetIndex).controller[a](r)},eventHandler:function(t){var e=this,n=e.tooltip;if(!1!==c.notify(e,"beforeEvent",[t])){e._bufferedRender=!0,e._bufferedRequest=null;var r=e.handleEvent(t);n&&(r=n._start?n.handleEvent(t):r|n.handleEvent(t)),c.notify(e,"afterEvent",[t]);var i=e._bufferedRequest;return i?e.render(i):r&&!e.animating&&(e.stop(),e.render({duration:e.options.hover.animationDuration,lazy:!0})),e._bufferedRender=!1,e._bufferedRequest=null,e}},handleEvent:function(t){var e,n=this,r=n.options||{},i=r.hover;return n.lastActive=n.lastActive||[],n.active="mouseout"===t.type?[]:n.getElementsAtEventForMode(t,i.mode,i),a.callback(r.onHover||r.hover.onHover,[t.native,n.active],n),"mouseup"!==t.type&&"click"!==t.type||r.onClick&&r.onClick.call(n,t.native,n.active),n.lastActive.length&&n.updateHoverStyle(n.lastActive,i.mode,!1),n.active.length&&i.mode&&n.updateHoverStyle(n.active,i.mode,!0),e=!a.arrayEquals(n.active,n.lastActive),n.lastActive=n.active,e}}),t.Controller=t}},"6ww4":function(t,e,n){var r=n("uxXc"),i=n("mgIt"),o=function(t){return t instanceof o?t:this instanceof o?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof t?(e=i.getRgba(t))?this.setValues("rgb",e):(e=i.getHsla(t))?this.setValues("hsl",e):(e=i.getHwb(t))&&this.setValues("hwb",e):"object"==typeof t&&(void 0!==(e=t).r||void 0!==e.red?this.setValues("rgb",e):void 0!==e.l||void 0!==e.lightness?this.setValues("hsl",e):void 0!==e.v||void 0!==e.value?this.setValues("hsv",e):void 0!==e.w||void 0!==e.whiteness?this.setValues("hwb",e):void 0===e.c&&void 0===e.cyan||this.setValues("cmyk",e)))):new o(t);var e};o.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return t&&(t=(t%=360)<0?360+t:t),this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return i.hexString(this.values.rgb)},rgbString:function(){return i.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return i.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return i.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return i.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return i.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return i.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return i.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){for(var t=this.values.rgb,e=[],n=0;n<t.length;n++){var r=t[n]/255;e[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.values.rgb;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){var e=this.values.hsl;return e[2]+=e[2]*t,this.setValues("hsl",e),this},darken:function(t){var e=this.values.hsl;return e[2]-=e[2]*t,this.setValues("hsl",e),this},saturate:function(t){var e=this.values.hsl;return e[1]+=e[1]*t,this.setValues("hsl",e),this},desaturate:function(t){var e=this.values.hsl;return e[1]-=e[1]*t,this.setValues("hsl",e),this},whiten:function(t){var e=this.values.hwb;return e[1]+=e[1]*t,this.setValues("hwb",e),this},blacken:function(t){var e=this.values.hwb;return e[2]+=e[2]*t,this.setValues("hwb",e),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){var e=this.values.alpha;return this.setValues("alpha",e-e*t),this},opaquer:function(t){var e=this.values.alpha;return this.setValues("alpha",e+e*t),this},rotate:function(t){var e=this.values.hsl,n=(e[0]+t)%360;return e[0]=n<0?360+n:n,this.setValues("hsl",e),this},mix:function(t,e){var n=t,r=void 0===e?.5:e,i=2*r-1,o=this.alpha()-n.alpha(),a=((i*o==-1?i:(i+o)/(1+i*o))+1)/2,s=1-a;return this.rgb(a*this.red()+s*n.red(),a*this.green()+s*n.green(),a*this.blue()+s*n.blue()).alpha(this.alpha()*r+n.alpha()*(1-r))},toJSON:function(){return this.rgb()},clone:function(){var t,e,n=new o,r=this.values,i=n.values;for(var a in r)r.hasOwnProperty(a)&&("[object Array]"===(e={}.toString.call(t=r[a]))?i[a]=t.slice(0):"[object Number]"===e?i[a]=t:console.error("unexpected color value:",t));return n}},o.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},o.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},o.prototype.getValues=function(t){for(var e=this.values,n={},r=0;r<t.length;r++)n[t.charAt(r)]=e[t][r];return 1!==e.alpha&&(n.a=e.alpha),n},o.prototype.setValues=function(t,e){var n,i,o=this.values,a=this.spaces,s=this.maxes,l=1;if(this.valid=!0,"alpha"===t)l=e;else if(e.length)o[t]=e.slice(0,t.length),l=e[t.length];else if(void 0!==e[t.charAt(0)]){for(n=0;n<t.length;n++)o[t][n]=e[t.charAt(n)];l=e.a}else if(void 0!==e[a[t][0]]){var u=a[t];for(n=0;n<t.length;n++)o[t][n]=e[u[n]];l=e.alpha}if(o.alpha=Math.max(0,Math.min(1,void 0===l?o.alpha:l)),"alpha"===t)return!1;for(n=0;n<t.length;n++)i=Math.max(0,Math.min(s[t][n],o[t][n])),o[t][n]=Math.round(i);for(var c in a)c!==t&&(o[c]=r[t][c](o[t]));return!0},o.prototype.setSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n),this)},o.prototype.setChannel=function(t,e,n){var r=this.values[t];return void 0===n?r[e]:n===r[e]?this:(r[e]=n,this.setValues(t,r),this)},"undefined"!=typeof window&&(window.Color=o),t.exports=o},"7O6V":function(t,e,n){"use strict";t.exports=function(t){t.Line=function(e,n){return n.type="line",new t(e,n)}}},"8//i":function(t,e,n){"use strict";var r=n("CDJp"),i=n("RDha"),o=n("tjFV"),a=n("g8vO");t.exports=function(t){var e=r.global,n={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:a.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(t){return t}}};function s(t){var e=t.options;return e.angleLines.display||e.pointLabels.display?t.chart.data.labels.length:0}function l(t){var n=t.options.pointLabels,r=i.valueOrDefault(n.fontSize,e.defaultFontSize),o=i.valueOrDefault(n.fontStyle,e.defaultFontStyle),a=i.valueOrDefault(n.fontFamily,e.defaultFontFamily);return{size:r,style:o,family:a,font:i.fontString(r,o,a)}}function u(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n-5,end:e}:{start:e,end:e+n+5}}function c(t){return 0===t||180===t?"center":t<180?"left":"right"}function d(t,e,n,r){if(i.isArray(e))for(var o=n.y,a=1.5*r,s=0;s<e.length;++s)t.fillText(e[s],n.x,o),o+=a;else t.fillText(e,n.x,n.y)}function f(t,e,n){90===t||270===t?n.y-=e.h/2:(t>270||t<90)&&(n.y-=e.h)}function h(t){return i.isNumber(t)?t:0}var p=t.LinearScaleBase.extend({setDimensions:function(){var t=this,n=t.options,r=n.ticks;t.width=t.maxWidth,t.height=t.maxHeight,t.xCenter=Math.round(t.width/2),t.yCenter=Math.round(t.height/2);var o=i.min([t.height,t.width]),a=i.valueOrDefault(r.fontSize,e.defaultFontSize);t.drawingArea=n.display?o/2-(a/2+r.backdropPaddingY):o/2},determineDataLimits:function(){var t=this,e=t.chart,n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;i.each(e.data.datasets,function(o,a){if(e.isDatasetVisible(a)){var s=e.getDatasetMeta(a);i.each(o.data,function(e,i){var o=+t.getRightValue(e);isNaN(o)||s.data[i].hidden||(n=Math.min(o,n),r=Math.max(o,r))})}}),t.min=n===Number.POSITIVE_INFINITY?0:n,t.max=r===Number.NEGATIVE_INFINITY?0:r,t.handleTickRangeOptions()},getTickLimit:function(){var t=this.options.ticks,n=i.valueOrDefault(t.fontSize,e.defaultFontSize);return Math.min(t.maxTicksLimit?t.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*n)))},convertTicksToLabels:function(){var e=this;t.LinearScaleBase.prototype.convertTicksToLabels.call(e),e.pointLabels=e.chart.data.labels.map(e.options.pointLabels.callback,e)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){var t,e;this.options.pointLabels.display?function(t){var e,n,r,o=l(t),a=Math.min(t.height/2,t.width/2),c={r:t.width,l:0,t:t.height,b:0},d={};t.ctx.font=o.font,t._pointLabelSizes=[];var f,h,p,g=s(t);for(e=0;e<g;e++){r=t.getPointPosition(e,a),f=t.ctx,h=o.size,n=i.isArray(p=t.pointLabels[e]||"")?{w:i.longestText(f,f.font,p),h:p.length*h+1.5*(p.length-1)*h}:{w:f.measureText(p).width,h:h},t._pointLabelSizes[e]=n;var v=t.getIndexAngle(e),m=i.toDegrees(v)%360,y=u(m,r.x,n.w,0,180),x=u(m,r.y,n.h,90,270);y.start<c.l&&(c.l=y.start,d.l=v),y.end>c.r&&(c.r=y.end,d.r=v),x.start<c.t&&(c.t=x.start,d.t=v),x.end>c.b&&(c.b=x.end,d.b=v)}t.setReductions(a,c,d)}(this):(t=this,e=Math.min(t.height/2,t.width/2),t.drawingArea=Math.round(e),t.setCenterPoint(0,0,0,0))},setReductions:function(t,e,n){var r=e.l/Math.sin(n.l),i=Math.max(e.r-this.width,0)/Math.sin(n.r),o=-e.t/Math.cos(n.t),a=-Math.max(e.b-this.height,0)/Math.cos(n.b);r=h(r),i=h(i),o=h(o),a=h(a),this.drawingArea=Math.min(Math.round(t-(r+i)/2),Math.round(t-(o+a)/2)),this.setCenterPoint(r,i,o,a)},setCenterPoint:function(t,e,n,r){var i=this,o=n+i.drawingArea,a=i.height-r-i.drawingArea;i.xCenter=Math.round((t+i.drawingArea+(i.width-e-i.drawingArea))/2+i.left),i.yCenter=Math.round((o+a)/2+i.top)},getIndexAngle:function(t){return t*(2*Math.PI/s(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(t){var e=this;if(null===t)return 0;var n=e.drawingArea/(e.max-e.min);return e.options.ticks.reverse?(e.max-t)*n:(t-e.min)*n},getPointPosition:function(t,e){var n=this.getIndexAngle(t)-Math.PI/2;return{x:Math.round(Math.cos(n)*e)+this.xCenter,y:Math.round(Math.sin(n)*e)+this.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(){var t=this.min,e=this.max;return this.getPointPositionForValue(0,this.beginAtZero?0:t<0&&e<0?e:t>0&&e>0?t:0)},draw:function(){var t=this,n=t.options,r=n.gridLines,o=n.ticks,a=i.valueOrDefault;if(n.display){var u=t.ctx,h=this.getIndexAngle(0),p=a(o.fontSize,e.defaultFontSize),g=a(o.fontStyle,e.defaultFontStyle),v=a(o.fontFamily,e.defaultFontFamily),m=i.fontString(p,g,v);i.each(t.ticks,function(n,l){if(l>0||o.reverse){var c=t.getDistanceFromCenterForValue(t.ticksAsNumbers[l]);if(r.display&&0!==l&&function(t,e,n,r){var o=t.ctx;if(o.strokeStyle=i.valueAtIndexOrDefault(e.color,r-1),o.lineWidth=i.valueAtIndexOrDefault(e.lineWidth,r-1),t.options.gridLines.circular)o.beginPath(),o.arc(t.xCenter,t.yCenter,n,0,2*Math.PI),o.closePath(),o.stroke();else{var a=s(t);if(0===a)return;o.beginPath();var l=t.getPointPosition(0,n);o.moveTo(l.x,l.y);for(var u=1;u<a;u++)l=t.getPointPosition(u,n),o.lineTo(l.x,l.y);o.closePath(),o.stroke()}}(t,r,c,l),o.display){var d=a(o.fontColor,e.defaultFontColor);if(u.font=m,u.save(),u.translate(t.xCenter,t.yCenter),u.rotate(h),o.showLabelBackdrop){var f=u.measureText(n).width;u.fillStyle=o.backdropColor,u.fillRect(-f/2-o.backdropPaddingX,-c-p/2-o.backdropPaddingY,f+2*o.backdropPaddingX,p+2*o.backdropPaddingY)}u.textAlign="center",u.textBaseline="middle",u.fillStyle=d,u.fillText(n,0,-c),u.restore()}}}),(n.angleLines.display||n.pointLabels.display)&&function(t){var n=t.ctx,r=t.options,o=r.angleLines,a=r.pointLabels;n.lineWidth=o.lineWidth,n.strokeStyle=o.color;var u=t.getDistanceFromCenterForValue(r.ticks.reverse?t.min:t.max),h=l(t);n.textBaseline="top";for(var p=s(t)-1;p>=0;p--){if(o.display){var g=t.getPointPosition(p,u);n.beginPath(),n.moveTo(t.xCenter,t.yCenter),n.lineTo(g.x,g.y),n.stroke(),n.closePath()}if(a.display){var v=t.getPointPosition(p,u+5),m=i.valueAtIndexOrDefault(a.fontColor,p,e.defaultFontColor);n.font=h.font,n.fillStyle=m;var y=t.getIndexAngle(p),x=i.toDegrees(y);n.textAlign=c(x),f(x,t._pointLabelSizes[p],v),d(n,t.pointLabels[p]||"",v,h.size)}}}(t)}}});o.registerScaleType("radialLinear",p,n)}},"8TtQ":function(t,e,n){"use strict";var r=n("cdu6"),i=n("tjFV");t.exports=function(){var t=r.extend({getLabels:function(){var t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels},determineDataLimits:function(){var t,e=this,n=e.getLabels();e.minIndex=0,e.maxIndex=n.length-1,void 0!==e.options.ticks.min&&(t=n.indexOf(e.options.ticks.min),e.minIndex=-1!==t?t:e.minIndex),void 0!==e.options.ticks.max&&(t=n.indexOf(e.options.ticks.max),e.maxIndex=-1!==t?t:e.maxIndex),e.min=n[e.minIndex],e.max=n[e.maxIndex]},buildTicks:function(){var t=this,e=t.getLabels();t.ticks=0===t.minIndex&&t.maxIndex===e.length-1?e:e.slice(t.minIndex,t.maxIndex+1)},getLabelForIndex:function(t,e){var n=this,r=n.chart.data,i=n.isHorizontal();return r.yLabels&&!i?n.getRightValue(r.datasets[e].data[t]):n.ticks[t-n.minIndex]},getPixelForValue:function(t,e){var n,r=this,i=r.options.offset,o=Math.max(r.maxIndex+1-r.minIndex-(i?0:1),1);if(void 0!==t&&null!==t&&(n=r.isHorizontal()?t.x:t.y),void 0!==n||void 0!==t&&isNaN(e)){var a=r.getLabels().indexOf(t=n||t);e=-1!==a?a:e}if(r.isHorizontal()){var s=r.width/o,l=s*(e-r.minIndex);return i&&(l+=s/2),r.left+Math.round(l)}var u=r.height/o,c=u*(e-r.minIndex);return i&&(c+=u/2),r.top+Math.round(c)},getPixelForTick:function(t){return this.getPixelForValue(this.ticks[t],t+this.minIndex,null)},getValueForPixel:function(t){var e=this,n=e.options.offset,r=Math.max(e._ticks.length-(n?0:1),1),i=e.isHorizontal(),o=(i?e.width:e.height)/r;return t-=i?e.left:e.top,n&&(t-=o/2),(t<=0?0:Math.round(t/o))+e.minIndex},getBasePixel:function(){return this.bottom}});i.registerScaleType("category",t,{position:"bottom"})}},A5uo:function(t,e,n){"use strict";var r=n("K2E3");e=t.exports=r.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),Object.defineProperty(e.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(e.prototype,"chartInstance",{get:function(){return this.chart},set:function(t){this.chart=t}})},AX6q:function(t,e,n){"use strict";var r=n("CDJp"),i=n("K2E3"),o=n("RDha"),a=n("fELs"),s=o.noop;function l(t,e){return t.usePointStyle?e*Math.SQRT2:t.boxWidth}r._set("global",{legend:{display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(t,e){var n=e.datasetIndex,r=this.chart,i=r.getDatasetMeta(n);i.hidden=null===i.hidden?!r.data.datasets[n].hidden:null,r.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(t){var e=t.data;return o.isArray(e.datasets)?e.datasets.map(function(e,n){return{text:e.label,fillStyle:o.isArray(e.backgroundColor)?e.backgroundColor[0]:e.backgroundColor,hidden:!t.isDatasetVisible(n),lineCap:e.borderCapStyle,lineDash:e.borderDash,lineDashOffset:e.borderDashOffset,lineJoin:e.borderJoinStyle,lineWidth:e.borderWidth,strokeStyle:e.borderColor,pointStyle:e.pointStyle,datasetIndex:n}},this):[]}}},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');for(var n=0;n<t.data.datasets.length;n++)e.push('<li><span style="background-color:'+t.data.datasets[n].backgroundColor+'"></span>'),t.data.datasets[n].label&&e.push(t.data.datasets[n].label),e.push("</li>");return e.push("</ul>"),e.join("")}});var u=i.extend({initialize:function(t){o.extend(this,t),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:s,update:function(t,e,n){var r=this;return r.beforeUpdate(),r.maxWidth=t,r.maxHeight=e,r.margins=n,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeBuildLabels(),r.buildLabels(),r.afterBuildLabels(),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate(),r.minSize},afterUpdate:s,beforeSetDimensions:s,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:s,beforeBuildLabels:s,buildLabels:function(){var t=this,e=t.options.labels||{},n=o.callback(e.generateLabels,[t.chart],t)||[];e.filter&&(n=n.filter(function(n){return e.filter(n,t.chart.data)})),t.options.reverse&&n.reverse(),t.legendItems=n},afterBuildLabels:s,beforeFit:s,fit:function(){var t=this,e=t.options,n=e.labels,i=e.display,a=t.ctx,s=r.global,u=o.valueOrDefault,c=u(n.fontSize,s.defaultFontSize),d=u(n.fontStyle,s.defaultFontStyle),f=u(n.fontFamily,s.defaultFontFamily),h=o.fontString(c,d,f),p=t.legendHitBoxes=[],g=t.minSize,v=t.isHorizontal();if(v?(g.width=t.maxWidth,g.height=i?10:0):(g.width=i?10:0,g.height=t.maxHeight),i)if(a.font=h,v){var m=t.lineWidths=[0],y=t.legendItems.length?c+n.padding:0;a.textAlign="left",a.textBaseline="top",o.each(t.legendItems,function(e,r){var i=l(n,c)+c/2+a.measureText(e.text).width;m[m.length-1]+i+n.padding>=t.width&&(y+=c+n.padding,m[m.length]=t.left),p[r]={left:0,top:0,width:i,height:c},m[m.length-1]+=i+n.padding}),g.height+=y}else{var x=n.padding,b=t.columnWidths=[],k=n.padding,M=0,w=0,C=c+x;o.each(t.legendItems,function(t,e){var r=l(n,c)+c/2+a.measureText(t.text).width;w+C>g.height&&(k+=M+n.padding,b.push(M),M=0,w=0),M=Math.max(M,r),w+=C,p[e]={left:0,top:0,width:r,height:c}}),k+=M,b.push(M),g.width+=k}t.width=g.width,t.height=g.height},afterFit:s,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var t=this,e=t.options,n=e.labels,i=r.global,a=i.elements.line,s=t.width,u=t.lineWidths;if(e.display){var c,d=t.ctx,f=o.valueOrDefault,h=f(n.fontColor,i.defaultFontColor),p=f(n.fontSize,i.defaultFontSize),g=f(n.fontStyle,i.defaultFontStyle),v=f(n.fontFamily,i.defaultFontFamily),m=o.fontString(p,g,v);d.textAlign="left",d.textBaseline="middle",d.lineWidth=.5,d.strokeStyle=h,d.fillStyle=h,d.font=m;var y=l(n,p),x=t.legendHitBoxes,b=t.isHorizontal();c=b?{x:t.left+(s-u[0])/2,y:t.top+n.padding,line:0}:{x:t.left+n.padding,y:t.top+n.padding,line:0};var k=p+n.padding;o.each(t.legendItems,function(r,l){var h=d.measureText(r.text).width,g=y+p/2+h,v=c.x,m=c.y;b?v+g>=s&&(m=c.y+=k,c.line++,v=c.x=t.left+(s-u[c.line])/2):m+k>t.bottom&&(v=c.x=v+t.columnWidths[c.line]+n.padding,m=c.y=t.top+n.padding,c.line++),function(t,n,r){if(!(isNaN(y)||y<=0)){d.save(),d.fillStyle=f(r.fillStyle,i.defaultColor),d.lineCap=f(r.lineCap,a.borderCapStyle),d.lineDashOffset=f(r.lineDashOffset,a.borderDashOffset),d.lineJoin=f(r.lineJoin,a.borderJoinStyle),d.lineWidth=f(r.lineWidth,a.borderWidth),d.strokeStyle=f(r.strokeStyle,i.defaultColor);var s=0===f(r.lineWidth,a.borderWidth);if(d.setLineDash&&d.setLineDash(f(r.lineDash,a.borderDash)),e.labels&&e.labels.usePointStyle){var l=p*Math.SQRT2/2,u=l/Math.SQRT2;o.canvas.drawPoint(d,r.pointStyle,l,t+u,n+u)}else s||d.strokeRect(t,n,y,p),d.fillRect(t,n,y,p);d.restore()}}(v,m,r),x[l].left=v,x[l].top=m,function(t,e,n,r){var i=p/2,o=y+i+t,a=e+i;d.fillText(n.text,o,a),n.hidden&&(d.beginPath(),d.lineWidth=2,d.moveTo(o,a),d.lineTo(o+r,a),d.stroke())}(v,m,r,h),b?c.x+=g+n.padding:c.y+=k})}},handleEvent:function(t){var e=this,n=e.options,r="mouseup"===t.type?"click":t.type,i=!1;if("mousemove"===r){if(!n.onHover)return}else{if("click"!==r)return;if(!n.onClick)return}var o=t.x,a=t.y;if(o>=e.left&&o<=e.right&&a>=e.top&&a<=e.bottom)for(var s=e.legendHitBoxes,l=0;l<s.length;++l){var u=s[l];if(o>=u.left&&o<=u.left+u.width&&a>=u.top&&a<=u.top+u.height){if("click"===r){n.onClick.call(e,t.native,e.legendItems[l]),i=!0;break}if("mousemove"===r){n.onHover.call(e,t.native,e.legendItems[l]),i=!0;break}}}return i}});function c(t,e){var n=new u({ctx:t.ctx,options:e,chart:t});a.configure(t,n,e),a.addBox(t,n),t.legend=n}t.exports={id:"legend",_element:u,beforeInit:function(t){var e=t.options.legend;e&&c(t,e)},beforeUpdate:function(t){var e=t.options.legend,n=t.legend;e?(o.mergeIf(e,r.global.legend),n?(a.configure(t,n,e),n.options=e):c(t,e)):n&&(a.removeBox(t,n),delete t.legend)},afterEvent:function(t,e){var n=t.legend;n&&n.handleEvent(e)}}},As3K:function(t,e,n){"use strict";var r=n("TC34");t.exports={toLineHeight:function(t,e){var n=(""+t).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t},toPadding:function(t){var e,n,i,o;return r.isObject(t)?(e=+t.top||0,n=+t.right||0,i=+t.bottom||0,o=+t.left||0):e=n=i=o=+t||0,{top:e,right:n,bottom:i,left:o,height:e+i,width:o+n}},resolve:function(t,e,n){var i,o,a;for(i=0,o=t.length;i<o;++i)if(void 0!==(a=t[i])&&(void 0!==e&&"function"==typeof a&&(a=a(e)),void 0!==n&&r.isArray(a)&&(a=a[n]),void 0!==a))return a}}},CDJp:function(t,e,n){"use strict";var r=n("RDha");t.exports={_set:function(t,e){return r.merge(this[t]||(this[t]={}),e)}}},G0Q6:function(t,e,n){"use strict";var r=n("CDJp"),i=n("vvH+"),o=n("RDha");r._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}}),t.exports=function(t){function e(t,e){return o.valueOrDefault(t.showLine,e.showLines)}t.controllers.line=t.DatasetController.extend({datasetElementType:i.Line,dataElementType:i.Point,update:function(t){var n,r,i,a=this,s=a.getMeta(),l=s.dataset,u=s.data||[],c=a.chart.options,d=c.elements.line,f=a.getScaleForId(s.yAxisID),h=a.getDataset(),p=e(h,c);for(p&&(i=l.custom||{},void 0!==h.tension&&void 0===h.lineTension&&(h.lineTension=h.tension),l._scale=f,l._datasetIndex=a.index,l._children=u,l._model={spanGaps:h.spanGaps?h.spanGaps:c.spanGaps,tension:i.tension?i.tension:o.valueOrDefault(h.lineTension,d.tension),backgroundColor:i.backgroundColor?i.backgroundColor:h.backgroundColor||d.backgroundColor,borderWidth:i.borderWidth?i.borderWidth:h.borderWidth||d.borderWidth,borderColor:i.borderColor?i.borderColor:h.borderColor||d.borderColor,borderCapStyle:i.borderCapStyle?i.borderCapStyle:h.borderCapStyle||d.borderCapStyle,borderDash:i.borderDash?i.borderDash:h.borderDash||d.borderDash,borderDashOffset:i.borderDashOffset?i.borderDashOffset:h.borderDashOffset||d.borderDashOffset,borderJoinStyle:i.borderJoinStyle?i.borderJoinStyle:h.borderJoinStyle||d.borderJoinStyle,fill:i.fill?i.fill:void 0!==h.fill?h.fill:d.fill,steppedLine:i.steppedLine?i.steppedLine:o.valueOrDefault(h.steppedLine,d.stepped),cubicInterpolationMode:i.cubicInterpolationMode?i.cubicInterpolationMode:o.valueOrDefault(h.cubicInterpolationMode,d.cubicInterpolationMode)},l.pivot()),n=0,r=u.length;n<r;++n)a.updateElement(u[n],n,t);for(p&&0!==l._model.tension&&a.updateBezierControlPoints(),n=0,r=u.length;n<r;++n)u[n].pivot()},getPointBackgroundColor:function(t,e){var n=this.chart.options.elements.point.backgroundColor,r=this.getDataset(),i=t.custom||{};return i.backgroundColor?n=i.backgroundColor:r.pointBackgroundColor?n=o.valueAtIndexOrDefault(r.pointBackgroundColor,e,n):r.backgroundColor&&(n=r.backgroundColor),n},getPointBorderColor:function(t,e){var n=this.chart.options.elements.point.borderColor,r=this.getDataset(),i=t.custom||{};return i.borderColor?n=i.borderColor:r.pointBorderColor?n=o.valueAtIndexOrDefault(r.pointBorderColor,e,n):r.borderColor&&(n=r.borderColor),n},getPointBorderWidth:function(t,e){var n=this.chart.options.elements.point.borderWidth,r=this.getDataset(),i=t.custom||{};return isNaN(i.borderWidth)?!isNaN(r.pointBorderWidth)||o.isArray(r.pointBorderWidth)?n=o.valueAtIndexOrDefault(r.pointBorderWidth,e,n):isNaN(r.borderWidth)||(n=r.borderWidth):n=i.borderWidth,n},getPointRotation:function(t,e){var n=this.chart.options.elements.point.rotation,r=this.getDataset(),i=t.custom||{};return isNaN(i.rotation)?isNaN(r.pointRotation)&&!o.isArray(r.pointRotation)||(n=o.valueAtIndexOrDefault(r.pointRotation,e,n)):n=i.rotation,n},updateElement:function(t,e,n){var r,i,a=this,s=a.getMeta(),l=t.custom||{},u=a.getDataset(),c=a.index,d=u.data[e],f=a.getScaleForId(s.yAxisID),h=a.getScaleForId(s.xAxisID),p=a.chart.options.elements.point;void 0!==u.radius&&void 0===u.pointRadius&&(u.pointRadius=u.radius),void 0!==u.hitRadius&&void 0===u.pointHitRadius&&(u.pointHitRadius=u.hitRadius),r=h.getPixelForValue("object"==typeof d?d:NaN,e,c),i=n?f.getBasePixel():a.calculatePointY(d,e,c),t._xScale=h,t._yScale=f,t._datasetIndex=c,t._index=e,t._model={x:r,y:i,skip:l.skip||isNaN(r)||isNaN(i),radius:l.radius||o.valueAtIndexOrDefault(u.pointRadius,e,p.radius),pointStyle:l.pointStyle||o.valueAtIndexOrDefault(u.pointStyle,e,p.pointStyle),rotation:a.getPointRotation(t,e),backgroundColor:a.getPointBackgroundColor(t,e),borderColor:a.getPointBorderColor(t,e),borderWidth:a.getPointBorderWidth(t,e),tension:s.dataset._model?s.dataset._model.tension:0,steppedLine:!!s.dataset._model&&s.dataset._model.steppedLine,hitRadius:l.hitRadius||o.valueAtIndexOrDefault(u.pointHitRadius,e,p.hitRadius)}},calculatePointY:function(t,e,n){var r,i,o,a=this.chart,s=this.getMeta(),l=this.getScaleForId(s.yAxisID),u=0,c=0;if(l.options.stacked){for(r=0;r<n;r++)if(i=a.data.datasets[r],"line"===(o=a.getDatasetMeta(r)).type&&o.yAxisID===l.id&&a.isDatasetVisible(r)){var d=Number(l.getRightValue(i.data[e]));d<0?c+=d||0:u+=d||0}var f=Number(l.getRightValue(t));return l.getPixelForValue(f<0?c+f:u+f)}return l.getPixelForValue(t)},updateBezierControlPoints:function(){var t,e,n,r,i=this.getMeta(),a=this.chart.chartArea,s=i.data||[];function l(t,e,n){return Math.max(Math.min(t,n),e)}if(i.dataset._model.spanGaps&&(s=s.filter(function(t){return!t._model.skip})),"monotone"===i.dataset._model.cubicInterpolationMode)o.splineCurveMonotone(s);else for(t=0,e=s.length;t<e;++t)n=s[t]._model,r=o.splineCurve(o.previousItem(s,t)._model,n,o.nextItem(s,t)._model,i.dataset._model.tension),n.controlPointPreviousX=r.previous.x,n.controlPointPreviousY=r.previous.y,n.controlPointNextX=r.next.x,n.controlPointNextY=r.next.y;if(this.chart.options.elements.line.capBezierPoints)for(t=0,e=s.length;t<e;++t)(n=s[t]._model).controlPointPreviousX=l(n.controlPointPreviousX,a.left,a.right),n.controlPointPreviousY=l(n.controlPointPreviousY,a.top,a.bottom),n.controlPointNextX=l(n.controlPointNextX,a.left,a.right),n.controlPointNextY=l(n.controlPointNextY,a.top,a.bottom)},draw:function(){var t,n=this.chart,r=this.getMeta(),i=r.data||[],a=n.chartArea,s=i.length,l=0;for(e(this.getDataset(),n.options)&&(o.canvas.clipArea(n.ctx,{left:a.left,right:a.right,top:a.top-(t=(r.dataset._model.borderWidth||0)/2),bottom:a.bottom+t}),r.dataset.draw(),o.canvas.unclipArea(n.ctx));l<s;++l)i[l].draw(a)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,r=t.custom||{},i=t._model;t.$previousStyle={backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:i.borderWidth,radius:i.radius},i.backgroundColor=r.hoverBackgroundColor||o.valueAtIndexOrDefault(e.pointHoverBackgroundColor,n,o.getHoverColor(i.backgroundColor)),i.borderColor=r.hoverBorderColor||o.valueAtIndexOrDefault(e.pointHoverBorderColor,n,o.getHoverColor(i.borderColor)),i.borderWidth=r.hoverBorderWidth||o.valueAtIndexOrDefault(e.pointHoverBorderWidth,n,i.borderWidth),i.radius=r.hoverRadius||o.valueAtIndexOrDefault(e.pointHoverRadius,n,this.chart.options.elements.point.hoverRadius)}})}},Hg4g:function(t,e){t.exports={acquireContext:function(t){return t&&t.canvas&&(t=t.canvas),t&&t.getContext("2d")||null}}},K2E3:function(t,e,n){"use strict";var r=n("6ww4"),i=n("RDha"),o=function(t){i.extend(this,t),this.initialize.apply(this,arguments)};i.extend(o.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var t=this;return t._view||(t._view=i.clone(t._model)),t._start={},t},transition:function(t){var e=this,n=e._model,i=e._start,o=e._view;return n&&1!==t?(o||(o=e._view={}),i||(i=e._start={}),function(t,e,n,i){var o,a,s,l,u,c,d,f,h,p=Object.keys(n);for(o=0,a=p.length;o<a;++o)if(c=n[s=p[o]],e.hasOwnProperty(s)||(e[s]=c),(l=e[s])!==c&&"_"!==s[0]){if(t.hasOwnProperty(s)||(t[s]=l),(d=typeof c)==typeof(u=t[s]))if("string"===d){if((f=r(u)).valid&&(h=r(c)).valid){e[s]=h.mix(f,i).rgbString();continue}}else if("number"===d&&isFinite(u)&&isFinite(c)){e[s]=u+(c-u)*i;continue}e[s]=c}}(i,o,n,t),e):(e._view=n,e._start=null,e)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return i.isNumber(this._model.x)&&i.isNumber(this._model.y)}}),o.extend=i.inherits,t.exports=o},KAQS:function(t,e,n){"use strict";var r=n("RDha");t.exports=function(t){var e=["push","pop","shift","splice","unshift"];function n(t,n){var r=t._chartjs;if(r){var i=r.listeners,o=i.indexOf(n);-1!==o&&i.splice(o,1),i.length>0||(e.forEach(function(e){delete t[e]}),delete t._chartjs)}}t.DatasetController=function(t,e){this.initialize(t,e)},r.extend(t.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(t,e){this.chart=t,this.index=e,this.linkScales(),this.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){var t=this,e=t.getMeta(),n=t.getDataset();null!==e.xAxisID&&e.xAxisID in t.chart.scales||(e.xAxisID=n.xAxisID||t.chart.options.scales.xAxes[0].id),null!==e.yAxisID&&e.yAxisID in t.chart.scales||(e.yAxisID=n.yAxisID||t.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},reset:function(){this.update(!0)},destroy:function(){this._data&&n(this._data,this)},createMetaDataset:function(){var t=this.datasetElementType;return t&&new t({_chart:this.chart,_datasetIndex:this.index})},createMetaData:function(t){var e=this.dataElementType;return e&&new e({_chart:this.chart,_datasetIndex:this.index,_index:t})},addElements:function(){var t,e,n=this.getMeta(),r=this.getDataset().data||[],i=n.data;for(t=0,e=r.length;t<e;++t)i[t]=i[t]||this.createMetaData(t);n.dataset=n.dataset||this.createMetaDataset()},addElementAndReset:function(t){var e=this.createMetaData(t);this.getMeta().data.splice(t,0,e),this.updateElement(e,t,!0)},buildOrUpdateElements:function(){var t,i,o=this,a=o.getDataset(),s=a.data||(a.data=[]);o._data!==s&&(o._data&&n(o._data,o),i=o,(t=s)._chartjs?t._chartjs.listeners.push(i):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),e.forEach(function(e){var n="onData"+e.charAt(0).toUpperCase()+e.slice(1),i=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:function(){var e=Array.prototype.slice.call(arguments),o=i.apply(this,e);return r.each(t._chartjs.listeners,function(t){"function"==typeof t[n]&&t[n].apply(t,e)}),o}})})),o._data=s),o.resyncElements()},update:r.noop,transition:function(t){for(var e=this.getMeta(),n=e.data||[],r=n.length,i=0;i<r;++i)n[i].transition(t);e.dataset&&e.dataset.transition(t)},draw:function(){var t=this.getMeta(),e=t.data||[],n=e.length,r=0;for(t.dataset&&t.dataset.draw();r<n;++r)e[r].draw()},removeHoverStyle:function(t){r.merge(t._model,t.$previousStyle||{}),delete t.$previousStyle},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,i=t.custom||{},o=r.valueAtIndexOrDefault,a=r.getHoverColor,s=t._model;t.$previousStyle={backgroundColor:s.backgroundColor,borderColor:s.borderColor,borderWidth:s.borderWidth},s.backgroundColor=i.hoverBackgroundColor?i.hoverBackgroundColor:o(e.hoverBackgroundColor,n,a(s.backgroundColor)),s.borderColor=i.hoverBorderColor?i.hoverBorderColor:o(e.hoverBorderColor,n,a(s.borderColor)),s.borderWidth=i.hoverBorderWidth?i.hoverBorderWidth:o(e.hoverBorderWidth,n,s.borderWidth)},resyncElements:function(){var t=this.getMeta(),e=this.getDataset().data,n=t.data.length,r=e.length;r<n?t.data.splice(r,n-r):r>n&&this.insertElements(n,r-n)},insertElements:function(t,e){for(var n=0;n<e;++n)this.addElementAndReset(t+n)},onDataPush:function(){this.insertElements(this.getDataset().data.length-1,arguments.length)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(t,e){this.getMeta().data.splice(t,e),this.insertElements(t,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),t.DatasetController.extend=r.inherits}},ODdm:function(t,e,n){"use strict";t.exports=function(t){t.Bar=function(e,n){return n.type="bar",new t(e,n)}}},OXbD:function(t,e,n){"use strict";var r=n("CDJp"),i=n("K2E3"),o=n("RDha"),a=r.global.defaultColor;function s(t){var e=this._view;return!!e&&Math.abs(t-e.x)<e.radius+e.hitRadius}r._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:a,borderColor:a,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}}),t.exports=i.extend({inRange:function(t,e){var n=this._view;return!!n&&Math.pow(t-n.x,2)+Math.pow(e-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:s,inXRange:s,inYRange:function(t){var e=this._view;return!!e&&Math.abs(t-e.y)<e.radius+e.hitRadius},getCenterPoint:function(){var t=this._view;return{x:t.x,y:t.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(t){var e=this._view,n=this._model,i=this._chart.ctx,s=e.pointStyle,l=e.rotation,u=e.radius,c=e.x,d=e.y;e.skip||(void 0===t||n.x>=t.left&&1.01*t.right>=n.x&&n.y>=t.top&&1.01*t.bottom>=n.y)&&(i.strokeStyle=e.borderColor||a,i.lineWidth=o.valueOrDefault(e.borderWidth,r.global.elements.point.borderWidth),i.fillStyle=e.backgroundColor||a,o.canvas.drawPoint(i,s,u,c,d,l))}})},QdOl:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){this.colorConfig={colors:{primary:"#7774e7",info:"#0f9aee",success:"#37c936",warning:"#ffcc00",danger:"#ff3c7e",primaryInverse:"rgba(119, 116, 231, 0.1)",infoInverse:"rgba(15, 154, 238, 0.1)",successInverse:"rgba(55, 201, 54, 0.1)",warningInverse:"rgba(255, 204, 0, 0.1)",dangerInverse:"rgba(255, 60, 126, 0.1)",gray:"#ebeef6",white:"#ffffff",dark:"#515365"}}}return t.prototype.get=function(){return this.colorConfig},t}()},Qexa:function(t,e,n){"use strict";t.exports=function(t){t.Bubble=function(e,n){return n.type="bubble",new t(e,n)}}},RCHg:function(t,e,n){"use strict";var r=n("wd/R");r="function"==typeof r?r:window.moment;var i=n("CDJp"),o=n("RDha"),a=n("cdu6"),s=n("tjFV"),l=Number.MIN_SAFE_INTEGER||-9007199254740991,u=Number.MAX_SAFE_INTEGER||9007199254740991,c={millisecond:{common:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{common:!0,size:1e3,steps:[1,2,5,10,15,30]},minute:{common:!0,size:6e4,steps:[1,2,5,10,15,30]},hour:{common:!0,size:36e5,steps:[1,2,3,6,12]},day:{common:!0,size:864e5,steps:[1,2,5]},week:{common:!1,size:6048e5,steps:[1,2,3,4]},month:{common:!0,size:2628e6,steps:[1,2,3]},quarter:{common:!1,size:7884e6,steps:[1,2,3,4]},year:{common:!0,size:3154e7}},d=Object.keys(c);function f(t,e){return t-e}function h(t){var e,n,r,i={},o=[];for(e=0,n=t.length;e<n;++e)i[r=t[e]]||(i[r]=!0,o.push(r));return o}function p(t,e,n,r){var i=function(t,e,n){for(var r,i,o,a=0,s=t.length-1;a>=0&&a<=s;){if(o=t[r=a+s>>1],!(i=t[r-1]||null))return{lo:null,hi:o};if(o[e]<n)a=r+1;else{if(!(i[e]>n))return{lo:i,hi:o};s=r-1}}return{lo:o,hi:null}}(t,e,n),o=i.lo?i.hi?i.lo:t[t.length-2]:t[0],a=i.lo?i.hi?i.hi:t[t.length-1]:t[1],s=a[e]-o[e];return o[r]+(a[r]-o[r])*(s?(n-o[e])/s:0)}function g(t,e){var n=e.parser,i=e.parser||e.format;return"function"==typeof n?n(t):"string"==typeof t&&"string"==typeof i?r(t,i):(t instanceof r||(t=r(t)),t.isValid()?t:"function"==typeof i?i(t):t)}function v(t,e){if(o.isNullOrUndef(t))return null;var n=e.options.time,r=g(e.getRightValue(t),n);return r.isValid()?(n.round&&r.startOf(n.round),r.valueOf()):null}function m(t){for(var e=d.indexOf(t)+1,n=d.length;e<n;++e)if(c[d[e]].common)return d[e]}t.exports=function(){var t=a.extend({initialize:function(){if(!r)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");this.mergeTicksOptions(),a.prototype.initialize.call(this)},update:function(){var t=this.options;return t.time&&t.time.format&&console.warn("options.time.format is deprecated and replaced by options.time.parser."),a.prototype.update.apply(this,arguments)},getRightValue:function(t){return t&&void 0!==t.t&&(t=t.t),a.prototype.getRightValue.call(this,t)},determineDataLimits:function(){var t,e,n,i,a,s,c=this,d=c.chart,p=c.options.time,g=p.unit||"day",m=u,y=l,x=[],b=[],k=[];for(t=0,n=d.data.labels.length;t<n;++t)k.push(v(d.data.labels[t],c));for(t=0,n=(d.data.datasets||[]).length;t<n;++t)if(d.isDatasetVisible(t))if(o.isObject((a=d.data.datasets[t].data)[0]))for(b[t]=[],e=0,i=a.length;e<i;++e)s=v(a[e],c),x.push(s),b[t][e]=s;else x.push.apply(x,k),b[t]=k.slice(0);else b[t]=[];k.length&&(k=h(k).sort(f),m=Math.min(m,k[0]),y=Math.max(y,k[k.length-1])),x.length&&(x=h(x).sort(f),m=Math.min(m,x[0]),y=Math.max(y,x[x.length-1])),m=v(p.min,c)||m,y=v(p.max,c)||y,m=m===u?+r().startOf(g):m,y=y===l?+r().endOf(g)+1:y,c.min=Math.min(m,y),c.max=Math.max(m+1,y),c._horizontal=c.isHorizontal(),c._table=[],c._timestamps={data:x,datasets:b,labels:k}},buildTicks:function(){var t,e,n,i=this,a=i.min,s=i.max,l=i.options,f=l.time,h=[],y=[];switch(l.ticks.source){case"data":h=i._timestamps.data;break;case"labels":h=i._timestamps.labels;break;case"auto":default:h=function(t,e,n,i){var a,s=i.time,l=s.unit||function(t,e,n,r){var i,o,a=d.length;for(i=d.indexOf(s.minUnit);i<a-1;++i)if((o=c[d[i]]).common&&Math.ceil((n-e)/((o.steps?o.steps[o.steps.length-1]:u)*o.size))<=r)return d[i];return d[a-1]}(0,t,e,n),f=m(l),h=o.valueOrDefault(s.stepSize,s.unitStepSize),p="week"===l&&s.isoWeekday,g=i.ticks.major.enabled,v=c[l],y=r(t),x=r(e),b=[];for(h||(h=function(t,e,n,r){var i,o,a,s=e-t,u=c[l],d=u.size,f=u.steps;if(!f)return Math.ceil(s/(r*d));for(i=0,o=f.length;i<o&&(a=f[i],!(Math.ceil(s/(d*a))<=r));++i);return a}(t,e,0,n)),p&&(y=y.isoWeekday(p),x=x.isoWeekday(p)),y=y.startOf(p?"day":l),(x=x.startOf(p?"day":l))<e&&x.add(1,l),a=r(y),g&&f&&!p&&!s.round&&(a.startOf(f),a.add(~~((y-a)/(v.size*h))*h,l));a<x;a.add(h,l))b.push(+a);return b.push(+a),b}(a,s,i.getLabelCapacity(a),l)}for("ticks"===l.bounds&&h.length&&(a=h[0],s=h[h.length-1]),a=v(f.min,i)||a,s=v(f.max,i)||s,t=0,e=h.length;t<e;++t)(n=h[t])>=a&&n<=s&&y.push(n);return i.min=a,i.max=s,i._unit=f.unit||function(t,e,n,o){var a,s,l=r.duration(r(i.max).diff(r(n)));for(a=d.length-1;a>=d.indexOf(e);a--)if(c[s=d[a]].common&&l.as(s)>=t.length)return s;return d[e?d.indexOf(e):0]}(y,f.minUnit,i.min),i._majorUnit=m(i._unit),i._table=function(t,e,n,r){if("linear"===l.distribution||!t.length)return[{time:e,pos:0},{time:n,pos:1}];var i,o,a,s,u,c=[],d=[e];for(i=0,o=t.length;i<o;++i)(s=t[i])>e&&s<n&&d.push(s);for(d.push(n),i=0,o=d.length;i<o;++i)u=d[i+1],s=d[i],void 0!==(a=d[i-1])&&void 0!==u&&Math.round((u+a)/2)===s||c.push({time:s,pos:i/(o-1)});return c}(i._timestamps.data,a,s),i._offsets=function(t,e,n,r,i){var o,a,s=0,l=0;return i.offset&&e.length&&(i.time.min||(a=e[0],s=(p(t,"time",o=e.length>1?e[1]:r,"pos")-p(t,"time",a,"pos"))/2),i.time.max||(o=e[e.length-1],a=e.length>1?e[e.length-2]:n,l=(p(t,"time",o,"pos")-p(t,"time",a,"pos"))/2)),{left:s,right:l}}(i._table,y,a,s,l),i._labelFormat=function(t,e){var n,r,i,o=t.length;for(n=0;n<o;n++){if(0!==(r=g(t[n],e)).millisecond())return"MMM D, YYYY h:mm:ss.SSS a";0===r.second()&&0===r.minute()&&0===r.hour()||(i=!0)}return i?"MMM D, YYYY h:mm:ss a":"MMM D, YYYY"}(i._timestamps.data,f),function(t,e){var n,i,o,a,s=[];for(n=0,i=t.length;n<i;++n)o=t[n],a=!!e&&o===+r(o).startOf(e),s.push({value:o,major:a});return s}(y,i._majorUnit)},getLabelForIndex:function(t,e){var n=this.chart.data,r=this.options.time,i=n.labels&&t<n.labels.length?n.labels[t]:"",a=n.datasets[e].data[t];return o.isObject(a)&&(i=this.getRightValue(a)),r.tooltipFormat?g(i,r).format(r.tooltipFormat):"string"==typeof i?i:g(i,r).format(this._labelFormat)},tickFormatFunction:function(t,e,n,r){var i=this.options,a=t.valueOf(),s=i.time.displayFormats,l=s[this._unit],u=this._majorUnit,c=s[u],d=t.clone().startOf(u).valueOf(),f=i.ticks.major,h=f.enabled&&u&&c&&a===d,p=t.format(r||(h?c:l)),g=h?f:i.ticks.minor,v=o.valueOrDefault(g.callback,g.userCallback);return v?v(p,e,n):p},convertTicksToLabels:function(t){var e,n,i=[];for(e=0,n=t.length;e<n;++e)i.push(this.tickFormatFunction(r(t[e].value),e,t));return i},getPixelForOffset:function(t){var e=this,n=e._horizontal?e.width:e.height,r=e._horizontal?e.left:e.top,i=p(e._table,"time",t,"pos");return r+n*(e._offsets.left+i)/(e._offsets.left+1+e._offsets.right)},getPixelForValue:function(t,e,n){var r=null;if(void 0!==e&&void 0!==n&&(r=this._timestamps.datasets[n][e]),null===r&&(r=v(t,this)),null!==r)return this.getPixelForOffset(r)},getPixelForTick:function(t){var e=this.getTicks();return t>=0&&t<e.length?this.getPixelForOffset(e[t].value):null},getValueForPixel:function(t){var e=this,n=e._horizontal?e.width:e.height,i=p(e._table,"pos",(n?(t-(e._horizontal?e.left:e.top))/n:0)*(e._offsets.left+1+e._offsets.left)-e._offsets.right,"time");return r(i)},getLabelWidth:function(t){var e=this.options.ticks,n=this.ctx.measureText(t).width,r=o.toRadians(e.maxRotation),a=Math.cos(r),s=Math.sin(r);return n*a+o.valueOrDefault(e.fontSize,i.global.defaultFontSize)*s},getLabelCapacity:function(t){var e=this,n=e.options.time.displayFormats.millisecond,i=e.tickFormatFunction(r(t),0,[],n),o=e.getLabelWidth(i),a=e.isHorizontal()?e.width:e.height,s=Math.floor(a/o);return s>0?s:1}});s.registerScaleType("time",t,{position:"bottom",distribution:"linear",bounds:"data",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}})}},RDha:function(t,e,n){"use strict";t.exports=n("TC34"),t.exports.easing=n("u0Op"),t.exports.canvas=n("Sfow"),t.exports.options=n("As3K")},"S3/U":function(t,e,n){"use strict";t.exports=function(t){t.Scatter=function(e,n){return n.type="scatter",new t(e,n)}}},S4HQ:function(t,e,n){var r;(r={dev:!1}).tooltip=r.tooltip||{},r.utils=r.utils||{},r.models=r.models||{},r.charts={},r.logs={},r.dom={},void 0!==t&&void 0!==e&&"undefined"==typeof d3&&(d3=n("VphZ")),r.dispatch=d3.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),r.dev&&(r.dispatch.on("render_start",function(t){r.logs.startTime=+new Date}),r.dispatch.on("render_end",function(t){r.logs.endTime=+new Date,r.logs.totalTime=r.logs.endTime-r.logs.startTime,r.log("total",r.logs.totalTime)})),r.log=function(){return r.dev&&window.console&&console.log&&console.log.apply?console.log.apply(console,arguments):r.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind&&Function.prototype.bind.call(console.log,console).apply(console,arguments),arguments[arguments.length-1]},r.deprecated=function(t,e){console&&console.warn&&console.warn("nvd3 warning: `"+t+"` has been deprecated. ",e||"")},r.render=function(t){t=t||1,r.render.active=!0,r.dispatch.render_start();var e=function(){for(var n,i,o=0;o<t&&(i=r.render.queue[o]);o++)n=i.generate(),typeof i.callback==typeof Function&&i.callback(n);r.render.queue.splice(0,o),r.render.queue.length?setTimeout(e):(r.dispatch.render_end(),r.render.active=!1)};setTimeout(e)},r.render.active=!1,r.render.queue=[],r.addGraph=function(t){typeof arguments[0]==typeof Function&&(t={generate:arguments[0],callback:arguments[1]}),r.render.queue.push(t),r.render.active||r.render()},t.exports=r,"undefined"!=typeof window&&(window.nv=r),r.dom.write=function(t){return void 0!==window.fastdom?fastdom.mutate(t):t()},r.dom.read=function(t){return void 0!==window.fastdom?fastdom.measure(t):t()},r.interactiveGuideline=function(){"use strict";var t={left:0,top:0},e=null,n=null,i=d3.scale.linear(),o=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick","elementMouseDown","elementMouseUp"),a=!0,s=null,l=r.models.tooltip(),u=window.ActiveXObject;function c(d){d.each(function(d){var f=d3.select(this),h=e||960,p=n||400,g=f.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([d]);function v(){var e=d3.event.clientX-this.getBoundingClientRect().left,n=d3.event.clientY-this.getBoundingClientRect().top,r=!0,a=!1;if(u&&(e=d3.event.offsetX,n=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(r=!1),d3.event.target.className.baseVal.match("nv-legend")&&(a=!0)),r&&(e-=t.left,n-=t.top),"mouseout"===d3.event.type||e<0||n<0||e>h||n>p||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||a){if(u&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&(void 0===d3.event.relatedTarget.className||d3.event.relatedTarget.className.match(l.nvPointerEventsClass)))return;return o.elementMouseout({mouseX:e,mouseY:n}),c.renderGuideLine(null),void l.hidden(!0)}l.hidden(!1);var s=void 0;if("function"==typeof i.rangeBands){var d=d3.bisect(i.range(),e)-1;if(!(i.range()[d]+i.rangeBand()>=e))return o.elementMouseout({mouseX:e,mouseY:n}),c.renderGuideLine(null),void l.hidden(!0);s=i.domain()[d3.bisect(i.range(),e)-1]}else s=i.invert(e);o.elementMousemove({mouseX:e,mouseY:n,pointXValue:s}),"dblclick"===d3.event.type&&o.elementDblclick({mouseX:e,mouseY:n,pointXValue:s}),"click"===d3.event.type&&o.elementClick({mouseX:e,mouseY:n,pointXValue:s}),"mousedown"===d3.event.type&&o.elementMouseDown({mouseX:e,mouseY:n,pointXValue:s}),"mouseup"===d3.event.type&&o.elementMouseUp({mouseX:e,mouseY:n,pointXValue:s})}g.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine"),s&&(s.on("touchmove",v).on("mousemove",v,!0).on("mouseout",v,!0).on("mousedown",v,!0).on("mouseup",v,!0).on("dblclick",v).on("click",v),c.guideLine=null,c.renderGuideLine=function(t){a&&(c.guideLine&&c.guideLine.attr("x1")===t||r.dom.write(function(){var e=g.select(".nv-interactiveGuideLine").selectAll("line").data(null!=t?[r.utils.NaNtoZero(t)]:[],String);e.enter().append("line").attr("class","nv-guideline").attr("x1",function(t){return t}).attr("x2",function(t){return t}).attr("y1",p).attr("y2",0),e.exit().remove()}))})})}return l.duration(0).hideDelay(0).hidden(!1),c.dispatch=o,c.tooltip=l,c.margin=function(e){return arguments.length?(t.top=void 0!==e.top?e.top:t.top,t.left=void 0!==e.left?e.left:t.left,c):t},c.width=function(t){return arguments.length?(e=t,c):e},c.height=function(t){return arguments.length?(n=t,c):n},c.xScale=function(t){return arguments.length?(i=t,c):i},c.showGuideLine=function(t){return arguments.length?(a=t,c):a},c.svgContainer=function(t){return arguments.length?(s=t,c):s},c},r.interactiveBisect=function(t,e,n){"use strict";if(!(t instanceof Array))return null;var r;r="function"!=typeof n?function(t){return t.x}:n;var i=d3.bisector(function(t,e){return r(t)-e}).left,o=d3.max([0,i(t,e)-1]),a=r(t[o]);if(void 0===a&&(a=o),a===e)return o;var s=d3.min([o+1,t.length-1]),l=r(t[s]);return void 0===l&&(l=s),Math.abs(l-e)>=Math.abs(a-e)?o:s},r.nearestValueIndex=function(t,e,n){"use strict";var r=1/0,i=null;return t.forEach(function(t,o){var a=Math.abs(e-t);null!=t&&a<=r&&a<n&&(r=a,i=o)}),i},r.models.tooltip=function(){"use strict";var t="nvtooltip-"+Math.floor(1e5*Math.random()),e=null,n="w",i=25,o=0,a=null,s=!0,l=200,u=null,c={left:null,top:null},d=!0,f=100,h=!0,p="nv-pointer-events-none",g=function(t,e,n){return t},v=function(t){return t},m=function(t,e){return t},y=function(t,e){if(null===t)return"";var n=d3.select(document.createElement("table"));h&&n.selectAll("thead").data([t]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(v(t.value));var r=n.selectAll("tbody").data([t]).enter().append("tbody").selectAll("tr").data(function(t){return t.series}).enter().append("tr").classed("highlight",function(t){return t.highlight});r.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(t){return t.color}),r.append("td").classed("key",!0).classed("total",function(t){return!!t.total}).html(function(t,e){return m(t.key,e)}),r.append("td").classed("value",!0).html(function(t,e){return g(t.value,e,t)}),r.filter(function(t,e){return void 0!==t.percent}).append("td").classed("percent",!0).html(function(t,e){return"("+d3.format("%")(t.percent)+")"}),r.selectAll("td").each(function(t){if(t.highlight){var e=d3.scale.linear().domain([0,1]).range(["#fff",t.color]);d3.select(this).style("border-bottom-color",e(.6)).style("border-top-color",e(.6))}});var i=n.node().outerHTML;return void 0!==t.footer&&(i+="<div class='footer'>"+t.footer+"</div>"),i},x=function(){var t={left:null!==d3.event?d3.event.clientX:0,top:null!==d3.event?d3.event.clientY:0};if("none"!=getComputedStyle(document.body).transform){var e=document.body.getBoundingClientRect();t.left-=e.left,t.top-=e.top}return t},b=function(t){if(t&&t.series){if(r.utils.isArray(t.series))return!0;if(r.utils.isObject(t.series))return t.series=[t.series],!0}return!1},k=function(){r.dom.read(function(){var t=x(),e=function(t){var e,r,o,a=u.node().offsetHeight,s=u.node().offsetWidth,l=document.documentElement.clientWidth,c=document.documentElement.clientHeight;switch(n){case"e":r=-a/2,t.left+(e=-s-i)<0&&(e=i),(o=t.top+r)<0&&(r-=o),(o=t.top+r+a)>c&&(r-=o-c);break;case"w":r=-a/2,t.left+(e=i)+s>l&&(e=-s-i),(o=t.top+r)<0&&(r-=o),(o=t.top+r+a)>c&&(r-=o-c);break;case"n":e=-s/2-5,t.top+(r=i)+a>c&&(r=-a-i),(o=t.left+e)<0&&(e-=o),(o=t.left+e+s)>l&&(e-=o-l);break;case"s":e=-s/2,t.top+(r=-a-i)<0&&(r=i),(o=t.left+e)<0&&(e-=o),(o=t.left+e+s)>l&&(e-=o-l);break;case"center":e=-s/2,r=-a/2;break;default:e=0,r=0}return{left:e,top:r}}(t),r=t.left+e.left,o=t.top+e.top;if(s)u.interrupt().transition().delay(l).duration(0).style("opacity",0);else{var a="translate("+c.left+"px, "+c.top+"px)",d="translate("+Math.round(r)+"px, "+Math.round(o)+"px)",h=d3.interpolateString(a,d),p=u.style("opacity")<.1;u.interrupt().transition().duration(p?0:f).styleTween("transform",function(t){return h},"important").styleTween("-webkit-transform",function(t){return h}).style("-ms-transform",d).style("opacity",1)}c.left=r,c.top=o})};function M(){if(d&&b(e))return r.dom.write(function(){u&&u.node()||((u=d3.select(document.body).select("#"+t).data([1])).enter().append("div").attr("class","nvtooltip "+(a||"xy-tooltip")).attr("id",t).style("top",0).style("left",0).style("opacity",0).style("position","fixed").selectAll("div, table, td, tr").classed(p,!0).classed(p,!0),u.exit().remove());var n=y(e,u.node());n&&(u.node().innerHTML=n),k()}),M}return M.nvPointerEventsClass=p,M.options=r.utils.optionsFunc.bind(M),M._options=Object.create({},{duration:{get:function(){return f},set:function(t){f=t}},gravity:{get:function(){return n},set:function(t){n=t}},distance:{get:function(){return i},set:function(t){i=t}},snapDistance:{get:function(){return o},set:function(t){o=t}},classes:{get:function(){return a},set:function(t){a=t}},enabled:{get:function(){return d},set:function(t){d=t}},hideDelay:{get:function(){return l},set:function(t){l=t}},contentGenerator:{get:function(){return y},set:function(t){y=t}},valueFormatter:{get:function(){return g},set:function(t){g=t}},headerFormatter:{get:function(){return v},set:function(t){v=t}},keyFormatter:{get:function(){return m},set:function(t){m=t}},headerEnabled:{get:function(){return h},set:function(t){h=t}},position:{get:function(){return x},set:function(t){x=t}},chartContainer:{get:function(){return document.body},set:function(t){r.deprecated("chartContainer","feature removed after 1.8.3")}},fixedTop:{get:function(){return null},set:function(t){r.deprecated("fixedTop","feature removed after 1.8.1")}},offset:{get:function(){return{left:0,top:0}},set:function(t){r.deprecated("offset","use chart.tooltip.distance() instead")}},hidden:{get:function(){return s},set:function(t){s!=t&&(s=!!t,M())}},data:{get:function(){return e},set:function(t){t.point&&(t.value=t.point.x,t.series=t.series||{},t.series.value=t.point.y,t.series.color=t.point.color||t.series.color),e=t}},node:{get:function(){return u.node()},set:function(t){}},id:{get:function(){return t},set:function(t){}}}),r.utils.initOptions(M),M},r.utils.windowSize=function(){var t={width:640,height:480};return window.innerWidth&&window.innerHeight?(t.width=window.innerWidth,t.height=window.innerHeight,t):"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(t.width=document.documentElement.offsetWidth,t.height=document.documentElement.offsetHeight,t):document.body&&document.body.offsetWidth?(t.width=document.body.offsetWidth,t.height=document.body.offsetHeight,t):t},r.utils.isArray=Array.isArray,r.utils.isObject=function(t){return null!==t&&"object"==typeof t},r.utils.isFunction=function(t){return"function"==typeof t},r.utils.isDate=function(t){return"[object Date]"===toString.call(t)},r.utils.isNumber=function(t){return!isNaN(t)&&"number"==typeof t},r.utils.windowResize=function(t){return window.addEventListener?window.addEventListener("resize",t):r.log("ERROR: Failed to bind to window.resize with: ",t),{callback:t,clear:function(){window.removeEventListener("resize",t)}}},r.utils.getColor=function(t){if(void 0===t)return r.utils.defaultColor();if(r.utils.isArray(t)){var e=d3.scale.ordinal().range(t);return function(t,n){return t.color||e(void 0===n?t:n)}}return t},r.utils.defaultColor=function(){return r.utils.getColor(d3.scale.category20().range())},r.utils.customTheme=function(t,e,n){e=e||function(t){return t.key};var i=(n=n||d3.scale.category20().range()).length;return function(o,a){var s=e(o);return r.utils.isFunction(t[s])?t[s]():void 0!==t[s]?t[s]:(i||(i=n.length),n[i-=1])}},r.utils.pjax=function(t,e){var n=function(n){d3.html(n,function(n){var i=d3.select(e).node();i.parentNode.replaceChild(d3.select(n).select(e).node(),i),r.utils.pjax(t,e)})};d3.selectAll(t).on("click",function(){history.pushState(this.href,this.textContent,this.href),n(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&n(d3.event.state)})},r.utils.calcApproxTextWidth=function(t){if(r.utils.isFunction(t.style)&&r.utils.isFunction(t.text)){var e=parseInt(t.style("font-size").replace("px",""),10),n=t.text().length;return r.utils.NaNtoZero(n*e*.5)}return 0},r.utils.NaNtoZero=function(t){return!r.utils.isNumber(t)||isNaN(t)||null===t||t===1/0||t===-1/0?0:t},d3.selection.prototype.watchTransition=function(t){var e=[this].concat([].slice.call(arguments,1));return t.transition.apply(t,e)},r.utils.renderWatch=function(t,e){if(!(this instanceof r.utils.renderWatch))return new r.utils.renderWatch(t,e);var n=void 0!==e?e:250,i=[],o=this;this.models=function(t){return[].slice.call(arguments,0).forEach(function(t){var e;t.__rendered=!1,(e=t).dispatch.on("renderEnd",function(t){e.__rendered=!0,o.renderEnd("model")}),i.indexOf(t)<0&&i.push(t)}),this},this.reset=function(t){void 0!==t&&(n=t),i=[]},this.transition=function(t,e,r){if(r=(e=arguments.length>1?[].slice.call(arguments,1):[]).length>1?e.pop():void 0!==n?n:250,t.__rendered=!1,i.indexOf(t)<0&&i.push(t),0===r)return t.__rendered=!0,t.delay=function(){return this},t.duration=function(){return this},t;t.__rendered=0===t.length||!!t.every(function(t){return!t.length});var a=0;return t.transition().duration(r).each(function(){++a}).each("end",function(n,r){0==--a&&(t.__rendered=!0,o.renderEnd.apply(this,e))})},this.renderEnd=function(){i.every(function(t){return t.__rendered})&&(i.forEach(function(t){t.__rendered=!1}),t.renderEnd.apply(this,arguments))}},r.utils.deepExtend=function(t){(arguments.length>1?[].slice.call(arguments,1):[]).forEach(function(e){for(var n in e){var i=r.utils.isArray(t[n]),o=r.utils.isObject(t[n]),a=r.utils.isObject(e[n]);o&&!i&&a?r.utils.deepExtend(t[n],e[n]):t[n]=e[n]}})},r.utils.state=function(){if(!(this instanceof r.utils.state))return new r.utils.state;var t={},e=function(){},n=function(){return{}},i=null;this.dispatch=d3.dispatch("change","set"),this.dispatch.on("set",function(t){e(t,!0)}),this.getter=function(t){return n=t,this},this.setter=function(t,n){return n||(n=function(){}),e=function(e,r){t(e),r&&n()},this},this.init=function(t){r.utils.deepExtend(i=i||{},t)},this.update=function(){i&&(e(i,!1),i=null),(function(){var e=n();if(JSON.stringify(e)===JSON.stringify(t))return!1;for(var r in e)void 0===t[r]&&(t[r]={}),t[r]=e[r];return!0}).call(this)&&this.dispatch.change(t)}},r.utils.optionsFunc=function(t){return t&&d3.map(t).forEach((function(t,e){r.utils.isFunction(this[t])&&this[t](e)}).bind(this)),this},r.utils.calcTicksX=function(t,e){for(var n=1,i=0;i<e.length;i+=1){var o=e[i]&&e[i].values?e[i].values.length:0;n=o>n?o:n}return r.log("Requested number of ticks: ",t),r.log("Calculated max values to be: ",n),t=(t=t>n?t=n-1:t)<1?1:t,t=Math.floor(t),r.log("Calculating tick count as: ",t),t},r.utils.calcTicksY=function(t,e){return r.utils.calcTicksX(t,e)},r.utils.initOption=function(t,e){t._calls&&t._calls[e]?t[e]=t._calls[e]:(t[e]=function(n){return arguments.length?(t._overrides[e]=!0,t._options[e]=n,t):t._options[e]},t["_"+e]=function(n){return arguments.length?(t._overrides[e]||(t._options[e]=n),t):t._options[e]})},r.utils.initOptions=function(t){t._overrides=t._overrides||{};var e=Object.getOwnPropertyNames(t._options||{}),n=Object.getOwnPropertyNames(t._calls||{});for(var i in e=e.concat(n))r.utils.initOption(t,e[i])},r.utils.inheritOptionsD3=function(t,e,n){t._d3options=n.concat(t._d3options||[]),t._d3options=(t._d3options||[]).filter(function(t,e,n){return n.indexOf(t)===e}),n.unshift(e),n.unshift(t),d3.rebind.apply(this,n)},r.utils.arrayUnique=function(t){return t.sort().filter(function(e,n){return!n||e!=t[n-1]})},r.utils.symbolMap=d3.map(),r.utils.symbol=function(){var t,e=64;function n(n,i){var o=t.call(this,n,i),a=e.call(this,n,i);return-1!==d3.svg.symbolTypes.indexOf(o)?d3.svg.symbol().type(o).size(a)():r.utils.symbolMap.get(o)(a)}return n.type=function(e){return arguments.length?(t=d3.functor(e),n):t},n.size=function(t){return arguments.length?(e=d3.functor(t),n):e},n},r.utils.inheritOptions=function(t,e){var n=Object.getOwnPropertyNames(e._options||{}),i=Object.getOwnPropertyNames(e._calls||{}),o=e._inherited||[],a=e._d3options||[],s=n.concat(i).concat(o).concat(a);s.unshift(e),s.unshift(t),d3.rebind.apply(this,s),t._inherited=r.utils.arrayUnique(n.concat(i).concat(o).concat(n).concat(t._inherited||[])),t._d3options=r.utils.arrayUnique(a.concat(t._d3options||[]))},r.utils.initSVG=function(t){t.classed({"nvd3-svg":!0})},r.utils.sanitizeHeight=function(t,e){return t||parseInt(e.style("height"),10)||400},r.utils.sanitizeWidth=function(t,e){return t||parseInt(e.style("width"),10)||960},r.utils.availableHeight=function(t,e,n){return Math.max(0,r.utils.sanitizeHeight(t,e)-n.top-n.bottom)},r.utils.availableWidth=function(t,e,n){return Math.max(0,r.utils.sanitizeWidth(t,e)-n.left-n.right)},r.utils.noData=function(t,e){var n=t.options(),i=n.margin(),o=n.noData(),a=null==o?["No Data Available."]:[o],s=r.utils.availableHeight(null,e,i),l=r.utils.availableWidth(null,e,i),u=i.left+l/2,c=i.top+s/2;e.selectAll("g").remove();var d=e.selectAll(".nv-noData").data(a);d.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),d.attr("x",u).attr("y",c).text(function(t){return t})},r.utils.wrapTicks=function(t,e){t.each(function(){for(var t,n=d3.select(this),r=n.text().split(/\s+/).reverse(),i=[],o=0,a=n.attr("y"),s=parseFloat(n.attr("dy")),l=n.text(null).append("tspan").attr("x",0).attr("y",a).attr("dy",s+"em");t=r.pop();)i.push(t),l.text(i.join(" ")),l.node().getComputedTextLength()>e&&(i.pop(),l.text(i.join(" ")),i=[t],l=n.append("tspan").attr("x",0).attr("y",a).attr("dy",1.1*++o+s+"em").text(t))})},r.utils.arrayEquals=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!r.arrayEquals(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0},r.utils.pointIsInArc=function(t,e,n){var r=n.innerRadius()(e),i=n.outerRadius()(e),o=n.startAngle()(e),a=n.endAngle()(e),s=t.x*t.x+t.y*t.y,l=Math.atan2(t.x,-t.y);return l=l<0?l+2*Math.PI:l,r*r<=s&&s<=i*i&&o<=l&&l<=a},r.models.axis=function(){"use strict";var t,e,n=d3.svg.axis(),i=d3.scale.linear(),o={top:0,right:0,bottom:0,left:0},a=75,s=60,l=null,u=!0,c=0,d=!0,f=!1,h=!1,p=null,g=0,v=void 0,m=250,y=d3.dispatch("renderEnd");n.scale(i).orient("bottom").tickFormat(function(t){return t});var x=r.utils.renderWatch(y,m);function b(s){return x.reset(),s.each(function(s){var m=d3.select(this);r.utils.initSVG(m);var y=m.selectAll("g.nv-wrap.nv-axis").data([s]),b=(y.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g"),y.select("g"));null!==p?n.ticks(p):"top"!=n.orient()&&"bottom"!=n.orient()||n.ticks(Math.abs(i.range()[1]-i.range()[0])/100),b.watchTransition(x,"axis").call(n),e=e||n.scale();var k=n.tickFormat();null==k&&(k=e.tickFormat());var M,w,C,A=b.selectAll("text.nv-axislabel").data([l||null]);switch(A.exit().remove(),void 0!==v&&b.selectAll("g").select("text").style("font-size",v),n.orient()){case"top":A.enter().append("text").attr("class","nv-axislabel"),C=0,1===i.range().length?C=h?2*i.range()[0]+i.rangeBand():0:2===i.range().length?C=h?i.range()[0]+i.range()[1]+i.rangeBand():i.range()[1]:i.range().length>2&&(C=i.range()[i.range().length-1]+(i.range()[1]-i.range()[0])),A.attr("text-anchor","middle").attr("y",0).attr("x",C/2),u&&((w=y.selectAll("g.nv-axisMaxMin").data(i.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-x",0==e?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),w.exit().remove(),w.attr("transform",function(t,e){return"translate("+r.utils.NaNtoZero(i(t))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-n.tickPadding()).attr("text-anchor","middle").text(function(e,n){var r=(t||k)(e);return(""+r).match("NaN")?"":r}),w.watchTransition(x,"min-max top").attr("transform",function(t,e){return"translate("+r.utils.NaNtoZero(i.range()[e])+",0)"}));break;case"bottom":M=g+36;var S=30,_=0,D=b.selectAll("g").select("text"),F="";if(c%360){D.attr("transform",""),D.each(function(t,e){var n=this.getBoundingClientRect(),r=n.width;_=n.height,r>S&&(S=r)}),F="rotate("+c+" 0,"+(_/2+n.tickPadding())+")";var E=Math.abs(Math.sin(c*Math.PI/180));M=(E?E*S:S)+30,D.attr("transform",F).style("text-anchor",c%360>0?"start":"end")}else D.attr("transform",f?function(t,e){return"translate(0,"+(e%2==0?"0":"12")+")"}:"translate(0,0)");A.enter().append("text").attr("class","nv-axislabel"),C=0,1===i.range().length?C=h?2*i.range()[0]+i.rangeBand():0:2===i.range().length?C=h?i.range()[0]+i.range()[1]+i.rangeBand():i.range()[1]:i.range().length>2&&(C=i.range()[i.range().length-1]+(i.range()[1]-i.range()[0])),A.attr("text-anchor","middle").attr("y",M).attr("x",C/2),u&&((w=y.selectAll("g.nv-axisMaxMin").data([i.domain()[0],i.domain()[i.domain().length-1]])).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-x",0==e?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),w.exit().remove(),w.attr("transform",function(t,e){return"translate("+r.utils.NaNtoZero(i(t)+(h?i.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",n.tickPadding()).attr("transform",F).style("text-anchor",c?c%360>0?"start":"end":"middle").text(function(e,n){var r=(t||k)(e);return(""+r).match("NaN")?"":r}),w.watchTransition(x,"min-max bottom").attr("transform",function(t,e){return"translate("+r.utils.NaNtoZero(i(t)+(h?i.rangeBand()/2:0))+",0)"}));break;case"right":A.enter().append("text").attr("class","nv-axislabel"),A.style("text-anchor",d?"middle":"begin").attr("transform",d?"rotate(90)":"").attr("y",d?12-Math.max(o.right,a)-(g||0):-10).attr("x",d?d3.max(i.range())/2:n.tickPadding()),u&&((w=y.selectAll("g.nv-axisMaxMin").data(i.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-y",0==e?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),w.exit().remove(),w.attr("transform",function(t,e){return"translate(0,"+r.utils.NaNtoZero(i(t))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",n.tickPadding()).style("text-anchor","start").text(function(e,n){var r=(t||k)(e);return(""+r).match("NaN")?"":r}),w.watchTransition(x,"min-max right").attr("transform",function(t,e){return"translate(0,"+r.utils.NaNtoZero(i.range()[e])+")"}).select("text").style("opacity",1));break;case"left":A.enter().append("text").attr("class","nv-axislabel"),A.style("text-anchor",d?"middle":"end").attr("transform",d?"rotate(-90)":"").attr("y",d?25-Math.max(o.left,a)-(g||0):-10).attr("x",d?-d3.max(i.range())/2:-n.tickPadding()),u&&((w=y.selectAll("g.nv-axisMaxMin").data(i.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-y",0==e?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),w.exit().remove(),w.attr("transform",function(t,n){return"translate(0,"+r.utils.NaNtoZero(e(t))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-n.tickPadding()).attr("text-anchor","end").text(function(e,n){var r=(t||k)(e);return(""+r).match("NaN")?"":r}),w.watchTransition(x,"min-max right").attr("transform",function(t,e){return"translate(0,"+r.utils.NaNtoZero(i.range()[e])+")"}).select("text").style("opacity",1))}if(A.text(function(t){return t}),!u||"left"!==n.orient()&&"right"!==n.orient()||(b.selectAll("g").each(function(t,e){d3.select(this).select("text").attr("opacity",1),(i(t)<i.range()[1]+10||i(t)>i.range()[0]-10)&&((t>1e-10||t<-1e-10)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),i.domain()[0]==i.domain()[1]&&0==i.domain()[0]&&y.selectAll("g.nv-axisMaxMin").style("opacity",function(t,e){return e?0:1})),u&&("top"===n.orient()||"bottom"===n.orient())){var N=[];y.selectAll("g.nv-axisMaxMin").each(function(t,e){try{N.push(e?i(t)-this.getBoundingClientRect().width-4:i(t)+this.getBoundingClientRect().width+4)}catch(n){N.push(e?i(t)-4:i(t)+4)}}),b.selectAll("g").each(function(t,e){(i(t)<N[0]||i(t)>N[1])&&(t>1e-10||t<-1e-10?d3.select(this).remove():d3.select(this).select("text").remove())})}b.selectAll(".tick").filter(function(t){return!parseFloat(Math.round(1e5*t)/1e6)&&void 0!==t}).classed("zero",!0),e=i.copy()}),x.renderEnd("axis immediate"),b}return b.axis=n,b.dispatch=y,b.options=r.utils.optionsFunc.bind(b),b._options=Object.create({},{axisLabelDistance:{get:function(){return g},set:function(t){g=t}},staggerLabels:{get:function(){return f},set:function(t){f=t}},rotateLabels:{get:function(){return c},set:function(t){c=t}},rotateYLabel:{get:function(){return d},set:function(t){d=t}},showMaxMin:{get:function(){return u},set:function(t){u=t}},axisLabel:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return s},set:function(t){s=t}},ticks:{get:function(){return p},set:function(t){p=t}},width:{get:function(){return a},set:function(t){a=t}},fontSize:{get:function(){return v},set:function(t){v=t}},tickFormatMaxMin:{get:function(){return t},set:function(e){t=e}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},duration:{get:function(){return m},set:function(t){x.reset(m=t)}},scale:{get:function(){return i},set:function(t){n.scale(i=t),h="function"==typeof i.rangeBands,r.utils.inheritOptionsD3(b,i,["domain","range","rangeBand","rangeBands"])}}}),r.utils.initOptions(b),r.utils.inheritOptionsD3(b,n,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),r.utils.inheritOptionsD3(b,i,["domain","range","rangeBand","rangeBands"]),b},r.models.boxPlot=function(){"use strict";var t,e,n,i,o,a,s={top:0,right:0,bottom:0,left:0},l=960,u=500,c=Math.floor(1e4*Math.random()),d=d3.scale.ordinal(),f=d3.scale.linear(),h=function(t){return t.label},p=function(t){return t.values.Q1},g=function(t){return t.values.Q2},v=function(t){return t.values.Q3},m=function(t){return t.values.whisker_low},y=function(t){return t.values.whisker_high},x=function(t){return t.color},b=function(t){return t.values.outliers},k=function(t,e,n){return t},M=function(t,e,n){return t},w=function(t,e,n){},C=r.utils.defaultColor(),A=null,S=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),_=250,D=null,F=r.utils.renderWatch(S,_);function E(c){return F.reset(),c.each(function(c){var E=l-s.left-s.right,N=u-s.top-s.bottom;A=d3.select(this),r.utils.initSVG(A),d.domain(t||c.map(function(t,e){return h(t,e)})).rangeBands(e||[0,E],.1);var P=[];if(!n){var T=[];c.forEach(function(t,e){var n=p(t),r=v(t),i=m(t),o=y(t),a=b(t);a&&a.forEach(function(t,e){T.push(k(t,e,void 0))}),i&&T.push(i),n&&T.push(n),r&&T.push(r),o&&T.push(o)}),P=[d3.min(T),d3.max(T)]}f.domain(n||P),f.range(i||[N,0]),o=o||d,a=a||f.copy().range([f(0),f(0)]);var I=A.selectAll("g.nv-wrap").data([c]);I.enter().append("g").attr("class","nvd3 nv-wrap"),I.attr("transform","translate("+s.left+","+s.top+")");var O=I.selectAll(".nv-boxplot").data(function(t){return t}),L=O.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);O.attr("class","nv-boxplot").attr("transform",function(t,e,n){return"translate("+(d(h(t,e))+.05*d.rangeBand())+", 0)"}).classed("hover",function(t){return t.hover}),O.watchTransition(F,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",.75).delay(function(t,e){return e*_/c.length}).attr("transform",function(t,e){return"translate("+(d(h(t,e))+.05*d.rangeBand())+", 0)"}),O.exit().remove(),L.each(function(t,e){var n=d3.select(this);[m,y].forEach(function(r){if(void 0!==r(t)&&null!==r(t)){var i=r===m?"low":"high";n.append("line").style("stroke",x(t)||C(t,e)).attr("class","nv-boxplot-whisker nv-boxplot-"+i),n.append("line").style("stroke",x(t)||C(t,e)).attr("class","nv-boxplot-tick nv-boxplot-"+i)}})});var W=function(){return null===D?.9*d.rangeBand():Math.min(75,.9*d.rangeBand())},z=function(){return.45*d.rangeBand()-W()/2},R=function(){return.45*d.rangeBand()+W()/2};[m,y].forEach(function(t){var e=t===m?"low":"high",n=t===m?p:v;O.select("line.nv-boxplot-whisker.nv-boxplot-"+e).watchTransition(F,"nv-boxplot: boxplots").attr("x1",.45*d.rangeBand()).attr("y1",function(e,n){return f(t(e))}).attr("x2",.45*d.rangeBand()).attr("y2",function(t,e){return f(n(t))}),O.select("line.nv-boxplot-tick.nv-boxplot-"+e).watchTransition(F,"nv-boxplot: boxplots").attr("x1",z).attr("y1",function(e,n){return f(t(e))}).attr("x2",R).attr("y2",function(e,n){return f(t(e))})}),[m,y].forEach(function(t){L.selectAll(".nv-boxplot-"+(t===m?"low":"high")).on("mouseover",function(e,n,r){d3.select(this).classed("hover",!0),S.elementMouseover({series:{key:t(e),color:x(e)||C(e,r)},e:d3.event})}).on("mouseout",function(e,n,r){d3.select(this).classed("hover",!1),S.elementMouseout({series:{key:t(e),color:x(e)||C(e,r)},e:d3.event})}).on("mousemove",function(t,e){S.elementMousemove({e:d3.event})})}),L.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(t,e){d3.select(this).classed("hover",!0),S.elementMouseover({key:h(t),value:h(t),series:[{key:"Q3",value:v(t),color:x(t)||C(t,e)},{key:"Q2",value:g(t),color:x(t)||C(t,e)},{key:"Q1",value:p(t),color:x(t)||C(t,e)}],data:t,index:e,e:d3.event})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),S.elementMouseout({key:h(t),value:h(t),series:[{key:"Q3",value:v(t),color:x(t)||C(t,e)},{key:"Q2",value:g(t),color:x(t)||C(t,e)},{key:"Q1",value:p(t),color:x(t)||C(t,e)}],data:t,index:e,e:d3.event})}).on("mousemove",function(t,e){S.elementMousemove({e:d3.event})}),O.select("rect.nv-boxplot-box").watchTransition(F,"nv-boxplot: boxes").attr("y",function(t,e){return f(v(t))}).attr("width",W).attr("x",z).attr("height",function(t,e){return Math.abs(f(v(t))-f(p(t)))||1}).style("fill",function(t,e){return x(t)||C(t,e)}).style("stroke",function(t,e){return x(t)||C(t,e)}),L.append("line").attr("class","nv-boxplot-median"),O.select("line.nv-boxplot-median").watchTransition(F,"nv-boxplot: boxplots line").attr("x1",z).attr("y1",function(t,e){return f(g(t))}).attr("x2",R).attr("y2",function(t,e){return f(g(t))});var B=O.selectAll(".nv-boxplot-outlier").data(function(t){return b(t)||[]});B.enter().append("circle").style("fill",function(t,e,n){return w(t,e,n)||C(t,n)}).style("stroke",function(t,e,n){return w(t,e,n)||C(t,n)}).style("z-index",9e3).on("mouseover",function(t,e,n){d3.select(this).classed("hover",!0),S.elementMouseover({series:{key:M(t,e,n),color:w(t,e,n)||C(t,n)},e:d3.event})}).on("mouseout",function(t,e,n){d3.select(this).classed("hover",!1),S.elementMouseout({series:{key:M(t,e,n),color:w(t,e,n)||C(t,n)},e:d3.event})}).on("mousemove",function(t,e){S.elementMousemove({e:d3.event})}),B.attr("class","nv-boxplot-outlier"),B.watchTransition(F,"nv-boxplot: nv-boxplot-outlier").attr("cx",.45*d.rangeBand()).attr("cy",function(t,e,n){return f(k(t,e,n))}).attr("r","3"),B.exit().remove(),o=d.copy(),a=f.copy()}),F.renderEnd("nv-boxplot immediate"),E}return E.dispatch=S,E.options=r.utils.optionsFunc.bind(E),E._options=Object.create({},{width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return u},set:function(t){u=t}},maxBoxWidth:{get:function(){return D},set:function(t){D=t}},x:{get:function(){return h},set:function(t){h=t}},q1:{get:function(){return p},set:function(t){p=t}},q2:{get:function(){return g},set:function(t){g=t}},q3:{get:function(){return v},set:function(t){v=t}},wl:{get:function(){return m},set:function(t){m=t}},wh:{get:function(){return y},set:function(t){y=t}},itemColor:{get:function(){return x},set:function(t){x=t}},outliers:{get:function(){return b},set:function(t){b=t}},outlierValue:{get:function(){return k},set:function(t){k=t}},outlierLabel:{get:function(){return M},set:function(t){M=t}},outlierColor:{get:function(){return w},set:function(t){w=t}},xScale:{get:function(){return d},set:function(t){d=t}},yScale:{get:function(){return f},set:function(t){f=t}},xDomain:{get:function(){return t},set:function(e){t=e}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return e},set:function(t){e=t}},yRange:{get:function(){return i},set:function(t){i=t}},id:{get:function(){return c},set:function(t){c=t}},y:{get:function(){return console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead."),{}},set:function(t){console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead.")}},margin:{get:function(){return s},set:function(t){s.top=void 0!==t.top?t.top:s.top,s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left}},color:{get:function(){return C},set:function(t){C=r.utils.getColor(t)}},duration:{get:function(){return _},set:function(t){F.reset(_=t)}}}),r.utils.initOptions(E),E},r.models.boxPlotChart=function(){"use strict";var t,e,n=r.models.boxPlot(),i=r.models.axis(),o=r.models.axis(),a={top:15,right:10,bottom:50,left:60},s=null,l=null,u=r.utils.getColor(),c=!0,d=!0,f=!1,h=!1,p=r.models.tooltip(),g="No Data Available.",v=d3.dispatch("beforeUpdate","renderEnd"),m=250;i.orient("bottom").showMaxMin(!1).tickFormat(function(t){return t}),o.orient(f?"right":"left").tickFormat(d3.format(",.1f")),p.duration(0);var y=r.utils.renderWatch(v,m);function x(u){return y.reset(),y.models(n),c&&y.models(i),d&&y.models(o),u.each(function(u){var p=d3.select(this);r.utils.initSVG(p);var y=(s||parseInt(p.style("width"))||960)-a.left-a.right,b=(l||parseInt(p.style("height"))||400)-a.top-a.bottom;if(x.update=function(){v.beforeUpdate(),p.transition().duration(m).call(x)},x.container=this,!u||!u.length){var k=p.selectAll(".nv-noData").data([g]);return k.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),k.attr("x",a.left+y/2).attr("y",a.top+b/2).text(function(t){return t}),x}p.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale().clamp(!0);var M=p.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([u]),w=M.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),C=w.append("defs"),A=M.select("g");if(w.append("g").attr("class","nv-x nv-axis"),w.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),w.append("g").attr("class","nv-barsWrap"),A.attr("transform","translate("+a.left+","+a.top+")"),f&&A.select(".nv-y.nv-axis").attr("transform","translate("+y+",0)"),n.width(y).height(b),A.select(".nv-barsWrap").datum(u.filter(function(t){return!t.disabled})).transition().call(n),C.append("clipPath").attr("id","nv-x-label-clip-"+n.id()).append("rect"),A.select("#nv-x-label-clip-"+n.id()+" rect").attr("width",t.rangeBand()*(h?2:1)).attr("height",16).attr("x",-t.rangeBand()/(h?1:2)),c){i.scale(t).ticks(r.utils.calcTicksX(y/100,u)).tickSize(-b,0),A.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),A.select(".nv-x.nv-axis").call(i);var S=A.select(".nv-x.nv-axis").selectAll("g");h&&S.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"})}d&&(o.scale(e).ticks(Math.floor(b/36)).tickSize(-y,0),A.select(".nv-y.nv-axis").call(o)),A.select(".nv-zeroLine line").attr("x1",0).attr("x2",y).attr("y1",e(0)).attr("y2",e(0))}),y.renderEnd("nv-boxplot chart immediate"),x}return n.dispatch.on("elementMouseover.tooltip",function(t){p.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){p.data(t).hidden(!0)}),n.dispatch.on("elementMousemove.tooltip",function(t){p()}),x.dispatch=v,x.boxplot=n,x.xAxis=i,x.yAxis=o,x.tooltip=p,x.options=r.utils.optionsFunc.bind(x),x._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return l},set:function(t){l=t}},staggerLabels:{get:function(){return h},set:function(t){h=t}},showXAxis:{get:function(){return c},set:function(t){c=t}},showYAxis:{get:function(){return d},set:function(t){d=t}},tooltipContent:{get:function(){return p},set:function(t){p=t}},noData:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}},duration:{get:function(){return m},set:function(t){y.reset(m=t),n.duration(m),i.duration(m),o.duration(m)}},color:{get:function(){return u},set:function(t){u=r.utils.getColor(t),n.color(u)}},rightAlignYAxis:{get:function(){return f},set:function(t){f=t,o.orient(t?"right":"left")}}}),r.utils.inheritOptions(x,n),r.utils.initOptions(x),x},r.models.bullet=function(){"use strict";var t={top:0,right:0,bottom:0,left:0},e="left",n=!1,i=function(t){return t.ranges},o=function(t){return t.markers?t.markers:[]},a=function(t){return t.markerLines?t.markerLines:[0]},s=function(t){return t.measures},l=function(t){return t.rangeLabels?t.rangeLabels:[]},u=function(t){return t.markerLabels?t.markerLabels:[]},c=function(t){return t.markerLineLabels?t.markerLineLabels:[]},d=function(t){return t.measureLabels?t.measureLabels:[]},f=[0],h=380,p=30,g=null,v=null,m=r.utils.getColor(["#1f77b4"]),y=d3.dispatch("elementMouseover","elementMouseout","elementMousemove"),x=["Maximum","Mean","Minimum"],b=["Max","Avg","Min"],k=1e3;function M(t,e){var n=t.slice();t.sort(function(t,r){var i=n.indexOf(t),o=n.indexOf(r);return d3.descending(e[i],e[o])})}function w(e){return e.each(function(e,v){var w=h-t.left-t.right,C=p-t.top-t.bottom;g=d3.select(this),r.utils.initSVG(g);var A=i.call(this,e,v).slice(),S=o.call(this,e,v).slice(),_=a.call(this,e,v).slice(),D=s.call(this,e,v).slice(),F=l.call(this,e,v).slice(),E=u.call(this,e,v).slice(),N=c.call(this,e,v).slice(),P=d.call(this,e,v).slice();M(F,A),M(E,S),M(N,_),M(P,D),A.sort(d3.descending),S.sort(d3.descending),_.sort(d3.descending),D.sort(d3.descending);var T=d3.scale.linear().domain(d3.extent(d3.merge([f,A]))).range(n?[w,0]:[0,w]);this.__chart__||d3.scale.linear().domain([0,1/0]).range(T.range()),this.__chart__=T,d3.min(A),d3.max(A);for(var I=g.selectAll("g.nv-wrap.nv-bullet").data([e]),O=I.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet").append("g"),L=I.select("g"),W=(v=0,A.length);v<W;v++){var z="nv-range nv-range"+v;v<=2&&(z=z+" nv-range"+b[v]),O.append("rect").attr("class",z)}O.append("rect").attr("class","nv-measure"),I.attr("transform","translate("+t.left+","+t.top+")");var R=function(t){return Math.abs(T(t)-T(0))},B=function(t){return T(t<0?t:0)};for(v=0,W=A.length;v<W;v++){var V=A[v];L.select("rect.nv-range"+v).datum(V).attr("height",C).transition().duration(k).attr("width",R(V)).attr("x",B(V))}L.select("rect.nv-measure").style("fill",m).attr("height",C/3).attr("y",C/3).on("mouseover",function(){y.elementMouseover({value:D[0],label:P[0]||"Current",color:d3.select(this).style("fill")})}).on("mousemove",function(){y.elementMousemove({value:D[0],label:P[0]||"Current",color:d3.select(this).style("fill")})}).on("mouseout",function(){y.elementMouseout({value:D[0],label:P[0]||"Current",color:d3.select(this).style("fill")})}).transition().duration(k).attr("width",D<0?T(0)-T(D[0]):T(D[0])-T(0)).attr("x",B(D));var H=C/6,j=S.map(function(t,e){return{value:t,label:E[e]}});O.selectAll("path.nv-markerTriangle").data(j).enter().append("path").attr("class","nv-markerTriangle").attr("d","M0,"+H+"L"+H+","+-H+" "+-H+","+-H+"Z").on("mouseover",function(t){y.elementMouseover({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill"),pos:[T(t.value),C/2]})}).on("mousemove",function(t){y.elementMousemove({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){y.elementMouseout({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}),L.selectAll("path.nv-markerTriangle").data(j).transition().duration(k).attr("transform",function(t){return"translate("+T(t.value)+","+C/2+")"});var q=_.map(function(t,e){return{value:t,label:N[e]}});O.selectAll("line.nv-markerLine").data(q).enter().append("line").attr("cursor","").attr("class","nv-markerLine").attr("x1",function(t){return T(t.value)}).attr("y1","2").attr("x2",function(t){return T(t.value)}).attr("y2",C-2).on("mouseover",function(t){y.elementMouseover({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill"),pos:[T(t.value),C/2]})}).on("mousemove",function(t){y.elementMousemove({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){y.elementMouseout({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}),L.selectAll("line.nv-markerLine").data(q).transition().duration(k).attr("x1",function(t){return T(t.value)}).attr("x2",function(t){return T(t.value)}),I.selectAll(".nv-range").on("mouseover",function(t,e){y.elementMouseover({value:t,label:F[e]||x[e],color:d3.select(this).style("fill")})}).on("mousemove",function(){y.elementMousemove({value:D[0],label:P[0]||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){y.elementMouseout({value:t,label:F[e]||x[e],color:d3.select(this).style("fill")})})}),w}return w.dispatch=y,w.options=r.utils.optionsFunc.bind(w),w._options=Object.create({},{ranges:{get:function(){return i},set:function(t){i=t}},markers:{get:function(){return o},set:function(t){o=t}},measures:{get:function(){return s},set:function(t){s=t}},forceX:{get:function(){return f},set:function(t){f=t}},width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return p},set:function(t){p=t}},tickFormat:{get:function(){return v},set:function(t){v=t}},duration:{get:function(){return k},set:function(t){k=t}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},orient:{get:function(){return e},set:function(t){n="right"==(e=t)||"bottom"==e}},color:{get:function(){return m},set:function(t){m=r.utils.getColor(t)}}}),r.utils.initOptions(w),w},r.models.bulletChart=function(){"use strict";var t=r.models.bullet(),e=r.models.tooltip(),n="left",i=!1,o={top:5,right:40,bottom:20,left:120},a=function(t){return t.ranges},s=function(t){return t.markers?t.markers:[]},l=function(t){return t.measures},u=null,c=55,d=null,f=null,h=null,p=d3.dispatch();function g(e){return e.each(function(n,h){var p=d3.select(this);r.utils.initSVG(p);var v=r.utils.availableWidth(u,p,o),m=c-o.top-o.bottom;if(g.update=function(){g(e)},g.container=this,!n||!a.call(this,n,h))return r.utils.noData(g,p),g;p.selectAll(".nv-noData").remove();var y=a.call(this,n,h).slice().sort(d3.descending),x=s.call(this,n,h).slice().sort(d3.descending),b=l.call(this,n,h).slice().sort(d3.descending),k=p.selectAll("g.nv-wrap.nv-bulletChart").data([n]),M=k.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g"),w=k.select("g");M.append("g").attr("class","nv-bulletWrap"),M.append("g").attr("class","nv-titles"),k.attr("transform","translate("+o.left+","+o.top+")");var C=d3.scale.linear().domain([0,Math.max(y[0],x[0]||0,b[0])]).range(i?[v,0]:[0,v]),A=this.__chart__||d3.scale.linear().domain([0,1/0]).range(C.range());this.__chart__=C;var S=M.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(c-o.top-o.bottom)/2+")");S.append("text").attr("class","nv-title").text(function(t){return t.title}),S.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(t){return t.subtitle}),t.width(v).height(m);var _=w.select(".nv-bulletWrap");d3.transition(_).call(t);var D=d||C.tickFormat(v/100),F=w.selectAll("g.nv-tick").data(C.ticks(f||v/50),function(t){return this.textContent||D(t)}),E=F.enter().append("g").attr("class","nv-tick").attr("transform",function(t){return"translate("+A(t)+",0)"}).style("opacity",1e-6);E.append("line").attr("y1",m).attr("y2",7*m/6),E.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*m/6).text(D);var N=d3.transition(F).transition().duration(t.duration()).attr("transform",function(t){return"translate("+C(t)+",0)"}).style("opacity",1);N.select("line").attr("y1",m).attr("y2",7*m/6),N.select("text").attr("y",7*m/6),d3.transition(F.exit()).transition().duration(t.duration()).attr("transform",function(t){return"translate("+C(t)+",0)"}).style("opacity",1e-6).remove()}),d3.timer.flush(),g}return e.duration(0).headerEnabled(!1),t.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:t.label,value:t.value,color:t.color},e.data(t).hidden(!1)}),t.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),t.dispatch.on("elementMousemove.tooltip",function(t){e()}),g.bullet=t,g.dispatch=p,g.tooltip=e,g.options=r.utils.optionsFunc.bind(g),g._options=Object.create({},{ranges:{get:function(){return a},set:function(t){a=t}},markers:{get:function(){return s},set:function(t){s=t}},measures:{get:function(){return l},set:function(t){l=t}},width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return c},set:function(t){c=t}},tickFormat:{get:function(){return d},set:function(t){d=t}},ticks:{get:function(){return f},set:function(t){f=t}},noData:{get:function(){return h},set:function(t){h=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},orient:{get:function(){return n},set:function(t){i="right"==(n=t)||"bottom"==n}}}),r.utils.inheritOptions(g,t),r.utils.initOptions(g),g},r.models.candlestickBar=function(){"use strict";var t,e,n,i,o,a={top:0,right:0,bottom:0,left:0},s=null,l=null,u=Math.floor(1e4*Math.random()),c=d3.scale.linear(),d=d3.scale.linear(),f=function(t){return t.x},h=function(t){return t.y},p=function(t){return t.open},g=function(t){return t.close},v=function(t){return t.high},m=function(t){return t.low},y=[],x=[],b=!1,k=!0,M=r.utils.defaultColor(),w=!1,C=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");function A(M){return M.each(function(M){t=d3.select(this);var w=r.utils.availableWidth(s,t,a),A=r.utils.availableHeight(l,t,a);r.utils.initSVG(t);var S=w/M[0].values.length*.45;c.domain(e||d3.extent(M[0].values.map(f).concat(y))),c.range(b?i||[.5*w/M[0].values.length,w*(M[0].values.length-.5)/M[0].values.length]:i||[5+S/2,w-S/2-5]),d.domain(n||[d3.min(M[0].values.map(m).concat(x)),d3.max(M[0].values.map(v).concat(x))]).range(o||[A,0]),c.domain()[0]===c.domain()[1]&&(c.domain()[0]?c.domain([c.domain()[0]-.01*c.domain()[0],c.domain()[1]+.01*c.domain()[1]]):c.domain([-1,1])),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]+.01*d.domain()[0],d.domain()[1]-.01*d.domain()[1]]):d.domain([-1,1]));var _=d3.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([M[0].values]),D=_.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),F=D.append("defs"),E=D.append("g"),N=_.select("g");E.append("g").attr("class","nv-ticks"),_.attr("transform","translate("+a.left+","+a.top+")"),t.on("click",function(t,e){C.chartClick({data:t,index:e,pos:d3.event,id:u})}),F.append("clipPath").attr("id","nv-chart-clip-path-"+u).append("rect"),_.select("#nv-chart-clip-path-"+u+" rect").attr("width",w).attr("height",A),N.attr("clip-path",k?"url(#nv-chart-clip-path-"+u+")":"");var P=_.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});P.exit().remove();var T=P.enter().append("g");P.attr("class",function(t,e,n){return(p(t,e)>g(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}),T.append("line").attr("class","nv-candlestick-lines").attr("transform",function(t,e){return"translate("+c(f(t,e))+",0)"}).attr("x1",0).attr("y1",function(t,e){return d(v(t,e))}).attr("x2",0).attr("y2",function(t,e){return d(m(t,e))}),T.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",function(t,e){return"translate("+(c(f(t,e))-S/2)+","+(d(h(t,e))-(p(t,e)>g(t,e)?d(g(t,e))-d(p(t,e)):0))+")"}).attr("x",0).attr("y",0).attr("width",S).attr("height",function(t,e){var n=p(t,e),r=g(t,e);return n>r?d(r)-d(n):d(n)-d(r)}),P.select(".nv-candlestick-lines").transition().attr("transform",function(t,e){return"translate("+c(f(t,e))+",0)"}).attr("x1",0).attr("y1",function(t,e){return d(v(t,e))}).attr("x2",0).attr("y2",function(t,e){return d(m(t,e))}),P.select(".nv-candlestick-rects").transition().attr("transform",function(t,e){return"translate("+(c(f(t,e))-S/2)+","+(d(h(t,e))-(p(t,e)>g(t,e)?d(g(t,e))-d(p(t,e)):0))+")"}).attr("x",0).attr("y",0).attr("width",S).attr("height",function(t,e){var n=p(t,e),r=g(t,e);return n>r?d(r)-d(n):d(n)-d(r)})}),A}return A.highlightPoint=function(e,n){A.clearHighlights(),t.select(".nv-candlestickBar .nv-tick-0-"+e).classed("hover",n)},A.clearHighlights=function(){t.select(".nv-candlestickBar .nv-tick.hover").classed("hover",!1)},A.dispatch=C,A.options=r.utils.optionsFunc.bind(A),A._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return l},set:function(t){l=t}},xScale:{get:function(){return c},set:function(t){c=t}},yScale:{get:function(){return d},set:function(t){d=t}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return i},set:function(t){i=t}},yRange:{get:function(){return o},set:function(t){o=t}},forceX:{get:function(){return y},set:function(t){y=t}},forceY:{get:function(){return x},set:function(t){x=t}},padData:{get:function(){return b},set:function(t){b=t}},clipEdge:{get:function(){return k},set:function(t){k=t}},id:{get:function(){return u},set:function(t){u=t}},interactive:{get:function(){return w},set:function(t){w=t}},x:{get:function(){return f},set:function(t){f=t}},y:{get:function(){return h},set:function(t){h=t}},open:{get:function(){return p()},set:function(t){p=t}},close:{get:function(){return g()},set:function(t){g=t}},high:{get:function(){return v},set:function(t){v=t}},low:{get:function(){return m},set:function(t){m=t}},margin:{get:function(){return a},set:function(t){a.top=void 0!=t.top?t.top:a.top,a.right=void 0!=t.right?t.right:a.right,a.bottom=void 0!=t.bottom?t.bottom:a.bottom,a.left=void 0!=t.left?t.left:a.left}},color:{get:function(){return M},set:function(t){M=r.utils.getColor(t)}}}),r.utils.initOptions(A),A},r.models.cumulativeLineChart=function(){"use strict";var t,e,n=r.models.line(),i=r.models.axis(),o=r.models.axis(),a=r.models.legend(),s=r.models.legend(),l=r.interactiveGuideline(),u=r.models.tooltip(),c={top:30,right:30,bottom:50,left:60},d=null,f=r.utils.defaultColor(),h=null,p=null,g=!0,v=!0,m=!0,y=!1,x=!0,b=!1,k=!0,M=n.id(),w=r.utils.state(),C=null,A=null,S=function(t){return t.average},_=d3.dispatch("stateChange","changeState","renderEnd"),D=250,F=!1;w.index=0,w.rescaleY=k,i.orient("bottom").tickPadding(7),o.orient(y?"right":"left"),u.valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return i.tickFormat()(t,e)}),s.updateState(!1);var E,N=d3.scale.linear(),P={i:0,x:0},T=r.utils.renderWatch(_,D),I=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),index:P.i,rescaleY:k}}},O=function(t){return function(e){void 0!==e.index&&(P.i=e.index),void 0!==e.rescaleY&&(k=e.rescaleY),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};function L(u){return T.reset(),T.models(n),v&&T.models(i),m&&T.models(o),u.each(function(u){var A=d3.select(this);r.utils.initSVG(A),A.classed("nv-chart-"+M,!0);var T,R=r.utils.availableWidth(h,A,c),B=r.utils.availableHeight(p,A,c);if(L.update=function(){0===D?A.call(L):A.transition().duration(D).call(L)},L.container=this,w.setter(O(u),L.update).getter(I(u)).update(),w.disabled=u.map(function(t){return!!t.disabled}),!C)for(T in C={},w)C[T]=w[T]instanceof Array?w[T].slice(0):w[T];var V=d3.behavior.drag().on("dragstart",function(t,e){d3.select(L.container).style("cursor","ew-resize")}).on("drag",function(t,e){P.x=d3.event.x,P.i=Math.round(N.invert(P.x)),Q()}).on("dragend",function(t,e){d3.select(L.container).style("cursor","auto"),w.index=P.i,_.stateChange(w)});if(!(u&&u.length&&u.filter(function(t){return t.values.length}).length))return r.utils.noData(L,A),L;A.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale(),N.domain([0,u[0].values.length-1]).range([0,R]).clamp(!0),u=function(t,e){return W||(W=n.y()),e.map(function(e,n){if(!e.values)return e;var r=e.values[t];if(null==r)return e;var i=W(r,t);return Math.abs(i)<1e-5&&!F?(e.tempDisabled=!0,e):(e.tempDisabled=!1,e.values=e.values.map(function(t,e){return t.display={y:(W(t,e)-i)/i},t}),e)})}(P.i,u),void 0===E&&(E=z(u)),k?n.yDomain(null):(n.yDomain(E),n.clipEdge(!0));var H=b?"none":"all",j=A.selectAll("g.nv-wrap.nv-cumulativeLine").data([u]),q=j.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),Y=j.select("g");if(q.append("g").attr("class","nv-interactive"),q.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),q.append("g").attr("class","nv-y nv-axis"),q.append("g").attr("class","nv-background"),q.append("g").attr("class","nv-linesWrap").style("pointer-events",H),q.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),q.append("g").attr("class","nv-legendWrap"),q.append("g").attr("class","nv-controlsWrap"),g?(a.width(R),Y.select(".nv-legendWrap").datum(u).call(a),d||a.height()===c.top||(c.top=a.height(),B=r.utils.availableHeight(p,A,c)),Y.select(".nv-legendWrap").attr("transform","translate(0,"+-c.top+")")):Y.select(".nv-legendWrap").selectAll("*").remove(),x){var X=[{key:"Re-scale y-axis",disabled:!k}];s.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),Y.select(".nv-controlsWrap").datum(X).attr("transform","translate(0,"+-c.top+")").call(s)}else Y.select(".nv-controlsWrap").selectAll("*").remove();j.attr("transform","translate("+c.left+","+c.top+")"),y&&Y.select(".nv-y.nv-axis").attr("transform","translate("+R+",0)");var U=u.filter(function(t){return t.tempDisabled});j.select(".tempDisabled").remove(),U.length&&j.append("text").attr("class","tempDisabled").attr("x",R/2).attr("y","-.71em").style("text-anchor","end").text(U.map(function(t){return t.key}).join(", ")+" values cannot be calculated for this time period."),b&&(l.width(R).height(B).margin({left:c.left,top:c.top}).svgContainer(A).xScale(t),j.select(".nv-interactive").call(l)),q.select(".nv-background").append("rect"),Y.select(".nv-background rect").attr("width",R).attr("height",B),n.y(function(t){return t.display.y}).width(R).height(B).color(u.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!u[e].disabled&&!u[e].tempDisabled}));var G=Y.select(".nv-linesWrap").datum(u.filter(function(t){return!t.disabled&&!t.tempDisabled}));G.call(n),u.forEach(function(t,e){t.seriesIndex=e});var Z=u.filter(function(t){return!t.disabled&&!!S(t)}),K=Y.select(".nv-avgLinesWrap").selectAll("line").data(Z,function(t){return t.key}),J=function(t){var n=e(S(t));return n<0?0:n>B?B:n};K.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(t,e){return n.color()(t,t.seriesIndex)}).attr("x1",0).attr("x2",R).attr("y1",J).attr("y2",J),K.style("stroke-opacity",function(t){var n=e(S(t));return n<0||n>B?0:1}).attr("x1",0).attr("x2",R).attr("y1",J).attr("y2",J),K.exit().remove();var $=G.selectAll(".nv-indexLine").data([P]);function Q(){$.data([P]);var t=L.duration();L.duration(0),L.update(),L.duration(t)}$.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(V),$.attr("transform",function(t){return"translate("+N(t.i)+",0)"}).attr("height",B),v&&(i.scale(t)._ticks(r.utils.calcTicksX(R/70,u)).tickSize(-B,0),Y.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),Y.select(".nv-x.nv-axis").call(i)),m&&(o.scale(e)._ticks(r.utils.calcTicksY(B/36,u)).tickSize(-R,0),Y.select(".nv-y.nv-axis").call(o)),Y.select(".nv-background rect").on("click",function(){P.x=d3.mouse(this)[0],P.i=Math.round(N.invert(P.x)),w.index=P.i,_.stateChange(w),Q()}),n.dispatch.on("elementClick",function(t){P.i=t.pointIndex,P.x=N(P.i),w.index=P.i,_.stateChange(w),Q()}),s.dispatch.on("legendClick",function(t,e){t.disabled=!t.disabled,w.rescaleY=k=!t.disabled,k||(E=z(u)),_.stateChange(w),L.update()}),a.dispatch.on("stateChange",function(t){for(var e in t)w[e]=t[e];_.stateChange(w),L.update()}),l.dispatch.on("elementMousemove",function(t){n.clearHighlights();var e,a,s,c=[];if(u.filter(function(t,e){return t.seriesIndex=e,!(t.disabled||t.tempDisabled)}).forEach(function(i,o){a=r.interactiveBisect(i.values,t.pointXValue,L.x()),n.highlightPoint(o,a,!0);var l=i.values[a];void 0!==l&&(void 0===e&&(e=l),void 0===s&&(s=L.xScale()(L.x()(l,a))),c.push({key:i.key,value:L.y()(l,a),color:f(i,i.seriesIndex)}))}),c.length>2){var d=L.yScale().invert(t.mouseY),h=.03*Math.abs(L.yScale().domain()[0]-L.yScale().domain()[1]),p=r.nearestValueIndex(c.map(function(t){return t.value}),d,h);null!==p&&(c[p].highlight=!0)}var g=i.tickFormat()(L.x()(e,a),a);l.tooltip.valueFormatter(function(t,e){return o.tickFormat()(t)}).data({value:g,series:c})(),l.renderGuideLine(s)}),l.dispatch.on("elementMouseout",function(t){n.clearHighlights()}),_.on("changeState",function(t){void 0!==t.disabled&&(u.forEach(function(e,n){e.disabled=t.disabled[n]}),w.disabled=t.disabled),void 0!==t.index&&(P.i=t.index,P.x=N(P.i),w.index=t.index,$.data([P])),void 0!==t.rescaleY&&(k=t.rescaleY),L.update()})}),T.renderEnd("cumulativeLineChart immediate"),L}n.dispatch.on("elementMouseover.tooltip",function(t){var e={x:L.x()(t.point),y:L.y()(t.point),color:t.point.color};t.point=e,u.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){u.hidden(!0)});var W=null;function z(t){var e=t.filter(function(t){return!(t.disabled||t.tempDisabled)}).map(function(t,e){return d3.extent(t.values,function(t){return t.display.y})});return[d3.min(e,function(t){return t[0]}),d3.max(e,function(t){return t[1]})]}return L.dispatch=_,L.lines=n,L.legend=a,L.controls=s,L.xAxis=i,L.yAxis=o,L.interactiveLayer=l,L.state=w,L.tooltip=u,L.options=r.utils.optionsFunc.bind(L),L._options=Object.create({},{width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return p},set:function(t){p=t}},showControls:{get:function(){return x},set:function(t){x=t}},showLegend:{get:function(){return g},set:function(t){g=t}},average:{get:function(){return S},set:function(t){S=t}},defaultState:{get:function(){return C},set:function(t){C=t}},noData:{get:function(){return A},set:function(t){A=t}},showXAxis:{get:function(){return v},set:function(t){v=t}},showYAxis:{get:function(){return m},set:function(t){m=t}},noErrorCheck:{get:function(){return F},set:function(t){F=t}},rescaleY:{get:function(){return k},set:function(t){k=t,L.state.rescaleY=t}},margin:{get:function(){return c},set:function(t){void 0!==t.top&&(c.top=t.top,d=t.top),c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},color:{get:function(){return f},set:function(t){f=r.utils.getColor(t),a.color(f)}},useInteractiveGuideline:{get:function(){return b},set:function(t){b=t,!0===t&&(L.interactive(!1),L.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return y},set:function(t){y=t,o.orient(t?"right":"left")}},duration:{get:function(){return D},set:function(t){n.duration(D=t),i.duration(D),o.duration(D),T.reset(D)}}}),r.utils.inheritOptions(L,n),r.utils.initOptions(L),L},r.models.discreteBar=function(){"use strict";var t,e,n,i,o,a,s,l={top:0,right:0,bottom:0,left:0},u=960,c=500,d=Math.floor(1e4*Math.random()),f=d3.scale.ordinal(),h=d3.scale.linear(),p=function(t){return t.x},g=function(t){return t.y},v=[0],m=r.utils.defaultColor(),y=!1,x=d3.format(",.2f"),b=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),k="discreteBar",M=250,w=r.utils.renderWatch(b,M);function C(d){return w.reset(),d.each(function(d){var M=u-l.left-l.right,C=c-l.top-l.bottom;t=d3.select(this),r.utils.initSVG(t),d.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var A=e&&n?[]:d.map(function(t){return t.values.map(function(t,e){return{x:p(t,e),y:g(t,e),y0:t.y0}})});f.domain(e||d3.merge(A).map(function(t){return t.x})).rangeBands(i||[0,M],.1),h.domain(n||d3.extent(d3.merge(A).map(function(t){return t.y}).concat(v))),h.range(y?o||[C-(h.domain()[0]<0?12:0),h.domain()[1]>0?12:0]:o||[C,0]),a=a||f,s=s||h.copy().range([h(0),h(0)]);var S=t.selectAll("g.nv-wrap.nv-discretebar").data([d]),_=S.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar").append("g");S.select("g"),_.append("g").attr("class","nv-groups"),S.attr("transform","translate("+l.left+","+l.top+")");var D=S.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});D.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),D.exit().watchTransition(w,"discreteBar: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),D.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),D.watchTransition(w,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);var F=D.selectAll("g.nv-bar").data(function(t){return t.values});F.exit().remove();var E=F.enter().append("g").attr("transform",function(t,e,n){return"translate("+(f(p(t,e))+.05*f.rangeBand())+", "+h(0)+")"}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),b.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),b.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})}).on("mousemove",function(t,e){b.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){b.elementClick({data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()}).on("dblclick",function(t,e){b.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation()});E.append("rect").attr("height",0).attr("width",.9*f.rangeBand()/d.length),y?(E.append("text").attr("text-anchor","middle"),F.select("text").text(function(t,e){return x(g(t,e))}).watchTransition(w,"discreteBar: bars text").attr("x",.9*f.rangeBand()/2).attr("y",function(t,e){return g(t,e)<0?h(g(t,e))-h(0)+12:-4})):F.selectAll("text").remove(),F.attr("class",function(t,e){return g(t,e)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(t,e){return t.color||m(t,e)}).style("stroke",function(t,e){return t.color||m(t,e)}).select("rect").attr("class",k).watchTransition(w,"discreteBar: bars rect").attr("width",.9*f.rangeBand()/d.length),F.watchTransition(w,"discreteBar: bars").attr("transform",function(t,e){return"translate("+(f(p(t,e))+.05*f.rangeBand())+", "+(g(t,e)<0?h(0):h(0)-h(g(t,e))<1?h(0)-1:h(g(t,e)))+")"}).select("rect").attr("height",function(t,e){return Math.max(Math.abs(h(g(t,e))-h(0)),1)}),a=f.copy(),s=h.copy()}),w.renderEnd("discreteBar immediate"),C}return C.dispatch=b,C.options=r.utils.optionsFunc.bind(C),C._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return c},set:function(t){c=t}},forceY:{get:function(){return v},set:function(t){v=t}},showValues:{get:function(){return y},set:function(t){y=t}},x:{get:function(){return p},set:function(t){p=t}},y:{get:function(){return g},set:function(t){g=t}},xScale:{get:function(){return f},set:function(t){f=t}},yScale:{get:function(){return h},set:function(t){h=t}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return i},set:function(t){i=t}},yRange:{get:function(){return o},set:function(t){o=t}},valueFormat:{get:function(){return x},set:function(t){x=t}},id:{get:function(){return d},set:function(t){d=t}},rectClass:{get:function(){return k},set:function(t){k=t}},margin:{get:function(){return l},set:function(t){l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},color:{get:function(){return m},set:function(t){m=r.utils.getColor(t)}},duration:{get:function(){return M},set:function(t){w.reset(M=t)}}}),r.utils.initOptions(C),C},r.models.discreteBarChart=function(){"use strict";var t,e,n=r.models.discreteBar(),i=r.models.axis(),o=r.models.axis(),a=r.models.legend(),s=r.models.tooltip(),l={top:15,right:10,bottom:50,left:60},u=null,c=null,d=null,f=r.utils.getColor(),h=!1,p=!0,g=!0,v=!1,m=!1,y=!1,x=0,b=null,k=d3.dispatch("beforeUpdate","renderEnd"),M=250;i.orient("bottom").showMaxMin(!1).tickFormat(function(t){return t}),o.orient(v?"right":"left").tickFormat(d3.format(",.1f")),s.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return o.tickFormat()(t,e)}).keyFormatter(function(t,e){return i.tickFormat()(t,e)});var w=r.utils.renderWatch(k,M);function C(s){return w.reset(),w.models(n),p&&w.models(i),g&&w.models(o),s.each(function(s){var f=d3.select(this);r.utils.initSVG(f);var b=r.utils.availableWidth(c,f,l),w=r.utils.availableHeight(d,f,l);if(C.update=function(){k.beforeUpdate(),f.transition().duration(M).call(C)},C.container=this,!(s&&s.length&&s.filter(function(t){return t.values.length}).length))return r.utils.noData(C,f),C;f.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale().clamp(!0);var A=f.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([s]),S=A.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),_=S.append("defs"),D=A.select("g");if(S.append("g").attr("class","nv-x nv-axis"),S.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),S.append("g").attr("class","nv-barsWrap"),S.append("g").attr("class","nv-legendWrap"),D.attr("transform","translate("+l.left+","+l.top+")"),h?(a.width(b),D.select(".nv-legendWrap").datum(s).call(a),u||a.height()===l.top||(l.top=a.height(),w=r.utils.availableHeight(d,f,l)),A.select(".nv-legendWrap").attr("transform","translate(0,"+-l.top+")")):D.select(".nv-legendWrap").selectAll("*").remove(),v&&D.select(".nv-y.nv-axis").attr("transform","translate("+b+",0)"),n.width(b).height(w),D.select(".nv-barsWrap").datum(s.filter(function(t){return!t.disabled})).transition().call(n),_.append("clipPath").attr("id","nv-x-label-clip-"+n.id()).append("rect"),D.select("#nv-x-label-clip-"+n.id()+" rect").attr("width",t.rangeBand()*(m?2:1)).attr("height",16).attr("x",-t.rangeBand()/(m?1:2)),p){i.scale(t)._ticks(r.utils.calcTicksX(b/100,s)).tickSize(-w,0),D.select(".nv-x.nv-axis").attr("transform","translate(0,"+(e.range()[0]+(n.showValues()&&e.domain()[0]<0?16:0))+")"),D.select(".nv-x.nv-axis").call(i);var F=D.select(".nv-x.nv-axis").selectAll("g");m&&F.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"}),x&&F.selectAll(".tick text").attr("transform","rotate("+x+" 0,0)").style("text-anchor",x>0?"start":"end"),y&&D.selectAll(".tick text").call(r.utils.wrapTicks,C.xAxis.rangeBand())}g&&(o.scale(e)._ticks(r.utils.calcTicksY(w/36,s)).tickSize(-b,0),D.select(".nv-y.nv-axis").call(o)),D.select(".nv-zeroLine line").attr("x1",0).attr("x2",v?-b:b).attr("y1",e(0)).attr("y2",e(0))}),w.renderEnd("discreteBar chart immediate"),C}return n.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:C.x()(t.data),value:C.y()(t.data),color:t.color},s.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){s.hidden(!0)}),n.dispatch.on("elementMousemove.tooltip",function(t){s()}),C.dispatch=k,C.discretebar=n,C.legend=a,C.xAxis=i,C.yAxis=o,C.tooltip=s,C.options=r.utils.optionsFunc.bind(C),C._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return d},set:function(t){d=t}},showLegend:{get:function(){return h},set:function(t){h=t}},staggerLabels:{get:function(){return m},set:function(t){m=t}},rotateLabels:{get:function(){return x},set:function(t){x=t}},wrapLabels:{get:function(){return y},set:function(t){y=!!t}},showXAxis:{get:function(){return p},set:function(t){p=t}},showYAxis:{get:function(){return g},set:function(t){g=t}},noData:{get:function(){return b},set:function(t){b=t}},margin:{get:function(){return l},set:function(t){void 0!==t.top&&(l.top=t.top,u=t.top),l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},duration:{get:function(){return M},set:function(t){w.reset(M=t),n.duration(M),i.duration(M),o.duration(M)}},color:{get:function(){return f},set:function(t){f=r.utils.getColor(t),n.color(f),a.color(f)}},rightAlignYAxis:{get:function(){return v},set:function(t){v=t,o.orient(t?"right":"left")}}}),r.utils.inheritOptions(C,n),r.utils.initOptions(C),C},r.models.distribution=function(){"use strict";var t,e={top:0,right:0,bottom:0,left:0},n=400,i=8,o="x",a=function(t){return t[o]},s=r.utils.defaultColor(),l=d3.scale.linear(),u=250,c=d3.dispatch("renderEnd"),d=r.utils.renderWatch(c,u);function f(n){return d.reset(),n.each(function(n){var u="x"==o?"y":"x",c=d3.select(this);r.utils.initSVG(c),t=t||l;var f=c.selectAll("g.nv-distribution").data([n]),h=(f.enter().append("g").attr("class","nvd3 nv-distribution").append("g"),f.select("g"));f.attr("transform","translate("+e.left+","+e.top+")");var p=h.selectAll("g.nv-dist").data(function(t){return t},function(t){return t.key});p.enter().append("g"),p.attr("class",function(t,e){return"nv-dist nv-series-"+e}).style("stroke",function(t,e){return s(t,e)});var g=p.selectAll("line.nv-dist"+o).data(function(t){return t.values});g.enter().append("line").attr(o+"1",function(e,n){return t(a(e,n))}).attr(o+"2",function(e,n){return t(a(e,n))}),d.transition(p.exit().selectAll("line.nv-dist"+o),"dist exit").attr(o+"1",function(t,e){return l(a(t,e))}).attr(o+"2",function(t,e){return l(a(t,e))}).style("stroke-opacity",0).remove(),g.attr("class",function(t,e){return"nv-dist"+o+" nv-dist"+o+"-"+e}).attr(u+"1",0).attr(u+"2",i),d.transition(g,"dist").attr(o+"1",function(t,e){return l(a(t,e))}).attr(o+"2",function(t,e){return l(a(t,e))}),t=l.copy()}),d.renderEnd("distribution immediate"),f}return f.options=r.utils.optionsFunc.bind(f),f.dispatch=c,f.margin=function(t){return arguments.length?(e.top=void 0!==t.top?t.top:e.top,e.right=void 0!==t.right?t.right:e.right,e.bottom=void 0!==t.bottom?t.bottom:e.bottom,e.left=void 0!==t.left?t.left:e.left,f):e},f.width=function(t){return arguments.length?(n=t,f):n},f.axis=function(t){return arguments.length?(o=t,f):o},f.size=function(t){return arguments.length?(i=t,f):i},f.getData=function(t){return arguments.length?(a=d3.functor(t),f):a},f.scale=function(t){return arguments.length?(l=t,f):l},f.color=function(t){return arguments.length?(s=r.utils.getColor(t),f):s},f.duration=function(t){return arguments.length?(d.reset(u=t),f):u},f},r.models.focus=function(t){"use strict";t=t||r.models.line();var e,n,i=r.models.axis(),o=r.models.axis(),a=d3.svg.brush(),s={top:10,right:0,bottom:30,left:0},l=r.utils.defaultColor(),u=null,c=70,d=!0,f=!1,h=!1,p=null,g=250,v=d3.dispatch("brush","onBrush","renderEnd"),m=!0;t.interactive(!1),t.pointActive(function(t){return!1});var y=r.utils.renderWatch(v,g);function x(b){return y.reset(),y.models(t),d&&y.models(i),f&&y.models(o),b.each(function(y){var b=d3.select(this);r.utils.initSVG(b);var k=r.utils.availableWidth(u,b,s),M=c-s.top-s.bottom;x.update=function(){0===g?b.call(x):b.transition().duration(g).call(x)},x.container=this,e=t.xScale(),n=t.yScale();var w=b.selectAll("g.nv-focus").data([y]),C=w.enter().append("g").attr("class","nvd3 nv-focus").append("g"),A=w.select("g");w.attr("transform","translate("+s.left+","+s.top+")"),C.append("g").attr("class","nv-background").append("rect"),C.append("g").attr("class","nv-x nv-axis"),C.append("g").attr("class","nv-y nv-axis"),C.append("g").attr("class","nv-contentWrap"),C.append("g").attr("class","nv-brushBackground"),C.append("g").attr("class","nv-x nv-brush"),h&&A.select(".nv-y.nv-axis").attr("transform","translate("+k+",0)"),A.select(".nv-background rect").attr("width",k).attr("height",M),t.width(k).height(M).color(y.map(function(t,e){return t.color||l(t,e)}).filter(function(t,e){return!y[e].disabled}));var S=A.select(".nv-contentWrap").datum(y.filter(function(t){return!t.disabled}));d3.transition(S).call(t),a.x(e).on("brush",function(){E(m)}),a.on("brushend",function(){m||v.onBrush(a.empty()?e.domain():a.extent())}),p&&a.extent(p);var _=A.select(".nv-brushBackground").selectAll("g").data([p||a.extent()]),D=_.enter().append("g");D.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",M),D.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",M);var F=A.select(".nv-x.nv-brush").call(a);function E(t){p=a.empty()?null:a.extent();var n=a.empty()?e.domain():a.extent();v.brush({extent:n,brush:a}),a.empty()||a.extent(p),_.data([a.empty()?e.domain():p]).each(function(t,n){var r=e(t[0])-e.range()[0],i=k-e(t[1]);d3.select(this).select(".left").attr("width",r<0?0:r),d3.select(this).select(".right").attr("x",e(t[1])).attr("width",i<0?0:i)}),t&&v.onBrush(n)}F.selectAll("rect").attr("height",M),F.selectAll(".resize").append("path").attr("d",function(t){var e=+("e"==t),n=e?1:-1,r=M/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}),E(!0),A.select(".nv-background rect").attr("width",k).attr("height",M),d&&(i.scale(e)._ticks(r.utils.calcTicksX(k/100,y)).tickSize(-M,0),A.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")"),d3.transition(A.select(".nv-x.nv-axis")).call(i)),f&&(o.scale(n)._ticks(r.utils.calcTicksY(M/36,y)).tickSize(-k,0),d3.transition(A.select(".nv-y.nv-axis")).call(o)),A.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")")}),y.renderEnd("focus immediate"),x}return x.dispatch=v,x.content=t,x.brush=a,x.xAxis=i,x.yAxis=o,x.options=r.utils.optionsFunc.bind(x),x._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return c},set:function(t){c=t}},showXAxis:{get:function(){return d},set:function(t){d=t}},showYAxis:{get:function(){return f},set:function(t){f=t}},brushExtent:{get:function(){return p},set:function(t){p=t}},syncBrushing:{get:function(){return m},set:function(t){m=t}},margin:{get:function(){return s},set:function(t){s.top=void 0!==t.top?t.top:s.top,s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left}},duration:{get:function(){return g},set:function(e){y.reset(g=e),t.duration(g),i.duration(g),o.duration(g)}},color:{get:function(){return l},set:function(e){l=r.utils.getColor(e),t.color(l)}},interpolate:{get:function(){return t.interpolate()},set:function(e){t.interpolate(e)}},xTickFormat:{get:function(){return i.tickFormat()},set:function(t){i.tickFormat(t)}},yTickFormat:{get:function(){return o.tickFormat()},set:function(t){o.tickFormat(t)}},x:{get:function(){return t.x()},set:function(e){t.x(e)}},y:{get:function(){return t.y()},set:function(e){t.y(e)}},rightAlignYAxis:{get:function(){return h},set:function(t){o.orient((h=t)?"right":"left")}}}),r.utils.inheritOptions(x,t),r.utils.initOptions(x),x},r.models.forceDirectedGraph=function(){"use strict";var t={top:2,right:0,bottom:2,left:0},e=400,n=32,i=null,o=d3.dispatch("renderEnd"),a=r.utils.getColor(["#000"]),s=r.models.tooltip(),l=null,u=.1,c=.9,d=30,f=-120,h=.1,p=.8,g=.1,v=5,m=function(t){},y=function(t){},x=d3.functor(0),b=d3.functor(0),k=r.utils.renderWatch(o);function M(o){return k.reset(),o.each(function(o){i=d3.select(this),r.utils.initSVG(i);var l=r.utils.availableWidth(e,i,t),x=r.utils.availableHeight(n,i,t);if(i.attr("width",l).attr("height",x),!(o&&o.links&&o.nodes))return r.utils.noData(M,i),M;i.selectAll(".nv-noData").remove(),i.selectAll("*").remove();var b=new Set;o.nodes.forEach(function(t){Object.keys(t).forEach(function(t){b.add(t)})});var k=d3.layout.force().nodes(o.nodes).links(o.links).size([l,x]).linkStrength(u).friction(c).linkDistance(d).charge(f).gravity(h).theta(p).alpha(g).start(),w=i.selectAll(".link").data(o.links).enter().append("line").attr("class","nv-force-link").style("stroke-width",function(t){return Math.sqrt(t.value)}),C=i.selectAll(".node").data(o.nodes).enter().append("g").attr("class","nv-force-node").call(k.drag);C.append("circle").attr("r",v).style("fill",function(t){return a(t)}).on("mouseover",function(t){i.select(".nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.py),i.select(".nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.px);var e=a(t);t.series=[],b.forEach(function(n){t.series.push({color:e,key:n,value:t[n]})}),s.data(t).hidden(!1)}).on("mouseout",function(t){s.hidden(!0)}),s.headerFormatter(function(t){return"Node"}),y(w),m(C),k.on("tick",function(){w.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),C.attr("transform",function(t){return"translate("+t.x+", "+t.y+")"})})}),M}return M.options=r.utils.optionsFunc.bind(M),M._options=Object.create({},{width:{get:function(){return e},set:function(t){e=t}},height:{get:function(){return n},set:function(t){n=t}},linkStrength:{get:function(){return u},set:function(t){u=t}},friction:{get:function(){return c},set:function(t){c=t}},linkDist:{get:function(){return d},set:function(t){d=t}},charge:{get:function(){return f},set:function(t){f=t}},gravity:{get:function(){return h},set:function(t){h=t}},theta:{get:function(){return p},set:function(t){p=t}},alpha:{get:function(){return g},set:function(t){g=t}},radius:{get:function(){return v},set:function(t){v=t}},x:{get:function(){return x},set:function(t){x=d3.functor(t)}},y:{get:function(){return b},set:function(t){b=d3.functor(t)}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},color:{get:function(){return a},set:function(t){a=r.utils.getColor(t)}},noData:{get:function(){return l},set:function(t){l=t}},nodeExtras:{get:function(){return m},set:function(t){m=t}},linkExtras:{get:function(){return y},set:function(t){y=t}}}),M.dispatch=o,M.tooltip=s,r.utils.initOptions(M),M},r.models.furiousLegend=function(){"use strict";var t={top:5,right:0,bottom:5,left:0},e=400,n=20,i=function(t){return t.key},o=function(t){return t},a=r.utils.getColor(),s=20,l=!0,u=28,c=!0,d=!0,f=!1,h=!1,p=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),g="classic";function v(m){function y(t,e){return"furious"!=g?"#000":h?t.disengaged?a(t,e):"#fff":h?void 0:t.disabled?a(t,e):"#fff"}function x(t,e){return h&&"furious"==g?t.disengaged?"#fff":a(t,e):t.disabled?"#fff":a(t,e)}return m.each(function(v){var m=e-t.left-t.right,b=d3.select(this);r.utils.initSVG(b);var k=b.selectAll("g.nv-legend").data([v]),M=(k.enter().append("g").attr("class","nvd3 nv-legend").append("g"),k.select("g"));k.attr("transform","translate("+t.left+","+t.top+")");var w,C=M.selectAll(".nv-series").data(function(t){return"furious"!=g?t:t.filter(function(t){return!!h||!t.disengaged})}),A=C.enter().append("g").attr("class","nv-series");"classic"==g?(A.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),w=C.select("circle")):"furious"==g&&(A.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),w=C.select("rect"),A.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),C.select(".nv-check-box").each(function(t,e){d3.select(this).selectAll("path").attr("stroke",y(t,e))})),A.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var S,_=C.select("text.nv-legend-text");switch(C.on("mouseover",function(t,e){p.legendMouseover(t,e)}).on("mouseout",function(t,e){p.legendMouseout(t,e)}).on("click",function(t,e){p.legendClick(t,e);var n=C.data();d&&("classic"==g?f?(n.forEach(function(t){t.disabled=!0}),t.disabled=!1):(t.disabled=!t.disabled,n.every(function(t){return t.disabled})&&n.forEach(function(t){t.disabled=!1})):"furious"==g&&(h?(t.disengaged=!t.disengaged,t.userDisabled=void 0==t.userDisabled?!!t.disabled:t.userDisabled,t.disabled=t.disengaged||t.userDisabled):h||(t.disabled=!t.disabled,t.userDisabled=t.disabled,n.filter(function(t){return!t.disengaged}).every(function(t){return t.userDisabled})&&n.forEach(function(t){t.disabled=t.userDisabled=!1}))),p.stateChange({disabled:n.map(function(t){return!!t.disabled}),disengaged:n.map(function(t){return!!t.disengaged})}))}).on("dblclick",function(t,e){if(("furious"!=g||!h)&&(p.legendDblclick(t,e),d)){var n=C.data();n.forEach(function(t){t.disabled=!0,"furious"==g&&(t.userDisabled=t.disabled)}),t.disabled=!1,"furious"==g&&(t.userDisabled=t.disabled),p.stateChange({disabled:n.map(function(t){return!!t.disabled})})}}),C.classed("nv-disabled",function(t){return t.userDisabled}),C.exit().remove(),_.attr("fill",y).text(function(t){return o(i(t))}),g){case"furious":S=23;break;case"classic":S=20}if(l){var D=[];C.each(function(t,e){var n,a;if(o(i(t))&&o(i(t)).length>s){var l=o(i(t)).substring(0,s);n=d3.select(this).select("text").text(l+"..."),d3.select(this).append("svg:title").text(o(i(t)))}else n=d3.select(this).select("text");try{if((a=n.node().getComputedTextLength())<=0)throw Error()}catch(t){a=r.utils.calcApproxTextWidth(n)}D.push(a+u)});for(var F=0,E=0,N=[];E<m&&F<D.length;)N[F]=D[F],E+=D[F++];for(0===F&&(F=1);E>m&&F>1;){N=[],F--;for(var P=0;P<D.length;P++)D[P]>(N[P%F]||0)&&(N[P%F]=D[P]);E=N.reduce(function(t,e,n,r){return t+e})}for(var T=[],I=0,O=0;I<F;I++)T[I]=O,O+=N[I];C.attr("transform",function(t,e){return"translate("+T[e%F]+","+(5+Math.floor(e/F)*S)+")"}),M.attr("transform",c?"translate("+(e-t.right-E)+","+t.top+")":"translate(0,"+t.top+")"),n=t.top+t.bottom+Math.ceil(D.length/F)*S}else{var L,W=5,z=5,R=0;C.attr("transform",function(n,r){var i=d3.select(this).select("text").node().getComputedTextLength()+u;return e<t.left+t.right+(L=z)+i&&(z=L=5,W+=S),(z+=i)>R&&(R=z),"translate("+L+","+W+")"}),M.attr("transform","translate("+(e-t.right-R)+","+t.top+")"),n=t.top+t.bottom+W+15}"furious"==g&&w.attr("width",function(t,e){return _[0][e].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),w.style("fill",x).style("stroke",function(t,e){return t.color||a(t,e)})}),v}return v.dispatch=p,v.options=r.utils.optionsFunc.bind(v),v._options=Object.create({},{width:{get:function(){return e},set:function(t){e=t}},height:{get:function(){return n},set:function(t){n=t}},key:{get:function(){return i},set:function(t){i=t}},keyFormatter:{get:function(){return o},set:function(t){o=t}},align:{get:function(){return l},set:function(t){l=t}},rightAlign:{get:function(){return c},set:function(t){c=t}},maxKeyLength:{get:function(){return s},set:function(t){s=t}},padding:{get:function(){return u},set:function(t){u=t}},updateState:{get:function(){return d},set:function(t){d=t}},radioButtonMode:{get:function(){return f},set:function(t){f=t}},expanded:{get:function(){return h},set:function(t){h=t}},vers:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},color:{get:function(){return a},set:function(t){a=r.utils.getColor(t)}}}),r.utils.initOptions(v),v},r.models.historicalBar=function(){"use strict";var t,e,n,i,o={top:0,right:0,bottom:0,left:0},a=null,s=null,l=Math.floor(1e4*Math.random()),u=null,c=d3.scale.linear(),d=d3.scale.linear(),f=function(t){return t.x},h=function(t){return t.y},p=[],g=[0],v=!1,m=!0,y=r.utils.defaultColor(),x=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),b=!0,k=r.utils.renderWatch(x,0);function M(w){return w.each(function(M){k.reset(),u=d3.select(this);var w=r.utils.availableWidth(a,u,o),C=r.utils.availableHeight(s,u,o);r.utils.initSVG(u),c.domain(t||d3.extent(M[0].values.map(f).concat(p))),c.range(v?n||[.5*w/M[0].values.length,w*(M[0].values.length-.5)/M[0].values.length]:n||[0,w]),d.domain(e||d3.extent(M[0].values.map(h).concat(g))).range(i||[C,0]),c.domain()[0]===c.domain()[1]&&(c.domain()[0]?c.domain([c.domain()[0]-.01*c.domain()[0],c.domain()[1]+.01*c.domain()[1]]):c.domain([-1,1])),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]+.01*d.domain()[0],d.domain()[1]-.01*d.domain()[1]]):d.domain([-1,1]));var A=u.selectAll("g.nv-wrap.nv-historicalBar-"+l).data([M[0].values]),S=A.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+l),_=S.append("defs"),D=S.append("g"),F=A.select("g");D.append("g").attr("class","nv-bars"),A.attr("transform","translate("+o.left+","+o.top+")"),u.on("click",function(t,e){x.chartClick({data:t,index:e,pos:d3.event,id:l})}),_.append("clipPath").attr("id","nv-chart-clip-path-"+l).append("rect"),A.select("#nv-chart-clip-path-"+l+" rect").attr("width",w).attr("height",C),F.attr("clip-path",m?"url(#nv-chart-clip-path-"+l+")":"");var E=A.select(".nv-bars").selectAll(".nv-bar").data(function(t){return t},function(t,e){return f(t,e)});E.exit().remove(),E.enter().append("rect").attr("x",0).attr("y",function(t,e){return r.utils.NaNtoZero(d(Math.max(0,h(t,e))))}).attr("height",function(t,e){return r.utils.NaNtoZero(Math.abs(d(h(t,e))-d(0)))}).attr("transform",function(t,e){return"translate("+(c(f(t,e))-w/M[0].values.length*.45)+",0)"}).on("mouseover",function(t,e){b&&(d3.select(this).classed("hover",!0),x.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")}))}).on("mouseout",function(t,e){b&&(d3.select(this).classed("hover",!1),x.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")}))}).on("mousemove",function(t,e){b&&x.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){b&&(x.elementClick({data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation())}).on("dblclick",function(t,e){b&&(x.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation())}),E.attr("fill",function(t,e){return y(t,e)}).attr("class",function(t,e,n){return(h(t,e)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+n+"-"+e}).watchTransition(k,"bars").attr("transform",function(t,e){return"translate("+(c(f(t,e))-w/M[0].values.length*.45)+",0)"}).attr("width",w/M[0].values.length*.9),E.watchTransition(k,"bars").attr("y",function(t,e){var n=h(t,e)<0?d(0):d(0)-d(h(t,e))<1?d(0)-1:d(h(t,e));return r.utils.NaNtoZero(n)}).attr("height",function(t,e){return r.utils.NaNtoZero(Math.max(Math.abs(d(h(t,e))-d(0)),1))})}),k.renderEnd("historicalBar immediate"),M}return M.highlightPoint=function(t,e){u.select(".nv-bars .nv-bar-0-"+t).classed("hover",e)},M.clearHighlights=function(){u.select(".nv-bars .nv-bar.hover").classed("hover",!1)},M.dispatch=x,M.options=r.utils.optionsFunc.bind(M),M._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return s},set:function(t){s=t}},forceX:{get:function(){return p},set:function(t){p=t}},forceY:{get:function(){return g},set:function(t){g=t}},padData:{get:function(){return v},set:function(t){v=t}},x:{get:function(){return f},set:function(t){f=t}},y:{get:function(){return h},set:function(t){h=t}},xScale:{get:function(){return c},set:function(t){c=t}},yScale:{get:function(){return d},set:function(t){d=t}},xDomain:{get:function(){return t},set:function(e){t=e}},yDomain:{get:function(){return e},set:function(t){e=t}},xRange:{get:function(){return n},set:function(t){n=t}},yRange:{get:function(){return i},set:function(t){i=t}},clipEdge:{get:function(){return m},set:function(t){m=t}},id:{get:function(){return l},set:function(t){l=t}},interactive:{get:function(){return b},set:function(t){b=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},color:{get:function(){return y},set:function(t){y=r.utils.getColor(t)}}}),r.utils.initOptions(M),M},r.models.historicalBarChart=function(t){"use strict";var e,n,i=t||r.models.historicalBar(),o=r.models.axis(),a=r.models.axis(),s=r.models.legend(),l=r.interactiveGuideline(),u=r.models.tooltip(),c={top:30,right:90,bottom:50,left:90},d=null,f=r.utils.defaultColor(),h=null,p=null,g=!1,v=!0,m=!0,y=!1,x=!1,b={},k=null,M=null,w=d3.dispatch("tooltipHide","stateChange","changeState","renderEnd"),C=250;o.orient("bottom").tickPadding(7),a.orient(y?"right":"left"),u.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return a.tickFormat()(t,e)}).headerFormatter(function(t,e){return o.tickFormat()(t,e)});var A=r.utils.renderWatch(w,0);function S(t){return t.each(function(u){A.reset(),A.models(i),v&&A.models(o),m&&A.models(a);var M=d3.select(this);r.utils.initSVG(M);var _,D=r.utils.availableWidth(h,M,c),F=r.utils.availableHeight(p,M,c);if(S.update=function(){M.transition().duration(C).call(S)},S.container=this,b.disabled=u.map(function(t){return!!t.disabled}),!k)for(_ in k={},b)k[_]=b[_]instanceof Array?b[_].slice(0):b[_];if(!(u&&u.length&&u.filter(function(t){return t.values.length}).length))return r.utils.noData(S,M),S;M.selectAll(".nv-noData").remove(),e=i.xScale(),n=i.yScale();var E=M.selectAll("g.nv-wrap.nv-historicalBarChart").data([u]),N=E.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),P=E.select("g");N.append("g").attr("class","nv-x nv-axis"),N.append("g").attr("class","nv-y nv-axis"),N.append("g").attr("class","nv-barsWrap"),N.append("g").attr("class","nv-legendWrap"),N.append("g").attr("class","nv-interactive"),g?(s.width(D),P.select(".nv-legendWrap").datum(u).call(s),d||s.height()===c.top||(c.top=s.height(),F=r.utils.availableHeight(p,M,c)),E.select(".nv-legendWrap").attr("transform","translate(0,"+-c.top+")")):P.select(".nv-legendWrap").selectAll("*").remove(),E.attr("transform","translate("+c.left+","+c.top+")"),y&&P.select(".nv-y.nv-axis").attr("transform","translate("+D+",0)"),x&&(l.width(D).height(F).margin({left:c.left,top:c.top}).svgContainer(M).xScale(e),E.select(".nv-interactive").call(l)),i.width(D).height(F).color(u.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!u[e].disabled})),P.select(".nv-barsWrap").datum(u.filter(function(t){return!t.disabled})).transition().call(i),v&&(o.scale(e)._ticks(r.utils.calcTicksX(D/100,u)).tickSize(-F,0),P.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")"),P.select(".nv-x.nv-axis").transition().call(o)),m&&(a.scale(n)._ticks(r.utils.calcTicksY(F/36,u)).tickSize(-D,0),P.select(".nv-y.nv-axis").transition().call(a)),l.dispatch.on("elementMousemove",function(t){i.clearHighlights();var e,n,s,c=[];u.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(o,a){n=r.interactiveBisect(o.values,t.pointXValue,S.x()),i.highlightPoint(n,!0);var l=o.values[n];void 0!==l&&(void 0===e&&(e=l),void 0===s&&(s=S.xScale()(S.x()(l,n))),c.push({key:o.key,value:S.y()(l,n),color:f(o,o.seriesIndex),data:o.values[n]}))});var d=o.tickFormat()(S.x()(e,n));l.tooltip.valueFormatter(function(t,e){return a.tickFormat()(t)}).data({value:d,index:n,series:c})(),l.renderGuideLine(s)}),l.dispatch.on("elementMouseout",function(t){w.tooltipHide(),i.clearHighlights()}),s.dispatch.on("legendClick",function(e,n){e.disabled=!e.disabled,u.filter(function(t){return!t.disabled}).length||u.map(function(t){return t.disabled=!1,E.selectAll(".nv-series").classed("disabled",!1),t}),b.disabled=u.map(function(t){return!!t.disabled}),w.stateChange(b),t.transition().call(S)}),s.dispatch.on("legendDblclick",function(t){u.forEach(function(t){t.disabled=!0}),t.disabled=!1,b.disabled=u.map(function(t){return!!t.disabled}),w.stateChange(b),S.update()}),w.on("changeState",function(t){void 0!==t.disabled&&(u.forEach(function(e,n){e.disabled=t.disabled[n]}),b.disabled=t.disabled),S.update()})}),A.renderEnd("historicalBarChart immediate"),S}return i.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:S.x()(t.data),value:S.y()(t.data),color:t.color},u.data(t).hidden(!1)}),i.dispatch.on("elementMouseout.tooltip",function(t){u.hidden(!0)}),i.dispatch.on("elementMousemove.tooltip",function(t){u()}),S.dispatch=w,S.bars=i,S.legend=s,S.xAxis=o,S.yAxis=a,S.interactiveLayer=l,S.tooltip=u,S.options=r.utils.optionsFunc.bind(S),S._options=Object.create({},{width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return p},set:function(t){p=t}},showLegend:{get:function(){return g},set:function(t){g=t}},showXAxis:{get:function(){return v},set:function(t){v=t}},showYAxis:{get:function(){return m},set:function(t){m=t}},defaultState:{get:function(){return k},set:function(t){k=t}},noData:{get:function(){return M},set:function(t){M=t}},margin:{get:function(){return c},set:function(t){void 0!==t.top&&(c.top=t.top,d=t.top),c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},color:{get:function(){return f},set:function(t){f=r.utils.getColor(t),s.color(f),i.color(f)}},duration:{get:function(){return C},set:function(t){A.reset(C=t),a.duration(C),o.duration(C)}},rightAlignYAxis:{get:function(){return y},set:function(t){y=t,a.orient(t?"right":"left")}},useInteractiveGuideline:{get:function(){return x},set:function(t){x=t,!0===t&&S.interactive(!1)}}}),r.utils.inheritOptions(S,i),r.utils.initOptions(S),S},r.models.ohlcBarChart=function(){var t=r.models.historicalBarChart(r.models.ohlcBar());return t.useInteractiveGuideline(!0),t.interactiveLayer.tooltip.contentGenerator(function(e){var n=e.series[0].data;return'<h3 style="color: #'+(n.open<n.close?"2ca02c":"d62728")+'">'+e.value+"</h3><table><tr><td>open:</td><td>"+t.yAxis.tickFormat()(n.open)+"</td></tr><tr><td>close:</td><td>"+t.yAxis.tickFormat()(n.close)+"</td></tr><tr><td>high</td><td>"+t.yAxis.tickFormat()(n.high)+"</td></tr><tr><td>low:</td><td>"+t.yAxis.tickFormat()(n.low)+"</td></tr></table>"}),t},r.models.candlestickBarChart=function(){var t=r.models.historicalBarChart(r.models.candlestickBar());return t.useInteractiveGuideline(!0),t.interactiveLayer.tooltip.contentGenerator(function(e){var n=e.series[0].data;return'<h3 style="color: #'+(n.open<n.close?"2ca02c":"d62728")+'">'+e.value+"</h3><table><tr><td>open:</td><td>"+t.yAxis.tickFormat()(n.open)+"</td></tr><tr><td>close:</td><td>"+t.yAxis.tickFormat()(n.close)+"</td></tr><tr><td>high</td><td>"+t.yAxis.tickFormat()(n.high)+"</td></tr><tr><td>low:</td><td>"+t.yAxis.tickFormat()(n.low)+"</td></tr></table>"}),t},r.models.legend=function(){"use strict";var t={top:5,right:0,bottom:5,left:0},e=400,n=20,i=function(t){return t.key},o=function(t){return t},a=r.utils.getColor(),s=20,l=!0,u=32,c=!0,d=!0,f=!0,h=!1,p=!1,g=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),v="classic";function m(y){function x(t,e){return"furious"!=v?"#000":p?t.disengaged?"#000":"#fff":p?void 0:(t.color||(t.color=a(t,e)),t.disabled?t.color:"#fff")}function b(t,e){return p&&"furious"==v&&t.disengaged?"#eee":t.color||a(t,e)}function k(t,e){return p&&"furious"==v?1:t.disabled?0:1}return y.each(function(a){var m=e-t.left-t.right,y=d3.select(this);r.utils.initSVG(y);var M=y.selectAll("g.nv-legend").data([a]),w=M.enter().append("g").attr("class","nvd3 nv-legend").append("g"),C=M.select("g");M.attr("transform",c?"translate("+-t.right+","+t.top+")":"translate("+t.left+","+t.top+")");var A,S,_=C.selectAll(".nv-series").data(function(t){return"furious"!=v?t:t.filter(function(t){return!!p||!t.disengaged})}),D=_.enter().append("g").attr("class","nv-series");switch(v){case"furious":S=23;break;case"classic":S=20}"classic"==v?(D.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),A=_.select(".nv-legend-symbol")):"furious"==v&&(D.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),A=_.select(".nv-legend-symbol"),D.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),_.select(".nv-check-box").each(function(t,e){d3.select(this).selectAll("path").attr("stroke",x(t,e))})),D.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var F=_.select("text.nv-legend-text");_.on("mouseover",function(t,e){g.legendMouseover(t,e)}).on("mouseout",function(t,e){g.legendMouseout(t,e)}).on("click",function(t,e){g.legendClick(t,e);var n=_.data();d&&("classic"==v?h?(n.forEach(function(t){t.disabled=!0}),t.disabled=!1):(t.disabled=!t.disabled,n.every(function(t){return t.disabled})&&n.forEach(function(t){t.disabled=!1})):"furious"==v&&(p?(t.disengaged=!t.disengaged,t.userDisabled=void 0==t.userDisabled?!!t.disabled:t.userDisabled,t.disabled=t.disengaged||t.userDisabled):p||(t.disabled=!t.disabled,t.userDisabled=t.disabled,n.filter(function(t){return!t.disengaged}).every(function(t){return t.userDisabled})&&n.forEach(function(t){t.disabled=t.userDisabled=!1}))),g.stateChange({disabled:n.map(function(t){return!!t.disabled}),disengaged:n.map(function(t){return!!t.disengaged})}))}).on("dblclick",function(t,e){if(f){if("furious"==v&&p)return;if(g.legendDblclick(t,e),d){var n=_.data();n.forEach(function(t){t.disabled=!0,"furious"==v&&(t.userDisabled=t.disabled)}),t.disabled=!1,"furious"==v&&(t.userDisabled=t.disabled),g.stateChange({disabled:n.map(function(t){return!!t.disabled})})}}}),_.classed("nv-disabled",function(t){return t.userDisabled}),_.exit().remove(),F.attr("fill",x).text(function(t){return o(i(t))});var E=0;if(l){var N=[];_.each(function(t,e){var n,a;if(o(i(t))&&o(i(t)).length>s){var l=o(i(t)).substring(0,s);n=d3.select(this).select("text").text(l+"..."),d3.select(this).append("svg:title").text(o(i(t)))}else n=d3.select(this).select("text");try{if((a=n.node().getComputedTextLength())<=0)throw Error()}catch(t){a=r.utils.calcApproxTextWidth(n)}N.push(a+u)});var P=0,T=[];for(E=0;E<m&&P<N.length;)T[P]=N[P],E+=N[P++];for(0===P&&(P=1);E>m&&P>1;){T=[],P--;for(var I=0;I<N.length;I++)N[I]>(T[I%P]||0)&&(T[I%P]=N[I]);E=T.reduce(function(t,e,n,r){return t+e})}for(var O=[],L=0,W=0;L<P;L++)O[L]=W,W+=T[L];_.attr("transform",function(t,e){return"translate("+O[e%P]+","+(5+Math.floor(e/P)*S)+")"}),C.attr("transform",c?"translate("+(e-t.right-E)+","+t.top+")":"translate(0,"+t.top+")"),n=t.top+t.bottom+Math.ceil(N.length/P)*S}else{var z,R=5,B=5,V=0;_.attr("transform",function(n,r){var i=d3.select(this).select("text").node().getComputedTextLength()+u;return e<t.left+t.right+(z=B)+i&&(B=z=5,R+=S),(B+=i)>V&&(V=B),E<z+V&&(E=z+V),"translate("+z+","+R+")"}),C.attr("transform","translate("+(e-t.right-V)+","+t.top+")"),n=t.top+t.bottom+R+15}"furious"==v&&(A.attr("width",function(t,e){return F[0][e].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),w.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0),C.select(".nv-legend-bg").transition().duration(300).attr("x",-S).attr("width",E+S-12).attr("height",n+10).attr("y",-t.top-10).attr("opacity",p?1:0)),A.style("fill",b).style("fill-opacity",k).style("stroke",b)}),m}return m.dispatch=g,m.options=r.utils.optionsFunc.bind(m),m._options=Object.create({},{width:{get:function(){return e},set:function(t){e=t}},height:{get:function(){return n},set:function(t){n=t}},key:{get:function(){return i},set:function(t){i=t}},keyFormatter:{get:function(){return o},set:function(t){o=t}},align:{get:function(){return l},set:function(t){l=t}},maxKeyLength:{get:function(){return s},set:function(t){s=t}},rightAlign:{get:function(){return c},set:function(t){c=t}},padding:{get:function(){return u},set:function(t){u=t}},updateState:{get:function(){return d},set:function(t){d=t}},enableDoubleClick:{get:function(){return f},set:function(t){f=t}},radioButtonMode:{get:function(){return h},set:function(t){h=t}},expanded:{get:function(){return p},set:function(t){p=t}},vers:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},color:{get:function(){return a},set:function(t){a=r.utils.getColor(t)}}}),r.utils.initOptions(m),m},r.models.line=function(){"use strict";var t,e,n=r.models.scatter(),i={top:0,right:0,bottom:0,left:0},o=960,a=500,s=null,l=1.5,u=r.utils.defaultColor(),c=function(t){return t.x},d=function(t){return t.y},f=function(t,e){return!isNaN(d(t,e))&&null!==d(t,e)},h=function(t){return t.area},p=!1,g="linear",v=250,m=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");n.pointSize(16).pointDomain([16,256]);var y,x,b=r.utils.renderWatch(m,v);function k(v){return b.reset(),b.models(n),v.each(function(v){s=d3.select(this);var m=r.utils.availableWidth(o,s,i),k=r.utils.availableHeight(a,s,i);r.utils.initSVG(s),t=n.xScale(),e=n.yScale(),y=y||t,x=x||e;var M=s.selectAll("g.nv-wrap.nv-line").data([v]),w=M.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),C=w.append("defs"),A=w.append("g"),S=M.select("g");A.append("g").attr("class","nv-groups"),A.append("g").attr("class","nv-scatterWrap"),M.attr("transform","translate("+i.left+","+i.top+")"),n.width(m).height(k);var _=M.select(".nv-scatterWrap");_.call(n),C.append("clipPath").attr("id","nv-edge-clip-"+n.id()).append("rect"),M.select("#nv-edge-clip-"+n.id()+" rect").attr("width",m).attr("height",k>0?k:0),S.attr("clip-path",p?"url(#nv-edge-clip-"+n.id()+")":""),_.attr("clip-path",p?"url(#nv-edge-clip-"+n.id()+")":"");var D=M.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});D.enter().append("g").style("stroke-opacity",1e-6).style("stroke-width",function(t){return t.strokeWidth||l}).style("fill-opacity",1e-6),D.exit().remove(),D.attr("class",function(t,e){return(t.classed||"")+" nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return u(t,e)}).style("stroke",function(t,e){return u(t,e)}),D.watchTransition(b,"line: groups").style("stroke-opacity",1).style("fill-opacity",function(t){return t.fillOpacity||.5});var F=D.selectAll("path.nv-area").data(function(t){return h(t)?[t]:[]});F.enter().append("path").attr("class","nv-area").attr("d",function(t){return d3.svg.area().interpolate(g).defined(f).x(function(t,e){return r.utils.NaNtoZero(y(c(t,e)))}).y0(function(t,e){return r.utils.NaNtoZero(x(d(t,e)))}).y1(function(t,n){return x(e.domain()[0]<=0?e.domain()[1]>=0?0:e.domain()[1]:e.domain()[0])}).apply(this,[t.values])}),D.exit().selectAll("path.nv-area").remove(),F.watchTransition(b,"line: areaPaths").attr("d",function(n){return d3.svg.area().interpolate(g).defined(f).x(function(e,n){return r.utils.NaNtoZero(t(c(e,n)))}).y0(function(t,n){return r.utils.NaNtoZero(e(d(t,n)))}).y1(function(t,n){return e(e.domain()[0]<=0?e.domain()[1]>=0?0:e.domain()[1]:e.domain()[0])}).apply(this,[n.values])});var E=D.selectAll("path.nv-line").data(function(t){return[t.values]});E.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(g).defined(f).x(function(t,e){return r.utils.NaNtoZero(y(c(t,e)))}).y(function(t,e){return r.utils.NaNtoZero(x(d(t,e)))})),E.watchTransition(b,"line: linePaths").attr("d",d3.svg.line().interpolate(g).defined(f).x(function(e,n){return r.utils.NaNtoZero(t(c(e,n)))}).y(function(t,n){return r.utils.NaNtoZero(e(d(t,n)))})),y=t.copy(),x=e.copy()}),b.renderEnd("line immediate"),k}return k.dispatch=m,k.scatter=n,n.dispatch.on("elementClick",function(){m.elementClick.apply(this,arguments)}),n.dispatch.on("elementMouseover",function(){m.elementMouseover.apply(this,arguments)}),n.dispatch.on("elementMouseout",function(){m.elementMouseout.apply(this,arguments)}),k.options=r.utils.optionsFunc.bind(k),k._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return a},set:function(t){a=t}},defined:{get:function(){return f},set:function(t){f=t}},interpolate:{get:function(){return g},set:function(t){g=t}},clipEdge:{get:function(){return p},set:function(t){p=t}},margin:{get:function(){return i},set:function(t){i.top=void 0!==t.top?t.top:i.top,i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}},duration:{get:function(){return v},set:function(t){b.reset(v=t),n.duration(v)}},isArea:{get:function(){return h},set:function(t){h=d3.functor(t)}},x:{get:function(){return c},set:function(t){c=t,n.x(t)}},y:{get:function(){return d},set:function(t){d=t,n.y(t)}},color:{get:function(){return u},set:function(t){u=r.utils.getColor(t),n.color(u)}}}),r.utils.inheritOptions(k,n),r.utils.initOptions(k),k},r.models.lineChart=function(){"use strict";var t,e,n=r.models.line(),i=r.models.axis(),o=r.models.axis(),a=r.models.legend(),s=r.interactiveGuideline(),l=r.models.tooltip(),u=r.models.focus(r.models.line()),c={top:30,right:20,bottom:50,left:60},d=null,f=r.utils.defaultColor(),h=null,p=null,g=!0,v="top",m=!0,y=!0,x=!1,b=!1,k=!1,M=r.utils.state(),w=null,C=null,A=d3.dispatch("stateChange","changeState","renderEnd"),S=250;i.orient("bottom").tickPadding(7),o.orient(x?"right":"left"),n.clipEdge(!0).duration(0),l.valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return i.tickFormat()(t,e)}),s.tooltip.valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return i.tickFormat()(t,e)});var _=r.utils.renderWatch(A,S),D=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},F=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};function E(l){return _.reset(),_.models(n),m&&_.models(i),y&&_.models(o),l.each(function(l){var C=d3.select(this);r.utils.initSVG(C);var _,N=r.utils.availableWidth(h,C,c),P=r.utils.availableHeight(p,C,c)-(k?u.height():0);if(E.update=function(){0===S?C.call(E):C.transition().duration(S).call(E)},E.container=this,M.setter(F(l),E.update).getter(D(l)).update(),M.disabled=l.map(function(t){return!!t.disabled}),!w)for(_ in w={},M)w[_]=M[_]instanceof Array?M[_].slice(0):M[_];if(!(l&&l.length&&l.filter(function(t){return t.values.length}).length))return r.utils.noData(E,C),E;C.selectAll(".nv-noData").remove(),u.dispatch.on("onBrush",function(t){V(t)}),t=n.xScale(),e=n.yScale();var T=C.selectAll("g.nv-wrap.nv-lineChart").data([l]),I=T.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),O=T.select("g");I.append("g").attr("class","nv-legendWrap");var L=I.append("g").attr("class","nv-focus");L.append("g").attr("class","nv-background").append("rect"),L.append("g").attr("class","nv-x nv-axis"),L.append("g").attr("class","nv-y nv-axis"),L.append("g").attr("class","nv-linesWrap"),L.append("g").attr("class","nv-interactive"),I.append("g").attr("class","nv-focusWrap"),g?(a.width(N),O.select(".nv-legendWrap").datum(l).call(a),"bottom"===v?(c.bottom=i.height()+a.height(),P=r.utils.availableHeight(p,C,c),O.select(".nv-legendWrap").attr("transform","translate(0,"+(P+i.height())+")")):"top"===v&&(d||a.height()===c.top||(c.top=a.height(),P=r.utils.availableHeight(p,C,c)-(k?u.height():0)),T.select(".nv-legendWrap").attr("transform","translate(0,"+-c.top+")"))):O.select(".nv-legendWrap").selectAll("*").remove(),T.attr("transform","translate("+c.left+","+c.top+")"),x&&O.select(".nv-y.nv-axis").attr("transform","translate("+N+",0)"),b&&(s.width(N).height(P).margin({left:c.left,top:c.top}).svgContainer(C).xScale(t),T.select(".nv-interactive").call(s)),O.select(".nv-focus .nv-background rect").attr("width",N).attr("height",P),n.width(N).height(P).color(l.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!l[e].disabled}));var W=O.select(".nv-linesWrap").datum(l.filter(function(t){return!t.disabled}));function z(){m&&O.select(".nv-focus .nv-x.nv-axis").transition().duration(S).call(i)}function R(){y&&O.select(".nv-focus .nv-y.nv-axis").transition().duration(S).call(o)}if(m&&i.scale(t)._ticks(r.utils.calcTicksX(N/100,l)).tickSize(-P,0),y&&o.scale(e)._ticks(r.utils.calcTicksY(P/36,l)).tickSize(-N,0),O.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+P+")"),k||null!==u.brush.extent()){u.width(N),O.select(".nv-focusWrap").style("display",k?"initial":"none").attr("transform","translate(0,"+(P+c.bottom+u.margin().top)+")").call(u);var B=u.brush.empty()?u.xDomain():u.brush.extent();null!==B&&V(B)}else W.call(n),z(),R();function V(t){O.select(".nv-focus .nv-linesWrap").datum(l.filter(function(t){return!t.disabled}).map(function(e,r){return{key:e.key,area:e.area,classed:e.classed,values:e.values.filter(function(e,r){return n.x()(e,r)>=t[0]&&n.x()(e,r)<=t[1]}),disableTooltip:e.disableTooltip}})).transition().duration(S).call(n),z(),R()}a.dispatch.on("stateChange",function(t){for(var e in t)M[e]=t[e];A.stateChange(M),E.update()}),s.dispatch.on("elementMousemove",function(e){n.clearHighlights();var i,a,c,d=[];if(l.filter(function(t,e){return t.seriesIndex=e,!t.disabled&&!t.disableTooltip}).forEach(function(o,s){var l=null!==u.brush.extent()?u.brush.empty()?u.xScale().domain():u.brush.extent():t.domain(),h=o.values.filter(function(t,e){return l[0]<=l[1]?n.x()(t,e)>=l[0]&&n.x()(t,e)<=l[1]:n.x()(t,e)>=l[1]&&n.x()(t,e)<=l[0]}),p=h[a=r.interactiveBisect(h,e.pointXValue,n.x())],g=E.y()(p,a);null!==g&&n.highlightPoint(s,a,!0),void 0!==p&&(void 0===i&&(i=p),void 0===c&&(c=E.xScale()(E.x()(p,a))),d.push({key:o.key,value:g,color:f(o,o.seriesIndex),data:p}))}),d.length>2){var h=E.yScale().invert(e.mouseY),p=.03*Math.abs(E.yScale().domain()[0]-E.yScale().domain()[1]),g=r.nearestValueIndex(d.map(function(t){return t.value}),h,p);null!==g&&(d[g].highlight=!0)}s.tooltip.valueFormatter(s.tooltip.valueFormatter()||function(t,e){return null==t?"N/A":o.tickFormat()(t)}).data({value:E.x()(i,a),index:a,series:d})(),s.renderGuideLine(c)}),s.dispatch.on("elementClick",function(t){var e,i=[];l.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(n){var o=r.interactiveBisect(n.values,t.pointXValue,E.x()),a=n.values[o];if(void 0!==a){void 0===e&&(e=E.xScale()(E.x()(a,o)));var s=E.yScale()(E.y()(a,o));i.push({point:a,pointIndex:o,pos:[e,s],seriesIndex:n.seriesIndex,series:n})}}),n.dispatch.elementClick(i)}),s.dispatch.on("elementMouseout",function(t){n.clearHighlights()}),A.on("changeState",function(t){void 0!==t.disabled&&l.length===t.disabled.length&&(l.forEach(function(e,n){e.disabled=t.disabled[n]}),M.disabled=t.disabled),E.update()})}),_.renderEnd("lineChart immediate"),E}return n.dispatch.on("elementMouseover.tooltip",function(t){t.series.disableTooltip||l.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){l.hidden(!0)}),E.dispatch=A,E.lines=n,E.legend=a,E.focus=u,E.xAxis=i,E.x2Axis=u.xAxis,E.yAxis=o,E.y2Axis=u.yAxis,E.interactiveLayer=s,E.tooltip=l,E.state=M,E.dispatch=A,E.options=r.utils.optionsFunc.bind(E),E._options=Object.create({},{width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return p},set:function(t){p=t}},showLegend:{get:function(){return g},set:function(t){g=t}},legendPosition:{get:function(){return v},set:function(t){v=t}},showXAxis:{get:function(){return m},set:function(t){m=t}},showYAxis:{get:function(){return y},set:function(t){y=t}},defaultState:{get:function(){return w},set:function(t){w=t}},noData:{get:function(){return C},set:function(t){C=t}},focusEnable:{get:function(){return k},set:function(t){k=t}},focusHeight:{get:function(){return u.height()},set:function(t){u.height(t)}},focusShowAxisX:{get:function(){return u.showXAxis()},set:function(t){u.showXAxis(t)}},focusShowAxisY:{get:function(){return u.showYAxis()},set:function(t){u.showYAxis(t)}},brushExtent:{get:function(){return u.brushExtent()},set:function(t){u.brushExtent(t)}},focusMargin:{get:function(){return u.margin},set:function(t){void 0!==t.top&&(c.top=t.top,d=t.top),u.margin.right=void 0!==t.right?t.right:u.margin.right,u.margin.bottom=void 0!==t.bottom?t.bottom:u.margin.bottom,u.margin.left=void 0!==t.left?t.left:u.margin.left}},margin:{get:function(){return c},set:function(t){c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},duration:{get:function(){return S},set:function(t){_.reset(S=t),n.duration(S),u.duration(S),i.duration(S),o.duration(S)}},color:{get:function(){return f},set:function(t){f=r.utils.getColor(t),a.color(f),n.color(f),u.color(f)}},interpolate:{get:function(){return n.interpolate()},set:function(t){n.interpolate(t),u.interpolate(t)}},xTickFormat:{get:function(){return i.tickFormat()},set:function(t){i.tickFormat(t),u.xTickFormat(t)}},yTickFormat:{get:function(){return o.tickFormat()},set:function(t){o.tickFormat(t),u.yTickFormat(t)}},x:{get:function(){return n.x()},set:function(t){n.x(t),u.x(t)}},y:{get:function(){return n.y()},set:function(t){n.y(t),u.y(t)}},rightAlignYAxis:{get:function(){return x},set:function(t){o.orient((x=t)?"right":"left")}},useInteractiveGuideline:{get:function(){return b},set:function(t){(b=t)&&(n.interactive(!1),n.useVoronoi(!1))}}}),r.utils.inheritOptions(E,n),r.utils.initOptions(E),E},r.models.lineWithFocusChart=function(){return r.models.lineChart().margin({bottom:30}).focusEnable(!0)},r.models.linePlusBarChart=function(){"use strict";var t,e,n,i,o,a,s,l=r.models.line(),u=r.models.line(),c=r.models.historicalBar(),d=r.models.historicalBar(),f=r.models.axis(),h=r.models.axis(),p=r.models.axis(),g=r.models.axis(),v=r.models.axis(),m=r.models.axis(),y=r.models.legend(),x=d3.svg.brush(),b=r.models.tooltip(),k={top:30,right:30,bottom:30,left:60},M=null,w={top:0,right:30,bottom:20,left:60},C=null,A=null,S=function(t){return t.x},_=function(t){return t.y},D=r.utils.defaultColor(),F=!0,E=!0,N=!1,P=!0,T=50,I=null,O=null,L=d3.dispatch("brush","stateChange","changeState"),W=0,z=r.utils.state(),R=null,B=" (left axis)",V=" (right axis)",H=!1;l.clipEdge(!0),u.interactive(!1),u.pointActive(function(t){return!1}),f.orient("bottom").tickPadding(5),p.orient("left"),g.orient("right"),h.orient("bottom").tickPadding(5),v.orient("left"),m.orient("right"),b.headerEnabled(!0).headerFormatter(function(t,e){return f.tickFormat()(t,e)});var j=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},q=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}},Y=function(t){return t.every(function(t){return t.disabled})};function X(b){return b.each(function(b){var O=d3.select(this);r.utils.initSVG(O);var U,G=r.utils.availableWidth(C,O,k),Z=r.utils.availableHeight(A,O,k)-(E?T:0),K=T-w.top-w.bottom;if(X.update=function(){O.transition().duration(W).call(X)},X.container=this,z.setter(q(b),X.update).getter(j(b)).update(),z.disabled=b.map(function(t){return!!t.disabled}),!R)for(U in R={},z)R[U]=z[U]instanceof Array?z[U].slice(0):z[U];if(!(b&&b.length&&b.filter(function(t){return t.values.length}).length))return r.utils.noData(X,O),X;O.selectAll(".nv-noData").remove();var J=b.filter(function(t){return!t.disabled&&t.bar}),$=b.filter(function(t){return!t.bar});e=J.length&&!H?c.xScale():l.xScale(),n=h.scale(),i=H?l.yScale():c.yScale(),o=H?c.yScale():l.yScale(),a=H?u.yScale():d.yScale(),s=H?d.yScale():u.yScale();var Q=b.filter(function(t){return!t.disabled&&(H?!t.bar:t.bar)}).map(function(t){return t.values.map(function(t,e){return{x:S(t,e),y:_(t,e)}})}),tt=b.filter(function(t){return!t.disabled&&(H?t.bar:!t.bar)}).map(function(t){return t.values.map(function(t,e){return{x:S(t,e),y:_(t,e)}})});e.range([0,G]),n.domain(d3.extent(d3.merge(Q.concat(tt)),function(t){return t.x})).range([0,G]);var et=O.selectAll("g.nv-wrap.nv-linePlusBar").data([b]),nt=et.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),rt=et.select("g");nt.append("g").attr("class","nv-legendWrap");var it=nt.append("g").attr("class","nv-focus");it.append("g").attr("class","nv-x nv-axis"),it.append("g").attr("class","nv-y1 nv-axis"),it.append("g").attr("class","nv-y2 nv-axis"),it.append("g").attr("class","nv-barsWrap"),it.append("g").attr("class","nv-linesWrap");var ot=nt.append("g").attr("class","nv-context");if(ot.append("g").attr("class","nv-x nv-axis"),ot.append("g").attr("class","nv-y1 nv-axis"),ot.append("g").attr("class","nv-y2 nv-axis"),ot.append("g").attr("class","nv-barsWrap"),ot.append("g").attr("class","nv-linesWrap"),ot.append("g").attr("class","nv-brushBackground"),ot.append("g").attr("class","nv-x nv-brush"),F){var at=y.align()?G/2:G,st=y.align()?at:0;y.width(at),rt.select(".nv-legendWrap").datum(b.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=H?t.originalKey+(t.bar?V:B):t.originalKey+(t.bar?B:V),t})).call(y),M||y.height()===k.top||(k.top=y.height(),Z=r.utils.availableHeight(A,O,k)-T),rt.select(".nv-legendWrap").attr("transform","translate("+st+","+-k.top+")")}else rt.select(".nv-legendWrap").selectAll("*").remove();et.attr("transform","translate("+k.left+","+k.top+")"),rt.select(".nv-context").style("display",E?"initial":"none"),d.width(G).height(K).color(b.map(function(t,e){return t.color||D(t,e)}).filter(function(t,e){return!b[e].disabled&&b[e].bar})),u.width(G).height(K).color(b.map(function(t,e){return t.color||D(t,e)}).filter(function(t,e){return!b[e].disabled&&!b[e].bar}));var lt=rt.select(".nv-context .nv-barsWrap").datum(J.length?J:[{values:[]}]),ut=rt.select(".nv-context .nv-linesWrap").datum(Y($)?[{values:[]}]:$.filter(function(t){return!t.disabled}));rt.select(".nv-context").attr("transform","translate(0,"+(Z+k.bottom+w.top)+")"),lt.transition().call(d),ut.transition().call(u),P&&(h._ticks(r.utils.calcTicksX(G/100,b)).tickSize(-K,0),rt.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+a.range()[0]+")"),rt.select(".nv-context .nv-x.nv-axis").transition().call(h)),N&&(v.scale(a)._ticks(K/36).tickSize(-G,0),m.scale(s)._ticks(K/36).tickSize(J.length?0:-G,0),rt.select(".nv-context .nv-y3.nv-axis").style("opacity",J.length?1:0).attr("transform","translate(0,"+n.range()[0]+")"),rt.select(".nv-context .nv-y2.nv-axis").style("opacity",$.length?1:0).attr("transform","translate("+n.range()[1]+",0)"),rt.select(".nv-context .nv-y1.nv-axis").transition().call(v),rt.select(".nv-context .nv-y2.nv-axis").transition().call(m)),x.x(n).on("brush",ht),I&&x.extent(I);var ct=rt.select(".nv-brushBackground").selectAll("g").data([I||x.extent()]),dt=ct.enter().append("g");dt.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",K),dt.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",K);var ft=rt.select(".nv-x.nv-brush").call(x);function ht(){I=x.empty()?null:x.extent(),t=x.empty()?n.domain():x.extent(),L.brush({extent:t,brush:x}),x.empty()||x.extent(I),ct.data([x.empty()?n.domain():I]).each(function(t,e){var r=n(t[0])-n.range()[0],i=n.range()[1]-n(t[1]);d3.select(this).select(".left").attr("width",r<0?0:r),d3.select(this).select(".right").attr("x",n(t[1])).attr("width",i<0?0:i)}),c.width(G).height(Z).color(b.map(function(t,e){return t.color||D(t,e)}).filter(function(t,e){return!b[e].disabled&&b[e].bar})),l.width(G).height(Z).color(b.map(function(t,e){return t.color||D(t,e)}).filter(function(t,e){return!b[e].disabled&&!b[e].bar}));var a=rt.select(".nv-focus .nv-barsWrap").datum(J.length?J.map(function(e,n){return{key:e.key,values:e.values.filter(function(e,n){return c.x()(e,n)>=t[0]&&c.x()(e,n)<=t[1]})}}):[{values:[]}]),s=rt.select(".nv-focus .nv-linesWrap").datum(Y($)?[{values:[]}]:$.filter(function(t){return!t.disabled}).map(function(e,n){return{area:e.area,fillOpacity:e.fillOpacity,strokeWidth:e.strokeWidth,key:e.key,values:e.values.filter(function(e,n){return l.x()(e,n)>=t[0]&&l.x()(e,n)<=t[1]})}}));e=J.length&&!H?c.xScale():l.xScale(),f.scale(e)._ticks(r.utils.calcTicksX(G/100,b)).tickSize(-Z,0),f.domain([Math.ceil(t[0]),Math.floor(t[1])]),rt.select(".nv-x.nv-axis").transition().duration(W).call(f),a.transition().duration(W).call(c),s.transition().duration(W).call(l),rt.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),p.scale(i)._ticks(r.utils.calcTicksY(Z/36,b)).tickSize(-G,0),g.scale(o)._ticks(r.utils.calcTicksY(Z/36,b)),g.tickSize(H?$.length?0:-G:J.length?0:-G,0);var u=J.length?1:0,d=$.length&&!Y($)?1:0,h=H?d:u,v=H?u:d;rt.select(".nv-focus .nv-y1.nv-axis").style("opacity",h),rt.select(".nv-focus .nv-y2.nv-axis").style("opacity",v).attr("transform","translate("+e.range()[1]+",0)"),rt.select(".nv-focus .nv-y1.nv-axis").transition().duration(W).call(p),rt.select(".nv-focus .nv-y2.nv-axis").transition().duration(W).call(g)}ft.selectAll("rect").attr("height",K),ft.selectAll(".resize").append("path").attr("d",function(t){var e=+("e"==t),n=e?1:-1,r=K/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}),y.dispatch.on("stateChange",function(t){for(var e in t)z[e]=t[e];L.stateChange(z),X.update()}),L.on("changeState",function(t){void 0!==t.disabled&&(b.forEach(function(e,n){e.disabled=t.disabled[n]}),z.disabled=t.disabled),X.update()}),ht()}),X}return l.dispatch.on("elementMouseover.tooltip",function(t){b.duration(100).valueFormatter(function(t,e){return(H?{main:p,focus:v}:{main:g,focus:m}).main.tickFormat()(t,e)}).data(t).hidden(!1)}),l.dispatch.on("elementMouseout.tooltip",function(t){b.hidden(!0)}),c.dispatch.on("elementMouseover.tooltip",function(t){t.value=X.x()(t.data),t.series={value:X.y()(t.data),color:t.color},b.duration(0).valueFormatter(function(t,e){return(H?{main:g,focus:m}:{main:p,focus:v}).main.tickFormat()(t,e)}).data(t).hidden(!1)}),c.dispatch.on("elementMouseout.tooltip",function(t){b.hidden(!0)}),c.dispatch.on("elementMousemove.tooltip",function(t){b()}),X.dispatch=L,X.legend=y,X.lines=l,X.lines2=u,X.bars=c,X.bars2=d,X.xAxis=f,X.x2Axis=h,X.y1Axis=p,X.y2Axis=g,X.y3Axis=v,X.y4Axis=m,X.tooltip=b,X.options=r.utils.optionsFunc.bind(X),X._options=Object.create({},{width:{get:function(){return C},set:function(t){C=t}},height:{get:function(){return A},set:function(t){A=t}},showLegend:{get:function(){return F},set:function(t){F=t}},brushExtent:{get:function(){return I},set:function(t){I=t}},noData:{get:function(){return O},set:function(t){O=t}},focusEnable:{get:function(){return E},set:function(t){E=t}},focusHeight:{get:function(){return T},set:function(t){T=t}},focusShowAxisX:{get:function(){return P},set:function(t){P=t}},focusShowAxisY:{get:function(){return N},set:function(t){N=t}},legendLeftAxisHint:{get:function(){return B},set:function(t){B=t}},legendRightAxisHint:{get:function(){return V},set:function(t){V=t}},margin:{get:function(){return k},set:function(t){void 0!==t.top&&(k.top=t.top,M=t.top),k.right=void 0!==t.right?t.right:k.right,k.bottom=void 0!==t.bottom?t.bottom:k.bottom,k.left=void 0!==t.left?t.left:k.left}},focusMargin:{get:function(){return w},set:function(t){w.top=void 0!==t.top?t.top:w.top,w.right=void 0!==t.right?t.right:w.right,w.bottom=void 0!==t.bottom?t.bottom:w.bottom,w.left=void 0!==t.left?t.left:w.left}},duration:{get:function(){return W},set:function(t){W=t}},color:{get:function(){return D},set:function(t){D=r.utils.getColor(t),y.color(D)}},x:{get:function(){return S},set:function(t){S=t,l.x(t),u.x(t),c.x(t),d.x(t)}},y:{get:function(){return _},set:function(t){_=t,l.y(t),u.y(t),c.y(t),d.y(t)}},switchYAxisOrder:{get:function(){return H},set:function(t){if(H!==t){var e=p;p=g,g=e;var n=v;v=m,m=n}H=t,p.orient("left"),g.orient("right"),v.orient("left"),m.orient("right")}}}),r.utils.inheritOptions(X,l),r.utils.initOptions(X),X},r.models.multiBar=function(){"use strict";var t,e,n,i,o,a,s,l={top:0,right:0,bottom:0,left:0},u=960,c=500,d=d3.scale.ordinal(),f=d3.scale.linear(),h=Math.floor(1e4*Math.random()),p=null,g=function(t){return t.x},v=function(t){return t.y},m=[0],y=!0,x=!1,b="zero",k=r.utils.defaultColor(),M=!1,w=null,C=500,A=.1,S=.75,_=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),D=r.utils.renderWatch(_,C),F=0;function E(N){return D.reset(),N.each(function(E){var N=u-l.left-l.right,P=c-l.top-l.bottom;p=d3.select(this),r.utils.initSVG(p);var T=0;if(M&&E.length&&(M=[{values:E[0].values.map(function(t){return{x:t.x,y:0,series:t.series,size:.01}})}]),x){var I=d3.layout.stack().offset(b).values(function(t){return t.values}).y(v)(!E.length&&M?M:E);I.forEach(function(t,e){t.nonStackable?(E[e].nonStackableSeries=T++,I[e]=E[e]):e>0&&I[e-1].nonStackable&&I[e].values.map(function(t,n){t.y0-=I[e-1].values[n].y,t.y1=t.y0+t.y})}),E=I}E.forEach(function(t,e){t.values.forEach(function(n){n.series=e,n.key=t.key})}),x&&E.length>0&&E[0].values.map(function(t,e){var n=0,r=0;E.map(function(t,i){if(!E[i].nonStackable){var o=t.values[e];o.size=Math.abs(o.y),o.y<0?(o.y1=r,r-=o.size):(o.y1=o.size+n,n+=o.size)}})});var O=e&&n?[]:E.map(function(t,e){return t.values.map(function(t,n){return{x:g(t,n),y:v(t,n),y0:t.y0,y1:t.y1,idx:e}})});d.domain(e||d3.merge(O).map(function(t){return t.x})).rangeBands(i||[0,N],A),f.domain(n||d3.extent(d3.merge(O).map(function(t){var e=t.y;return x&&!E[t.idx].nonStackable&&(e=t.y>0?t.y1:t.y1+t.y),e}).concat(m))).range(o||[P,0]),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]+.01*f.domain()[0],f.domain()[1]-.01*f.domain()[1]]):f.domain([-1,1])),a=a||d,s=s||f;var L=p.selectAll("g.nv-wrap.nv-multibar").data([E]),W=L.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),z=W.append("defs"),R=W.append("g"),B=L.select("g");R.append("g").attr("class","nv-groups"),L.attr("transform","translate("+l.left+","+l.top+")"),z.append("clipPath").attr("id","nv-edge-clip-"+h).append("rect"),L.select("#nv-edge-clip-"+h+" rect").attr("width",N).attr("height",P),B.attr("clip-path",y?"url(#nv-edge-clip-"+h+")":"");var V=L.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});V.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);var H=D.transition(V.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,C)).attr("y",function(t,e,n){var r=s(0)||0;return x&&E[t.series]&&!E[t.series].nonStackable&&(r=s(t.y0)),r}).attr("height",0).remove();H.delay&&H.delay(function(t,e){return e*(C/(F+1))-e}),V.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return k(t,e)}).style("stroke",function(t,e){return k(t,e)}),V.style("stroke-opacity",1).style("fill-opacity",S);var j=V.selectAll("rect.nv-bar").data(function(t){return M&&!E.length?M.values:t.values});j.exit().remove(),j.enter().append("rect").attr("class",function(t,e){return v(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(t,e,n){return x&&!E[n].nonStackable?0:n*d.rangeBand()/E.length}).attr("y",function(t,e,n){return s(x&&!E[n].nonStackable?t.y0:0)||0}).attr("height",0).attr("width",function(t,e,n){return d.rangeBand()/(x&&!E[n].nonStackable?1:E.length)}).attr("transform",function(t,e){return"translate("+d(g(t,e))+",0)"}),j.style("fill",function(t,e,n){return k(t,n,e)}).style("stroke",function(t,e,n){return k(t,n,e)}).on("mouseover",function(t,e,n){d3.select(this).classed("hover",!0),_.elementMouseover({data:t,index:e,series:E[n],color:d3.select(this).style("fill")})}).on("mouseout",function(t,e,n){d3.select(this).classed("hover",!1),_.elementMouseout({data:t,index:e,series:E[n],color:d3.select(this).style("fill")})}).on("mousemove",function(t,e,n){_.elementMousemove({data:t,index:e,series:E[n],color:d3.select(this).style("fill")})}).on("click",function(t,e,n){_.elementClick({data:t,index:e,series:E[n],color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()}).on("dblclick",function(t,e,n){_.elementDblClick({data:t,index:e,series:E[n],color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),j.attr("class",function(t,e){return v(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(t,e){return"translate("+d(g(t,e))+",0)"}),w&&(t||(t=E.map(function(){return!0})),j.style("fill",function(e,n,r){return d3.rgb(w(e,n)).darker(t.map(function(t,e){return e}).filter(function(e,n){return!t[n]})[r]).toString()}).style("stroke",function(e,n,r){return d3.rgb(w(e,n)).darker(t.map(function(t,e){return e}).filter(function(e,n){return!t[n]})[r]).toString()}));var q=j.watchTransition(D,"multibar",Math.min(250,C)).delay(function(t,e){return e*C/E[0].values.length});x?q.attr("y",function(t,e,n){return E[n].nonStackable?v(t,e)<0?f(0):f(0)-f(v(t,e))<-1?f(0)-1:f(v(t,e))||0:f(t.y1)}).attr("height",function(t,e,n){return E[n].nonStackable?Math.max(Math.abs(f(v(t,e))-f(0)),0)||0:Math.max(Math.abs(f(t.y+t.y0)-f(t.y0)),0)}).attr("x",function(t,e,n){var r=0;return E[n].nonStackable&&(r=t.series*d.rangeBand()/E.length,E.length!==T&&(r=E[n].nonStackableSeries*d.rangeBand()/(2*T))),r}).attr("width",function(t,e,n){if(E[n].nonStackable){var r=d.rangeBand()/T;return E.length!==T&&(r=d.rangeBand()/(2*T)),r}return d.rangeBand()}):q.attr("x",function(t,e){return t.series*d.rangeBand()/E.length}).attr("width",d.rangeBand()/E.length).attr("y",function(t,e){return v(t,e)<0?f(0):f(0)-f(v(t,e))<1?f(0)-1:f(v(t,e))||0}).attr("height",function(t,e){return Math.max(Math.abs(f(v(t,e))-f(0)),1)||0}),a=d.copy(),s=f.copy(),E[0]&&E[0].values&&(F=E[0].values.length)}),D.renderEnd("multibar immediate"),E}return E.dispatch=_,E.options=r.utils.optionsFunc.bind(E),E._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return c},set:function(t){c=t}},x:{get:function(){return g},set:function(t){g=t}},y:{get:function(){return v},set:function(t){v=t}},xScale:{get:function(){return d},set:function(t){d=t}},yScale:{get:function(){return f},set:function(t){f=t}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return i},set:function(t){i=t}},yRange:{get:function(){return o},set:function(t){o=t}},forceY:{get:function(){return m},set:function(t){m=t}},stacked:{get:function(){return x},set:function(t){x=t}},stackOffset:{get:function(){return b},set:function(t){b=t}},clipEdge:{get:function(){return y},set:function(t){y=t}},disabled:{get:function(){return t},set:function(e){t=e}},id:{get:function(){return h},set:function(t){h=t}},hideable:{get:function(){return M},set:function(t){M=t}},groupSpacing:{get:function(){return A},set:function(t){A=t}},fillOpacity:{get:function(){return S},set:function(t){S=t}},margin:{get:function(){return l},set:function(t){l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},duration:{get:function(){return C},set:function(t){D.reset(C=t)}},color:{get:function(){return k},set:function(t){k=r.utils.getColor(t)}},barColor:{get:function(){return w},set:function(t){w=t?r.utils.getColor(t):null}}}),r.utils.initOptions(E),E},r.models.multiBarChart=function(){"use strict";var t,e,n=r.models.multiBar(),i=r.models.axis(),o=r.models.axis(),a=r.interactiveGuideline(),s=r.models.legend(),l=r.models.legend(),u=r.models.tooltip(),c={top:30,right:20,bottom:50,left:60},d=null,f=null,h=null,p=r.utils.defaultColor(),g=!0,v={},m=!0,y=null,x=!0,b=!0,k=!1,M=!0,w=!1,C=!1,A=0,S=r.utils.state(),_=null,D=null,F=d3.dispatch("stateChange","changeState","renderEnd"),E=function(){return g?180:0},N=250,P=!1;S.stacked=!1,n.stacked(!1),i.orient("bottom").tickPadding(7).showMaxMin(!1).tickFormat(function(t){return t}),o.orient(k?"right":"left").tickFormat(d3.format(",.1f")),u.duration(0).valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return i.tickFormat()(t,e)}),a.tooltip.valueFormatter(function(t,e){return null==t?"N/A":o.tickFormat()(t,e)}).headerFormatter(function(t,e){return i.tickFormat()(t,e)}),a.tooltip.valueFormatter(function(t,e){return null==t?"N/A":o.tickFormat()(t,e)}).headerFormatter(function(t,e){return i.tickFormat()(t,e)}),a.tooltip.duration(0).valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return i.tickFormat()(t,e)}),l.updateState(!1);var T=r.utils.renderWatch(F),I=!1,O=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:I}}},L=function(t){return function(e){void 0!==e.stacked&&(I=e.stacked),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};function W(D){return T.reset(),T.models(n),x&&T.models(i),b&&T.models(o),D.each(function(D){var T=d3.select(this);r.utils.initSVG(T);var z,R=r.utils.availableWidth(f,T,c),B=r.utils.availableHeight(h,T,c);if(W.update=function(){0===N?T.call(W):T.transition().duration(N).call(W)},W.container=this,S.setter(L(D),W.update).getter(O(D)).update(),S.disabled=D.map(function(t){return!!t.disabled}),!_)for(z in _={},S)_[z]=S[z]instanceof Array?S[z].slice(0):S[z];if(!(D&&D.length&&D.filter(function(t){return t.values.length}).length))return r.utils.noData(W,T),W;T.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale();var V=T.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([D]),H=V.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),j=V.select("g");if(H.append("g").attr("class","nv-x nv-axis"),H.append("g").attr("class","nv-y nv-axis"),H.append("g").attr("class","nv-barsWrap"),H.append("g").attr("class","nv-legendWrap"),H.append("g").attr("class","nv-controlsWrap"),H.append("g").attr("class","nv-interactive"),m?"bottom"===y?(s.width(R-c.right),j.select(".nv-legendWrap").datum(D).call(s),c.bottom=i.height()+s.height(),B=r.utils.availableHeight(h,T,c),j.select(".nv-legendWrap").attr("transform","translate(0,"+(B+i.height())+")")):(s.width(R-E()),j.select(".nv-legendWrap").datum(D).call(s),d||s.height()===c.top||(c.top=s.height(),B=r.utils.availableHeight(h,T,c)),j.select(".nv-legendWrap").attr("transform","translate("+E()+","+-c.top+")")):j.select(".nv-legendWrap").selectAll("*").remove(),g){var q=[{key:v.grouped||"Grouped",disabled:n.stacked()},{key:v.stacked||"Stacked",disabled:!n.stacked()}];l.width(E()).color(["#444","#444","#444"]),j.select(".nv-controlsWrap").datum(q).attr("transform","translate(0,"+-c.top+")").call(l)}else j.select(".nv-controlsWrap").selectAll("*").remove();if(V.attr("transform","translate("+c.left+","+c.top+")"),k&&j.select(".nv-y.nv-axis").attr("transform","translate("+R+",0)"),n.disabled(D.map(function(t){return t.disabled})).width(R).height(B).color(D.map(function(t,e){return t.color||p(t,e)}).filter(function(t,e){return!D[e].disabled})),j.select(".nv-barsWrap").datum(D.filter(function(t){return!t.disabled})).call(n),x){i.scale(t)._ticks(r.utils.calcTicksX(R/100,D)).tickSize(-B,0),j.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),j.select(".nv-x.nv-axis").call(i);var Y=j.select(".nv-x.nv-axis > g").selectAll("g");if(Y.selectAll("line, text").style("opacity",1),w){var X=function(t,e){return"translate("+t+","+e+")"};Y.selectAll("text").attr("transform",function(t,e,n){return X(0,n%2==0?5:17)});var U=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;j.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(t,e){return X(0,0===e||U%2!=0?17:5)})}C&&j.selectAll(".tick text").call(r.utils.wrapTicks,W.xAxis.rangeBand()),M&&Y.filter(function(t,e){return e%Math.ceil(D[0].values.length/(R/100))!=0}).selectAll("text, line").style("opacity",0),A&&Y.selectAll(".tick text").attr("transform","rotate("+A+" 0,0)").style("text-anchor",A>0?"start":"end"),j.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}b&&(o.scale(e)._ticks(r.utils.calcTicksY(B/36,D)).tickSize(-R,0),j.select(".nv-y.nv-axis").call(o)),P&&(a.width(R).height(B).margin({left:c.left,top:c.top}).svgContainer(T).xScale(t),V.select(".nv-interactive").call(a)),s.dispatch.on("stateChange",function(t){for(var e in t)S[e]=t[e];F.stateChange(S),W.update()}),l.dispatch.on("legendClick",function(t,e){if(t.disabled){switch(q=q.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":case v.grouped:n.stacked(!1);break;case"Stacked":case v.stacked:n.stacked(!0)}S.stacked=n.stacked(),F.stateChange(S),W.update()}}),F.on("changeState",function(t){void 0!==t.disabled&&(D.forEach(function(e,n){e.disabled=t.disabled[n]}),S.disabled=t.disabled),void 0!==t.stacked&&(n.stacked(t.stacked),S.stacked=t.stacked,I=t.stacked),W.update()}),P?(a.dispatch.on("elementMousemove",function(e){if(void 0!=e.pointXValue){var n,r,i,o,s=[];D.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(a,l){r=t.domain().indexOf(e.pointXValue);var u=a.values[r];void 0!==u&&(o=u.x,void 0===n&&(n=u),void 0===i&&(i=e.mouseX),s.push({key:a.key,value:W.y()(u,r),color:p(a,a.seriesIndex),data:a.values[r]}))}),a.tooltip.data({value:o,index:r,series:s})(),a.renderGuideLine(i)}}),a.dispatch.on("elementMouseout",function(t){a.tooltip.hidden(!0)})):(n.dispatch.on("elementMouseover.tooltip",function(t){t.value=W.x()(t.data),t.series={key:t.data.key,value:W.y()(t.data),color:t.color},u.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){u.hidden(!0)}),n.dispatch.on("elementMousemove.tooltip",function(t){u()}))}),T.renderEnd("multibarchart immediate"),W}return W.dispatch=F,W.multibar=n,W.legend=s,W.controls=l,W.xAxis=i,W.yAxis=o,W.state=S,W.tooltip=u,W.interactiveLayer=a,W.options=r.utils.optionsFunc.bind(W),W._options=Object.create({},{width:{get:function(){return f},set:function(t){f=t}},height:{get:function(){return h},set:function(t){h=t}},showLegend:{get:function(){return m},set:function(t){m=t}},legendPosition:{get:function(){return y},set:function(t){y=t}},showControls:{get:function(){return g},set:function(t){g=t}},controlLabels:{get:function(){return v},set:function(t){v=t}},showXAxis:{get:function(){return x},set:function(t){x=t}},showYAxis:{get:function(){return b},set:function(t){b=t}},defaultState:{get:function(){return _},set:function(t){_=t}},noData:{get:function(){return D},set:function(t){D=t}},reduceXTicks:{get:function(){return M},set:function(t){M=t}},rotateLabels:{get:function(){return A},set:function(t){A=t}},staggerLabels:{get:function(){return w},set:function(t){w=t}},wrapLabels:{get:function(){return C},set:function(t){C=!!t}},margin:{get:function(){return c},set:function(t){void 0!==t.top&&(c.top=t.top,d=t.top),c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},duration:{get:function(){return N},set:function(t){n.duration(N=t),i.duration(N),o.duration(N),T.reset(N)}},color:{get:function(){return p},set:function(t){p=r.utils.getColor(t),s.color(p)}},rightAlignYAxis:{get:function(){return k},set:function(t){o.orient((k=t)?"right":"left")}},useInteractiveGuideline:{get:function(){return P},set:function(t){P=t}},barColor:{get:function(){return n.barColor},set:function(t){n.barColor(t),s.color(function(t,e){return d3.rgb("#ccc").darker(1.5*e).toString()})}}}),r.utils.inheritOptions(W,n),r.utils.initOptions(W),W},r.models.multiBarHorizontal=function(){"use strict";var t,e,n,i,o,a,s,l={top:0,right:0,bottom:0,left:0},u=960,c=500,d=Math.floor(1e4*Math.random()),f=null,h=d3.scale.ordinal(),p=d3.scale.linear(),g=function(t){return t.x},v=function(t){return t.y},m=function(t){return t.yErr},y=[0],x=r.utils.defaultColor(),b=null,k=!1,M=!1,w=!1,C=60,A=.1,S=.75,_=d3.format(",.2f"),D=250,F=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),E=r.utils.renderWatch(F,D);function N(d){return E.reset(),d.each(function(d){var D=u-l.left-l.right,N=c-l.top-l.bottom;f=d3.select(this),r.utils.initSVG(f),k&&(d=d3.layout.stack().offset("zero").values(function(t){return t.values}).y(v)(d)),d.forEach(function(t,e){t.values.forEach(function(n){n.series=e,n.key=t.key})}),k&&d[0].values.map(function(t,e){var n=0,r=0;d.map(function(t){var i=t.values[e];i.size=Math.abs(i.y),i.y<0?(i.y1=r-i.size,r-=i.size):(i.y1=n,n+=i.size)})});var P=e&&n?[]:d.map(function(t){return t.values.map(function(t,e){return{x:g(t,e),y:v(t,e),y0:t.y0,y1:t.y1}})});h.domain(e||d3.merge(P).map(function(t){return t.x})).rangeBands(i||[0,N],A),p.domain(n||d3.extent(d3.merge(P).map(function(t){return k?t.y>0?t.y1+t.y:t.y1:t.y}).concat(y))),p.range(M&&!k?o||[p.domain()[0]<0?C:0,D-(p.domain()[1]>0?C:0)]:o||[0,D]),a=a||h,s=s||d3.scale.linear().domain(p.domain()).range([p(0),p(0)]);var T=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([d]),I=T.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),O=(I.append("defs"),I.append("g"));T.select("g"),O.append("g").attr("class","nv-groups"),T.attr("transform","translate("+l.left+","+l.top+")");var L=T.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});L.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),L.exit().watchTransition(E,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),L.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return x(t,e)}).style("stroke",function(t,e){return x(t,e)}),L.watchTransition(E,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",S);var W=L.selectAll("g.nv-bar").data(function(t){return t.values});W.exit().remove();var z=W.enter().append("g").attr("transform",function(t,e,n){return"translate("+s(k?t.y0:0)+","+(k?0:n*h.rangeBand()/d.length+h(g(t,e)))+")"});z.append("rect").attr("width",0).attr("height",h.rangeBand()/(k?1:d.length)),W.on("mouseover",function(t,e){d3.select(this).classed("hover",!0),F.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),F.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){F.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})}).on("mousemove",function(t,e){F.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){F.elementClick({data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()}).on("dblclick",function(t,e){F.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),m(d[0],0)&&(z.append("polyline"),W.select("polyline").attr("fill","none").attr("points",function(t,e){var n=m(t,e),r=.8*h.rangeBand()/(2*(k?1:d.length));return[[(n=(n=n.length?n:[-Math.abs(n),Math.abs(n)]).map(function(n){return p(n+(v(t,e)<0?0:v(t,e)))-p(0)}))[0],-r],[n[0],r],[n[0],0],[n[1],0],[n[1],-r],[n[1],r]].map(function(t){return t.join(",")}).join(" ")}).attr("transform",function(t,e){return"translate(0, "+h.rangeBand()/(2*(k?1:d.length))+")"})),z.append("text"),M&&!k?(W.select("text").attr("text-anchor",function(t,e){return v(t,e)<0?"end":"start"}).attr("y",h.rangeBand()/(2*d.length)).attr("dy",".32em").text(function(t,e){var n=_(v(t,e)),r=m(t,e);return void 0===r?n:r.length?n+"+"+_(Math.abs(r[1]))+"-"+_(Math.abs(r[0])):n+"\xb1"+_(Math.abs(r))}),W.watchTransition(E,"multibarhorizontal: bars").select("text").attr("x",function(t,e){return v(t,e)<0?-4:p(v(t,e))-p(0)+4})):W.selectAll("text").text(""),w&&!k?(z.append("text").classed("nv-bar-label",!0),W.select("text.nv-bar-label").attr("text-anchor",function(t,e){return v(t,e)<0?"start":"end"}).attr("y",h.rangeBand()/(2*d.length)).attr("dy",".32em").text(function(t,e){return g(t,e)}),W.watchTransition(E,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(t,e){return v(t,e)<0?p(0)-p(v(t,e))+4:-4})):W.selectAll("text.nv-bar-label").text(""),W.attr("class",function(t,e){return v(t,e)<0?"nv-bar negative":"nv-bar positive"}),b&&(t||(t=d.map(function(){return!0})),W.style("fill",function(e,n,r){return d3.rgb(b(e,n)).darker(t.map(function(t,e){return e}).filter(function(e,n){return!t[n]})[r]).toString()}).style("stroke",function(e,n,r){return d3.rgb(b(e,n)).darker(t.map(function(t,e){return e}).filter(function(e,n){return!t[n]})[r]).toString()})),k?W.watchTransition(E,"multibarhorizontal: bars").attr("transform",function(t,e){return"translate("+p(t.y1)+","+h(g(t,e))+")"}).select("rect").attr("width",function(t,e){return Math.abs(p(v(t,e)+t.y0)-p(t.y0))||0}).attr("height",h.rangeBand()):W.watchTransition(E,"multibarhorizontal: bars").attr("transform",function(t,e){return"translate("+(v(t,e)<0?p(v(t,e)):p(0))+","+(t.series*h.rangeBand()/d.length+h(g(t,e)))+")"}).select("rect").attr("height",h.rangeBand()/d.length).attr("width",function(t,e){return Math.max(Math.abs(p(v(t,e))-p(0)),1)||0}),a=h.copy(),s=p.copy()}),E.renderEnd("multibarHorizontal immediate"),N}return N.dispatch=F,N.options=r.utils.optionsFunc.bind(N),N._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return c},set:function(t){c=t}},x:{get:function(){return g},set:function(t){g=t}},y:{get:function(){return v},set:function(t){v=t}},yErr:{get:function(){return m},set:function(t){m=t}},xScale:{get:function(){return h},set:function(t){h=t}},yScale:{get:function(){return p},set:function(t){p=t}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return i},set:function(t){i=t}},yRange:{get:function(){return o},set:function(t){o=t}},forceY:{get:function(){return y},set:function(t){y=t}},stacked:{get:function(){return k},set:function(t){k=t}},showValues:{get:function(){return M},set:function(t){M=t}},disabled:{get:function(){return t},set:function(e){t=e}},id:{get:function(){return d},set:function(t){d=t}},valueFormat:{get:function(){return _},set:function(t){_=t}},valuePadding:{get:function(){return C},set:function(t){C=t}},groupSpacing:{get:function(){return A},set:function(t){A=t}},fillOpacity:{get:function(){return S},set:function(t){S=t}},margin:{get:function(){return l},set:function(t){l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},duration:{get:function(){return D},set:function(t){E.reset(D=t)}},color:{get:function(){return x},set:function(t){x=r.utils.getColor(t)}},barColor:{get:function(){return b},set:function(t){b=t?r.utils.getColor(t):null}}}),r.utils.initOptions(N),N},r.models.multiBarHorizontalChart=function(){"use strict";var t,e,n=r.models.multiBarHorizontal(),i=r.models.axis(),o=r.models.axis(),a=r.models.legend().height(30),s=r.models.legend().height(30),l=r.models.tooltip(),u={top:30,right:20,bottom:50,left:60},c=null,d=null,f=null,h=r.utils.defaultColor(),p=!0,g="top",v={},m=!0,y="top",x=!0,b=!0,k=!1,M=r.utils.state(),w=null,C=null,A=d3.dispatch("stateChange","changeState","renderEnd"),S=function(){return p?180:0},_=250;M.stacked=!1,n.stacked(k),i.orient("left").tickPadding(5).showMaxMin(!1).tickFormat(function(t){return t}),o.orient("bottom").tickFormat(d3.format(",.1f")),l.duration(0).valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return i.tickFormat()(t,e)}),s.updateState(!1);var D=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:k}}},F=function(t){return function(e){void 0!==e.stacked&&(k=e.stacked),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}},E=r.utils.renderWatch(A,_);function N(l){return E.reset(),E.models(n),x&&E.models(i),b&&E.models(o),l.each(function(l){var C=d3.select(this);r.utils.initSVG(C);var E,P=r.utils.availableWidth(d,C,u),T=r.utils.availableHeight(f,C,u);if(N.update=function(){C.transition().duration(_).call(N)},N.container=this,k=n.stacked(),M.setter(F(l),N.update).getter(D(l)).update(),M.disabled=l.map(function(t){return!!t.disabled}),!w)for(E in w={},M)w[E]=M[E]instanceof Array?M[E].slice(0):M[E];if(!(l&&l.length&&l.filter(function(t){return t.values.length}).length))return r.utils.noData(N,C),N;C.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale().clamp(!0);var I=C.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([l]),O=I.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),L=I.select("g");if(O.append("g").attr("class","nv-x nv-axis"),O.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),O.append("g").attr("class","nv-barsWrap"),O.append("g").attr("class","nv-legendWrap"),O.append("g").attr("class","nv-controlsWrap"),m?(a.width(P-S()),L.select(".nv-legendWrap").datum(l).call(a),"bottom"===y?(u.bottom=i.height()+a.height(),T=r.utils.availableHeight(f,C,u),L.select(".nv-legendWrap").attr("transform","translate("+S()+","+(T+i.height())+")")):"top"===y&&(c||a.height()===u.top||(u.top=a.height(),T=r.utils.availableHeight(f,C,u)),L.select(".nv-legendWrap").attr("transform","translate("+S()+","+-u.top+")"))):L.select(".nv-legendWrap").selectAll("*").remove(),p){var W=[{key:v.grouped||"Grouped",disabled:n.stacked()},{key:v.stacked||"Stacked",disabled:!n.stacked()}];s.width(S()).color(["#444","#444","#444"]),"bottom"===g?(u.bottom=i.height()+a.height(),T=r.utils.availableHeight(f,C,u),L.select(".nv-controlsWrap").datum(W).attr("transform","translate(0,"+(T+i.height())+")").call(s)):"top"===g&&L.select(".nv-controlsWrap").datum(W).attr("transform","translate(0,"+-u.top+")").call(s)}else L.select(".nv-controlsWrap").selectAll("*").remove();I.attr("transform","translate("+u.left+","+u.top+")"),n.disabled(l.map(function(t){return t.disabled})).width(P).height(T).color(l.map(function(t,e){return t.color||h(t,e)}).filter(function(t,e){return!l[e].disabled})),L.select(".nv-barsWrap").datum(l.filter(function(t){return!t.disabled})).transition().call(n),x&&(i.scale(t)._ticks(r.utils.calcTicksY(T/24,l)).tickSize(-P,0),L.select(".nv-x.nv-axis").call(i),L.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text")),b&&(o.scale(e)._ticks(r.utils.calcTicksX(P/100,l)).tickSize(-T,0),L.select(".nv-y.nv-axis").attr("transform","translate(0,"+T+")"),L.select(".nv-y.nv-axis").call(o)),L.select(".nv-zeroLine line").attr("x1",e(0)).attr("x2",e(0)).attr("y1",0).attr("y2",-T),a.dispatch.on("stateChange",function(t){for(var e in t)M[e]=t[e];A.stateChange(M),N.update()}),s.dispatch.on("legendClick",function(t,e){if(t.disabled){switch(W=W.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":case v.grouped:n.stacked(!1);break;case"Stacked":case v.stacked:n.stacked(!0)}M.stacked=n.stacked(),A.stateChange(M),k=n.stacked(),N.update()}}),A.on("changeState",function(t){void 0!==t.disabled&&(l.forEach(function(e,n){e.disabled=t.disabled[n]}),M.disabled=t.disabled),void 0!==t.stacked&&(n.stacked(t.stacked),M.stacked=t.stacked,k=t.stacked),N.update()})}),E.renderEnd("multibar horizontal chart immediate"),N}return n.dispatch.on("elementMouseover.tooltip",function(t){t.value=N.x()(t.data),t.series={key:t.data.key,value:N.y()(t.data),color:t.color},l.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){l.hidden(!0)}),n.dispatch.on("elementMousemove.tooltip",function(t){l()}),N.dispatch=A,N.multibar=n,N.legend=a,N.controls=s,N.xAxis=i,N.yAxis=o,N.state=M,N.tooltip=l,N.options=r.utils.optionsFunc.bind(N),N._options=Object.create({},{width:{get:function(){return d},set:function(t){d=t}},height:{get:function(){return f},set:function(t){f=t}},showLegend:{get:function(){return m},set:function(t){m=t}},legendPosition:{get:function(){return y},set:function(t){y=t}},controlsPosition:{get:function(){return g},set:function(t){g=t}},showControls:{get:function(){return p},set:function(t){p=t}},controlLabels:{get:function(){return v},set:function(t){v=t}},showXAxis:{get:function(){return x},set:function(t){x=t}},showYAxis:{get:function(){return b},set:function(t){b=t}},defaultState:{get:function(){return w},set:function(t){w=t}},noData:{get:function(){return C},set:function(t){C=t}},margin:{get:function(){return u},set:function(t){void 0!==t.top&&(u.top=t.top,c=t.top),u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left}},duration:{get:function(){return _},set:function(t){E.reset(_=t),n.duration(_),i.duration(_),o.duration(_)}},color:{get:function(){return h},set:function(t){h=r.utils.getColor(t),a.color(h)}},barColor:{get:function(){return n.barColor},set:function(t){n.barColor(t),a.color(function(t,e){return d3.rgb("#ccc").darker(1.5*e).toString()})}}}),r.utils.inheritOptions(N,n),r.utils.initOptions(N),N},r.models.multiChart=function(){"use strict";var t,e,n={top:30,right:20,bottom:50,left:60},i=null,o=r.utils.defaultColor(),a=null,s=null,l=!0,u=null,c=function(t){return t.x},d=function(t){return t.y},f="linear",h=!0,p=r.interactiveGuideline(),g=!1,v=" (right axis)",m=250,y=d3.scale.linear(),x=d3.scale.linear(),b=d3.scale.linear(),k=r.models.line().yScale(x).duration(m),M=r.models.line().yScale(b).duration(m),w=r.models.scatter().yScale(x).duration(m),C=r.models.scatter().yScale(b).duration(m),A=r.models.multiBar().stacked(!1).yScale(x).duration(m),S=r.models.multiBar().stacked(!1).yScale(b).duration(m),_=r.models.stackedArea().yScale(x).duration(m),D=r.models.stackedArea().yScale(b).duration(m),F=r.models.axis().scale(y).orient("bottom").tickPadding(5).duration(m),E=r.models.axis().scale(x).orient("left").duration(m),N=r.models.axis().scale(b).orient("right").duration(m),P=r.models.legend().height(30),T=r.models.tooltip(),I=d3.dispatch(),O=[k,M,w,C,A,S,_,D];function L(u){return u.each(function(u){var h=d3.select(this);r.utils.initSVG(h),L.update=function(){h.transition().call(L)},L.container=this;var m=r.utils.availableWidth(a,h,n),I=r.utils.availableHeight(s,h,n),W=u.filter(function(t){return"line"==t.type&&1==t.yAxis}),z=u.filter(function(t){return"line"==t.type&&2==t.yAxis}),R=u.filter(function(t){return"scatter"==t.type&&1==t.yAxis}),B=u.filter(function(t){return"scatter"==t.type&&2==t.yAxis}),V=u.filter(function(t){return"bar"==t.type&&1==t.yAxis}),H=u.filter(function(t){return"bar"==t.type&&2==t.yAxis}),j=u.filter(function(t){return"area"==t.type&&1==t.yAxis}),q=u.filter(function(t){return"area"==t.type&&2==t.yAxis});if(!(u&&u.length&&u.filter(function(t){return t.values.length}).length))return r.utils.noData(L,h),L;h.selectAll(".nv-noData").remove();var Y=u.filter(function(t){return!t.disabled&&1==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:c(t),y:d(t)}})}),X=u.filter(function(t){return!t.disabled&&2==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:c(t),y:d(t)}})});y.domain(d3.extent(d3.merge(Y.concat(X)),function(t){return t.x})).range([0,m]);var U=h.selectAll("g.wrap.multiChart").data([u]),G=U.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");G.append("g").attr("class","nv-x nv-axis"),G.append("g").attr("class","nv-y1 nv-axis"),G.append("g").attr("class","nv-y2 nv-axis"),G.append("g").attr("class","stack1Wrap"),G.append("g").attr("class","stack2Wrap"),G.append("g").attr("class","bars1Wrap"),G.append("g").attr("class","bars2Wrap"),G.append("g").attr("class","scatters1Wrap"),G.append("g").attr("class","scatters2Wrap"),G.append("g").attr("class","lines1Wrap"),G.append("g").attr("class","lines2Wrap"),G.append("g").attr("class","legendWrap"),G.append("g").attr("class","nv-interactive");var Z=U.select("g"),K=u.map(function(t,e){return u[e].color||o(t,e)});if(l){var J=P.align()?m/2:m,$=P.align()?J:0;P.width(J),P.color(K),Z.select(".legendWrap").datum(u.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(1==t.yAxis?"":v),t})).call(P),i||P.height()===n.top||(n.top=P.height(),I=r.utils.availableHeight(s,h,n)),Z.select(".legendWrap").attr("transform","translate("+$+","+-n.top+")")}else Z.select(".legendWrap").selectAll("*").remove();k.width(m).height(I).interpolate(f).color(K.filter(function(t,e){return!u[e].disabled&&1==u[e].yAxis&&"line"==u[e].type})),M.width(m).height(I).interpolate(f).color(K.filter(function(t,e){return!u[e].disabled&&2==u[e].yAxis&&"line"==u[e].type})),w.width(m).height(I).color(K.filter(function(t,e){return!u[e].disabled&&1==u[e].yAxis&&"scatter"==u[e].type})),C.width(m).height(I).color(K.filter(function(t,e){return!u[e].disabled&&2==u[e].yAxis&&"scatter"==u[e].type})),A.width(m).height(I).color(K.filter(function(t,e){return!u[e].disabled&&1==u[e].yAxis&&"bar"==u[e].type})),S.width(m).height(I).color(K.filter(function(t,e){return!u[e].disabled&&2==u[e].yAxis&&"bar"==u[e].type})),_.width(m).height(I).interpolate(f).color(K.filter(function(t,e){return!u[e].disabled&&1==u[e].yAxis&&"area"==u[e].type})),D.width(m).height(I).interpolate(f).color(K.filter(function(t,e){return!u[e].disabled&&2==u[e].yAxis&&"area"==u[e].type})),Z.attr("transform","translate("+n.left+","+n.top+")");var Q=Z.select(".lines1Wrap").datum(W.filter(function(t){return!t.disabled})),tt=Z.select(".scatters1Wrap").datum(R.filter(function(t){return!t.disabled})),et=Z.select(".bars1Wrap").datum(V.filter(function(t){return!t.disabled})),nt=Z.select(".stack1Wrap").datum(j.filter(function(t){return!t.disabled})),rt=Z.select(".lines2Wrap").datum(z.filter(function(t){return!t.disabled})),it=Z.select(".scatters2Wrap").datum(B.filter(function(t){return!t.disabled})),ot=Z.select(".bars2Wrap").datum(H.filter(function(t){return!t.disabled})),at=Z.select(".stack2Wrap").datum(q.filter(function(t){return!t.disabled})),st=[];A.stacked()&&V.length&&(st=V.filter(function(t){return!t.disabled}).map(function(t){return t.values})).length>0&&(st=st.reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})})),V.length&&st.push({x:0,y:0});var lt=[];function ut(t){var e=2===t.series.yAxis?N:E;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color,key:t.series.key},T.duration(0).headerFormatter(function(t,e){return F.tickFormat()(t,e)}).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function ct(t){var e=2===t.series.yAxis?N:E;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color,key:t.series.key},T.duration(100).headerFormatter(function(t,e){return F.tickFormat()(t,e)}).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function dt(t){var e=2===t.series.yAxis?N:E;t.point.x=_.x()(t.point),t.point.y=_.y()(t.point),T.duration(0).headerFormatter(function(t,e){return F.tickFormat()(t,e)}).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function ft(t){var e=2===t.series.yAxis?N:E;t.value=A.x()(t.data),t.series={value:A.y()(t.data),color:t.color,key:t.data.key},T.duration(0).headerFormatter(function(t,e){return F.tickFormat()(t,e)}).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function ht(){for(var t=0,e=O.length;t<e;t++){var n=O[t];try{n.clearHighlights()}catch(t){}}}S.stacked()&&H.length&&(lt=H.filter(function(t){return!t.disabled}).map(function(t){return t.values})).length>0&&(lt=lt.reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})})),H.length&&lt.push({x:0,y:0}),x.domain(t||d3.extent(d3.merge(Y).concat(st),function(t){return t.y})).range([0,I]),b.domain(e||d3.extent(d3.merge(X).concat(lt),function(t){return t.y})).range([0,I]),k.yDomain(x.domain()),w.yDomain(x.domain()),A.yDomain(x.domain()),_.yDomain(x.domain()),M.yDomain(b.domain()),C.yDomain(b.domain()),S.yDomain(b.domain()),D.yDomain(b.domain()),j.length&&d3.transition(nt).call(_),q.length&&d3.transition(at).call(D),V.length&&d3.transition(et).call(A),H.length&&d3.transition(ot).call(S),W.length&&d3.transition(Q).call(k),z.length&&d3.transition(rt).call(M),R.length&&d3.transition(tt).call(w),B.length&&d3.transition(it).call(C),F._ticks(r.utils.calcTicksX(m/100,u)).tickSize(-I,0),Z.select(".nv-x.nv-axis").attr("transform","translate(0,"+I+")"),d3.transition(Z.select(".nv-x.nv-axis")).call(F),E._ticks(r.utils.calcTicksY(I/36,u)).tickSize(-m,0),d3.transition(Z.select(".nv-y1.nv-axis")).call(E),N._ticks(r.utils.calcTicksY(I/36,u)).tickSize(-m,0),d3.transition(Z.select(".nv-y2.nv-axis")).call(N),Z.select(".nv-y1.nv-axis").classed("nv-disabled",!Y.length).attr("transform","translate("+y.range()[0]+",0)"),Z.select(".nv-y2.nv-axis").classed("nv-disabled",!X.length).attr("transform","translate("+y.range()[1]+",0)"),P.dispatch.on("stateChange",function(t){L.update()}),g&&(p.width(m).height(I).margin({left:n.left,top:n.top}).svgContainer(h).xScale(y),U.select(".nv-interactive").call(p)),g?(p.dispatch.on("elementMousemove",function(t){ht();var e,n,i,a=[];u.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(s,l){var u=y.domain(),c=s.values.filter(function(t,e){return L.x()(t,e)>=u[0]&&L.x()(t,e)<=u[1]}),d=c[n=r.interactiveBisect(c,t.pointXValue,L.x())],f=L.y()(d,n);null!==f&&function(t,e,n){for(var r=0,i=O.length;r<i;r++){var o=O[r];try{o.highlightPoint(t,e,!0)}catch(t){}}}(l,n),void 0!==d&&(void 0===e&&(e=d),void 0===i&&(i=y(L.x()(d,n))),a.push({key:s.key,value:f,color:o(s,s.seriesIndex),data:d,yAxis:2==s.yAxis?N:E}))}),p.tooltip.headerFormatter(function(t,e){return F.tickFormat()(t,e)}).valueFormatter(p.tooltip.valueFormatter()||function(t,e){return null==t?"N/A":a[e].yAxis.tickFormat()(t)}).data({value:L.x()(e,n),index:n,series:a})(),p.renderGuideLine(i)}),p.dispatch.on("elementMouseout",function(t){ht()})):(k.dispatch.on("elementMouseover.tooltip",ut),M.dispatch.on("elementMouseover.tooltip",ut),k.dispatch.on("elementMouseout.tooltip",function(t){T.hidden(!0)}),M.dispatch.on("elementMouseout.tooltip",function(t){T.hidden(!0)}),w.dispatch.on("elementMouseover.tooltip",ct),C.dispatch.on("elementMouseover.tooltip",ct),w.dispatch.on("elementMouseout.tooltip",function(t){T.hidden(!0)}),C.dispatch.on("elementMouseout.tooltip",function(t){T.hidden(!0)}),_.dispatch.on("elementMouseover.tooltip",dt),D.dispatch.on("elementMouseover.tooltip",dt),_.dispatch.on("elementMouseout.tooltip",function(t){T.hidden(!0)}),D.dispatch.on("elementMouseout.tooltip",function(t){T.hidden(!0)}),A.dispatch.on("elementMouseover.tooltip",ft),S.dispatch.on("elementMouseover.tooltip",ft),A.dispatch.on("elementMouseout.tooltip",function(t){T.hidden(!0)}),S.dispatch.on("elementMouseout.tooltip",function(t){T.hidden(!0)}),A.dispatch.on("elementMousemove.tooltip",function(t){T()}),S.dispatch.on("elementMousemove.tooltip",function(t){T()}))}),L}return L.dispatch=I,L.legend=P,L.lines1=k,L.lines2=M,L.scatters1=w,L.scatters2=C,L.bars1=A,L.bars2=S,L.stack1=_,L.stack2=D,L.xAxis=F,L.yAxis1=E,L.yAxis2=N,L.tooltip=T,L.interactiveLayer=p,L.options=r.utils.optionsFunc.bind(L),L._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return s},set:function(t){s=t}},showLegend:{get:function(){return l},set:function(t){l=t}},yDomain1:{get:function(){return t},set:function(e){t=e}},yDomain2:{get:function(){return e},set:function(t){e=t}},noData:{get:function(){return u},set:function(t){u=t}},interpolate:{get:function(){return f},set:function(t){f=t}},legendRightAxisHint:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return n},set:function(t){void 0!==t.top&&(n.top=t.top,i=t.top),n.right=void 0!==t.right?t.right:n.right,n.bottom=void 0!==t.bottom?t.bottom:n.bottom,n.left=void 0!==t.left?t.left:n.left}},color:{get:function(){return o},set:function(t){o=r.utils.getColor(t)}},x:{get:function(){return c},set:function(t){c=t,k.x(t),M.x(t),w.x(t),C.x(t),A.x(t),S.x(t),_.x(t),D.x(t)}},y:{get:function(){return d},set:function(t){d=t,k.y(t),M.y(t),w.y(t),C.y(t),_.y(t),D.y(t),A.y(t),S.y(t)}},useVoronoi:{get:function(){return h},set:function(t){h=t,k.useVoronoi(t),M.useVoronoi(t),_.useVoronoi(t),D.useVoronoi(t)}},useInteractiveGuideline:{get:function(){return g},set:function(t){(g=t)&&(k.interactive(!1),k.useVoronoi(!1),M.interactive(!1),M.useVoronoi(!1),_.interactive(!1),_.useVoronoi(!1),D.interactive(!1),D.useVoronoi(!1),w.interactive(!1),C.interactive(!1))}},duration:{get:function(){return m},set:function(t){m=t,[k,M,_,D,w,C,F,E,N].forEach(function(t){t.duration(m)})}}}),r.utils.initOptions(L),L},r.models.ohlcBar=function(){"use strict";var t,e,n,i,o={top:0,right:0,bottom:0,left:0},a=null,s=null,l=Math.floor(1e4*Math.random()),u=null,c=d3.scale.linear(),d=d3.scale.linear(),f=function(t){return t.x},h=function(t){return t.y},p=function(t){return t.open},g=function(t){return t.close},v=function(t){return t.high},m=function(t){return t.low},y=[],x=[],b=!1,k=!0,M=r.utils.defaultColor(),w=!1,C=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");function A(w){return w.each(function(w){u=d3.select(this);var A=r.utils.availableWidth(a,u,o),S=r.utils.availableHeight(s,u,o);r.utils.initSVG(u);var _=A/w[0].values.length*.9;c.domain(t||d3.extent(w[0].values.map(f).concat(y))),c.range(b?n||[.5*A/w[0].values.length,A*(w[0].values.length-.5)/w[0].values.length]:n||[5+_/2,A-_/2-5]),d.domain(e||[d3.min(w[0].values.map(m).concat(x)),d3.max(w[0].values.map(v).concat(x))]).range(i||[S,0]),c.domain()[0]===c.domain()[1]&&(c.domain()[0]?c.domain([c.domain()[0]-.01*c.domain()[0],c.domain()[1]+.01*c.domain()[1]]):c.domain([-1,1])),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]+.01*d.domain()[0],d.domain()[1]-.01*d.domain()[1]]):d.domain([-1,1]));var D=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([w[0].values]),F=D.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),E=F.append("defs"),N=F.append("g"),P=D.select("g");N.append("g").attr("class","nv-ticks"),D.attr("transform","translate("+o.left+","+o.top+")"),u.on("click",function(t,e){C.chartClick({data:t,index:e,pos:d3.event,id:l})}),E.append("clipPath").attr("id","nv-chart-clip-path-"+l).append("rect"),D.select("#nv-chart-clip-path-"+l+" rect").attr("width",A).attr("height",S),P.attr("clip-path",k?"url(#nv-chart-clip-path-"+l+")":"");var T=D.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});T.exit().remove(),T.enter().append("path").attr("class",function(t,e,n){return(p(t,e)>g(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}).attr("d",function(t,e){return"m0,0l0,"+(d(p(t,e))-d(v(t,e)))+"l"+-_/2+",0l"+_/2+",0l0,"+(d(m(t,e))-d(p(t,e)))+"l0,"+(d(g(t,e))-d(m(t,e)))+"l"+_/2+",0l"+-_/2+",0z"}).attr("transform",function(t,e){return"translate("+c(f(t,e))+","+d(v(t,e))+")"}).attr("fill",function(t,e){return M[0]}).attr("stroke",function(t,e){return M[0]}).attr("x",0).attr("y",function(t,e){return d(Math.max(0,h(t,e)))}).attr("height",function(t,e){return Math.abs(d(h(t,e))-d(0))}),T.attr("class",function(t,e,n){return(p(t,e)>g(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}),d3.transition(T).attr("transform",function(t,e){return"translate("+c(f(t,e))+","+d(v(t,e))+")"}).attr("d",function(t,e){var n=A/w[0].values.length*.9;return"m0,0l0,"+(d(p(t,e))-d(v(t,e)))+"l"+-n/2+",0l"+n/2+",0l0,"+(d(m(t,e))-d(p(t,e)))+"l0,"+(d(g(t,e))-d(m(t,e)))+"l"+n/2+",0l"+-n/2+",0z"})}),A}return A.highlightPoint=function(t,e){A.clearHighlights(),u.select(".nv-ohlcBar .nv-tick-0-"+t).classed("hover",e)},A.clearHighlights=function(){u.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},A.dispatch=C,A.options=r.utils.optionsFunc.bind(A),A._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return s},set:function(t){s=t}},xScale:{get:function(){return c},set:function(t){c=t}},yScale:{get:function(){return d},set:function(t){d=t}},xDomain:{get:function(){return t},set:function(e){t=e}},yDomain:{get:function(){return e},set:function(t){e=t}},xRange:{get:function(){return n},set:function(t){n=t}},yRange:{get:function(){return i},set:function(t){i=t}},forceX:{get:function(){return y},set:function(t){y=t}},forceY:{get:function(){return x},set:function(t){x=t}},padData:{get:function(){return b},set:function(t){b=t}},clipEdge:{get:function(){return k},set:function(t){k=t}},id:{get:function(){return l},set:function(t){l=t}},interactive:{get:function(){return w},set:function(t){w=t}},x:{get:function(){return f},set:function(t){f=t}},y:{get:function(){return h},set:function(t){h=t}},open:{get:function(){return p()},set:function(t){p=t}},close:{get:function(){return g()},set:function(t){g=t}},high:{get:function(){return v},set:function(t){v=t}},low:{get:function(){return m},set:function(t){m=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!=t.top?t.top:o.top,o.right=void 0!=t.right?t.right:o.right,o.bottom=void 0!=t.bottom?t.bottom:o.bottom,o.left=void 0!=t.left?t.left:o.left}},color:{get:function(){return M},set:function(t){M=r.utils.getColor(t)}}}),r.utils.initOptions(A),A},r.models.parallelCoordinates=function(){"use strict";var t,e,n,i={top:30,right:0,bottom:10,left:0},o=null,a=null,s=null,l=null,u=d3.scale.ordinal(),c={},d="undefined values",f=[],h=[],p=[],g=!0,v=r.utils.defaultColor(),m=[],y=[],x=[],b=[],k=1,M=d3.svg.line(),w=d3.svg.axis(),C=d3.dispatch("brushstart","brush","brushEnd","dimensionsOrder","stateChange","elementClick","elementMouseover","elementMouseout","elementMousemove","renderEnd","activeChanged"),A=r.utils.renderWatch(C);function S(_){return A.reset(),_.each(function(A){var S=d3.select(this);if(s=r.utils.availableWidth(o,S,i),l=r.utils.availableHeight(a,S,i),r.utils.initSVG(S),void 0===A[0].values){var _=[];A.forEach(function(t){var e={};Object.keys(t).forEach(function(n){"name"!==n&&(e[n]=t[n])}),_.push({key:t.name,values:e})}),A=_}var D=A.map(function(t){return t.values});0===y.length&&(y=A),p=f.sort(function(t,e){return t.currentPosition-e.currentPosition}).map(function(t){return t.key}),h=f.filter(function(t){return!t.disabled}),u.rangePoints([0,s],1).domain(h.map(function(t){return t.key}));var F={},E=!1,N=[];p.forEach(function(t){var e=d3.extent(D,function(e){return+e[t]}),n=e[0],r=e[1],i=!1;(isNaN(n)||isNaN(r))&&(i=!0,n=0,r=0),n===r&&(n-=1,r+=1);var o=m.filter(function(e){return e.dimension==t});0!==o.length&&(i?(n=c[t].domain()[0],r=c[t].domain()[1]):!o[0].hasOnlyNaN&&g?(n=n>o[0].extent[0]?o[0].extent[0]:n,r=r<o[0].extent[1]?o[0].extent[1]:r):o[0].hasNaN&&(r=r<o[0].extent[1]?o[0].extent[1]:r,F[t]=c[t].domain()[1],E=!0)),c[t]=d3.scale.linear().domain([n,r]).range([.9*(l-12),0]),b=[],c[t].brush=d3.svg.brush().y(c[t]).on("brushstart",X).on("brush",U).on("brushend",G)});var P=S.selectAll("g.nv-wrap.nv-parallelCoordinates").data([A]),T=P.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates").append("g"),I=P.select("g");T.append("g").attr("class","nv-parallelCoordinates background"),T.append("g").attr("class","nv-parallelCoordinates foreground"),T.append("g").attr("class","nv-parallelCoordinates missingValuesline"),P.attr("transform","translate("+i.left+","+i.top+")"),M.interpolate("cardinal").tension(k),w.orient("left");var O,L,W=d3.behavior.drag().on("dragstart",function(t){x[t.key]=this.parentNode.__origin__=u(t.key),e.attr("visibility","hidden")}).on("drag",function(e){x[e.key]=Math.min(s,Math.max(0,this.parentNode.__origin__+=d3.event.x)),t.attr("d",q),h.sort(function(t,e){return K(t.key)-K(e.key)}),h.forEach(function(t,e){return t.currentPosition=e}),u.domain(h.map(function(t){return t.key})),n.attr("transform",function(t){return"translate("+K(t.key)+")"})}).on("dragend",function(n,r){delete this.parentNode.__origin__,delete x[n.key],d3.select(this.parentNode).attr("transform","translate("+u(n.key)+")"),t.attr("d",q),e.attr("d",q).attr("visibility",null),C.dimensionsOrder(h)}),z=u.range()[1]-u.range()[0];if(z=isNaN(z)?u.range()[0]:z,!isNaN(z)){var R=[0+z/2,l-12,s-z/2,l-12];(O=P.select(".missingValuesline").selectAll("line").data([R])).enter().append("line"),O.exit().remove(),O.attr("x1",function(t){return t[0]}).attr("y1",function(t){return t[1]}).attr("x2",function(t){return t[2]}).attr("y2",function(t){return t[3]}),(L=P.select(".missingValuesline").selectAll("text").data([d])).append("text").data([d]),L.enter().append("text"),L.exit().remove(),L.attr("y",l).attr("x",s-92-z/2).text(function(t){return t})}(e=P.select(".background").selectAll("path").data(A)).enter().append("path"),e.exit().remove(),e.attr("d",q),(t=P.select(".foreground").selectAll("path").data(A)).enter().append("path"),t.exit().remove(),t.attr("d",q).style("stroke-width",function(t,e){return isNaN(t.strokeWidth)&&(t.strokeWidth=1),t.strokeWidth}).attr("stroke",function(t,e){return t.color||v(t,e)}),t.on("mouseover",function(t,e){d3.select(this).classed("hover",!0).style("stroke-width",t.strokeWidth+2+"px").style("stroke-opacity",1),C.elementMouseover({label:t.name,color:t.color||v(t,e),values:t.values,dimensions:h})}),t.on("mouseout",function(t,e){d3.select(this).classed("hover",!1).style("stroke-width",t.strokeWidth+"px").style("stroke-opacity",.7),C.elementMouseout({label:t.name,index:e})}),t.on("mousemove",function(t,e){C.elementMousemove()}),t.on("click",function(t){C.elementClick({id:t.id})});var B=(n=I.selectAll(".dimension").data(h)).enter().append("g").attr("class","nv-parallelCoordinates dimension");n.attr("transform",function(t){return"translate("+u(t.key)+",0)"}),B.append("g").attr("class","nv-axis"),B.append("text").attr("class","nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").on("mouseover",function(t,e){C.elementMouseover({label:t.tooltip||t.key,color:t.color})}).on("mouseout",function(t,e){C.elementMouseout({label:t.tooltip})}).on("mousemove",function(t,e){C.elementMousemove()}).call(W),B.append("g").attr("class","nv-brushBackground"),n.exit().remove(),n.select(".nv-label").text(function(t){return t.key}),Y(g);var V=p.filter(function(t){return!c[t].brush.empty()}),H=V.map(function(t){return c[t].brush.extent()}),j=y.slice(0);function q(t){return M(h.map(function(e){if(isNaN(t.values[e.key])||isNaN(parseFloat(t.values[e.key]))||E){var n=c[e.key].domain(),r=c[e.key].range(),i=n[0]-(n[1]-n[0])/9;if(b.indexOf(e.key)<0){var o=d3.scale.linear().domain([i,n[1]]).range([l-12,r[1]]);c[e.key].brush.y(o),b.push(e.key)}if(isNaN(t.values[e.key])||isNaN(parseFloat(t.values[e.key])))return[u(e.key),c[e.key](i)]}return void 0!==O&&(b.length>0||E?(O.style("display","inline"),L.style("display","inline")):(O.style("display","none"),L.style("display","none"))),[u(e.key),c[e.key](t.values[e.key])]}))}function Y(t){m.forEach(function(e){var n=c[e.dimension].brush.y().domain();e.hasOnlyNaN&&(e.extent[1]=(c[e.dimension].domain()[1]-n[0])*(e.extent[1]-e.extent[0])/(F[e.dimension]-e.extent[0])+n[0]),e.hasNaN&&(e.extent[0]=n[0]),t&&c[e.dimension].brush.extent(e.extent)}),n.select(".nv-brushBackground").each(function(t){d3.select(this).call(c[t.key].brush)}).selectAll("rect").attr("x",-8).attr("width",16),Z()}function X(){!1===g&&(g=!0,Y(!0))}function U(){V=p.filter(function(t){return!c[t].brush.empty()}),H=V.map(function(t){return c[t].brush.extent()}),m=[],V.forEach(function(t,e){m[e]={dimension:t,extent:H[e],hasNaN:!1,hasOnlyNaN:!1}}),y=[],t.style("display",function(t){var e=V.every(function(e,n){return!(!isNaN(t.values[e])&&!isNaN(parseFloat(t.values[e]))||H[n][0]!=c[e].brush.y().domain()[0])||H[n][0]<=t.values[e]&&t.values[e]<=H[n][1]&&!isNaN(parseFloat(t.values[e]))});return e&&y.push(t),e?null:"none"}),Z(),C.brush({filters:m,active:y})}function G(){var t=V.length>0;m.forEach(function(t){t.extent[0]===c[t.dimension].brush.y().domain()[0]&&b.indexOf(t.dimension)>=0&&(t.hasNaN=!0),t.extent[1]<c[t.dimension].domain()[0]&&(t.hasOnlyNaN=!0)}),C.brushEnd(y,t)}function Z(){n.select(".nv-axis").each(function(t,e){var n=m.filter(function(e){return e.dimension==t.key});N[t.key]=c[t.key].domain(),0!=n.length&&g&&(N[t.key]=[],n[0].extent[1]>c[t.key].domain()[0]&&(N[t.key]=[n[0].extent[1]]),n[0].extent[0]>=c[t.key].domain()[0]&&N[t.key].push(n[0].extent[0])),d3.select(this).call(w.scale(c[t.key]).tickFormat(t.format).tickValues(N[t.key]))})}function K(t){var e=x[t];return null==e?u(t):e}y=[],t.style("display",function(t){var e=V.every(function(e,n){return!(!isNaN(t.values[e])&&!isNaN(parseFloat(t.values[e]))||H[n][0]!=c[e].brush.y().domain()[0])||H[n][0]<=t.values[e]&&t.values[e]<=H[n][1]&&!isNaN(parseFloat(t.values[e]))});return e&&y.push(t),e?null:"none"}),(m.length>0||!r.utils.arrayEquals(y,j))&&C.activeChanged(y)}),S}return S.dispatch=C,S.options=r.utils.optionsFunc.bind(S),S._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return a},set:function(t){a=t}},dimensionData:{get:function(){return f},set:function(t){f=t}},displayBrush:{get:function(){return g},set:function(t){g=t}},filters:{get:function(){return m},set:function(t){m=t}},active:{get:function(){return y},set:function(t){y=t}},lineTension:{get:function(){return k},set:function(t){k=t}},undefinedValuesLabel:{get:function(){return d},set:function(t){d=t}},dimensions:{get:function(){return f.map(function(t){return t.key})},set:function(t){r.deprecated("dimensions","use dimensionData instead"),t.forEach(0===f.length?function(t){f.push({key:t})}:function(t,e){f[e].key=t})}},dimensionNames:{get:function(){return f.map(function(t){return t.key})},set:function(t){r.deprecated("dimensionNames","use dimensionData instead"),p=[],t.forEach(0===f.length?function(t){f.push({key:t})}:function(t,e){f[e].key=t})}},dimensionFormats:{get:function(){return f.map(function(t){return t.format})},set:function(t){r.deprecated("dimensionFormats","use dimensionData instead"),t.forEach(0===f.length?function(t){f.push({format:t})}:function(t,e){f[e].format=t})}},margin:{get:function(){return i},set:function(t){i.top=void 0!==t.top?t.top:i.top,i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}},color:{get:function(){return v},set:function(t){v=r.utils.getColor(t)}}}),r.utils.initOptions(S),S},r.models.parallelCoordinatesChart=function(){"use strict";var t=r.models.parallelCoordinates(),e=r.models.legend(),n=r.models.tooltip(),i=(r.models.tooltip(),{top:0,right:0,bottom:0,left:0}),o=null,a=null,s=null,l=!0,u=r.utils.defaultColor(),c=r.utils.state(),d=[],f=!0,h=null,p=null,g="undefined",v=d3.dispatch("dimensionsOrder","brushEnd","stateChange","changeState","renderEnd"),m=r.utils.renderWatch(v),y=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},x=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};function b(n){return m.reset(),m.models(t),n.each(function(n){var u=d3.select(this);r.utils.initSVG(u);var p,g=r.utils.availableWidth(a,u,i),m=r.utils.availableHeight(s,u,i);if(b.update=function(){u.call(b)},b.container=this,c.setter(x(d),b.update).getter(y(d)).update(),c.disabled=d.map(function(t){return!!t.disabled}),(d=d.map(function(t){return t.disabled=!!t.disabled,t})).forEach(function(t,e){t.originalPosition=isNaN(t.originalPosition)?e:t.originalPosition,t.currentPosition=isNaN(t.currentPosition)?e:t.currentPosition}),!h)for(p in h={},c)h[p]=c[p]instanceof Array?c[p].slice(0):c[p];if(!n||!n.length)return r.utils.noData(b,u),b;u.selectAll(".nv-noData").remove();var k=u.selectAll("g.nv-wrap.nv-parallelCoordinatesChart").data([n]),M=k.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinatesChart").append("g"),w=k.select("g");M.append("g").attr("class","nv-parallelCoordinatesWrap"),M.append("g").attr("class","nv-legendWrap"),w.select("rect").attr("width",g).attr("height",m>0?m:0),l?(e.width(g).color(function(t){return"rgb(188,190,192)"}),w.select(".nv-legendWrap").datum(d.sort(function(t,e){return t.originalPosition-e.originalPosition})).call(e),o||e.height()===i.top||(i.top=e.height(),m=r.utils.availableHeight(s,u,i)),k.select(".nv-legendWrap").attr("transform","translate( 0 ,"+-i.top+")")):w.select(".nv-legendWrap").selectAll("*").remove(),k.attr("transform","translate("+i.left+","+i.top+")"),t.width(g).height(m).dimensionData(d).displayBrush(f),w.select(".nv-parallelCoordinatesWrap ").datum(n).transition().call(t),t.dispatch.on("brushEnd",function(t,e){e?(f=!0,v.brushEnd(t)):f=!1}),e.dispatch.on("stateChange",function(t){for(var e in t)c[e]=t[e];v.stateChange(c),b.update()}),t.dispatch.on("dimensionsOrder",function(t){d.sort(function(t,e){return t.currentPosition-e.currentPosition});var e=!1;d.forEach(function(t,n){t.currentPosition=n,t.currentPosition!==t.originalPosition&&(e=!0)}),v.dimensionsOrder(d,e)}),v.on("changeState",function(t){void 0!==t.disabled&&(d.forEach(function(e,n){e.disabled=t.disabled[n]}),c.disabled=t.disabled),b.update()})}),m.renderEnd("parraleleCoordinateChart immediate"),b}return n.contentGenerator(function(t){var e='<table><thead><tr><td class="legend-color-guide"><div style="background-color:'+t.color+'"></div></td><td><strong>'+t.key+"</strong></td></tr></thead>";return 0!==t.series.length&&(e+='<tbody><tr><td height ="10px"></td></tr>',t.series.forEach(function(t){e=e+'<tr><td class="legend-color-guide"><div style="background-color:'+t.color+'"></div></td><td class="key">'+t.key+'</td><td class="value">'+t.value+"</td></tr>"}),e+="</tbody>"),e+="</table>"}),t.dispatch.on("elementMouseover.tooltip",function(t){var e={key:t.label,color:t.color,series:[]};t.values&&(Object.keys(t.values).forEach(function(n){var r,i=t.dimensions.filter(function(t){return t.key===n})[0];i&&(r=isNaN(t.values[n])||isNaN(parseFloat(t.values[n]))?g:i.format(t.values[n]),e.series.push({idx:i.currentPosition,key:n,value:r,color:i.color}))}),e.series.sort(function(t,e){return t.idx-e.idx})),n.data(e).hidden(!1)}),t.dispatch.on("elementMouseout.tooltip",function(t){n.hidden(!0)}),t.dispatch.on("elementMousemove.tooltip",function(){n()}),b.dispatch=v,b.parallelCoordinates=t,b.legend=e,b.tooltip=n,b.options=r.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return s},set:function(t){s=t}},showLegend:{get:function(){return l},set:function(t){l=t}},defaultState:{get:function(){return h},set:function(t){h=t}},dimensionData:{get:function(){return d},set:function(t){d=t}},displayBrush:{get:function(){return f},set:function(t){f=t}},noData:{get:function(){return p},set:function(t){p=t}},nanValue:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return i},set:function(t){void 0!==t.top&&(i.top=t.top,o=t.top),i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}},color:{get:function(){return u},set:function(n){u=r.utils.getColor(n),e.color(u),t.color(u)}}}),r.utils.inheritOptions(b,t),r.utils.initOptions(b),b},r.models.pie=function(){"use strict";var t={top:0,right:0,bottom:0,left:0},e=500,n=500,i=function(t){return t.x},o=function(t){return t.y},a=Math.floor(1e4*Math.random()),s=null,l=r.utils.defaultColor(),u=d3.format(",.2f"),c=!0,d=!1,f="key",h=.02,p=!1,g=!1,v=!1,m=!0,y=0,x=!1,b=!1,k=!1,M=!1,w=0,C=.5,A=250,S=[],_=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),D=[],F=[],E=r.utils.renderWatch(_);function N(P){return E.reset(),P.each(function(N){var P=e-t.left-t.right,T=n-t.top-t.bottom,I=Math.min(P,T)/2,O=[],L=[];if(s=d3.select(this),0===S.length)for(var W=I-I/10,z=C*I,R=0;R<N[0].length;R++)O.push(W),L.push(z);else m?(O=S.map(function(t){return(t.outer-t.outer/10)*I}),L=S.map(function(t){return(t.inner-t.inner/10)*I}),C=d3.min(S.map(function(t){return t.inner-t.inner/10}))):(O=S.map(function(t){return t.outer*I}),L=S.map(function(t){return t.inner*I}),C=d3.min(S.map(function(t){return t.inner})));r.utils.initSVG(s);var B=s.selectAll(".nv-wrap.nv-pie").data(N),V=B.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+a).append("g"),H=B.select("g"),j=V.append("g").attr("class","nv-pie");for(V.append("g").attr("class","nv-pieLabels"),B.attr("transform","translate("+t.left+","+t.top+")"),H.select(".nv-pie").attr("transform","translate("+P/2+","+T/2+")"),H.select(".nv-pieLabels").attr("transform","translate("+P/2+","+T/2+")"),s.on("click",function(t,e){_.chartClick({data:t,index:e,pos:d3.event,id:a})}),D=[],F=[],R=0;R<N[0].length;R++){var q=d3.svg.arc().outerRadius(O[R]),Y=d3.svg.arc().outerRadius(O[R]+5);!1!==b&&(q.startAngle(b),Y.startAngle(b)),!1!==M&&(q.endAngle(M),Y.endAngle(M)),g&&(q.innerRadius(L[R]),Y.innerRadius(L[R])),q.cornerRadius&&w&&(q.cornerRadius(w),Y.cornerRadius(w)),D.push(q),F.push(Y)}var X=d3.layout.pie().sort(null).value(function(t){return t.disabled?0:o(t)});X.padAngle&&k&&X.padAngle(k),g&&v&&(j.append("text").attr("class","nv-pie-title"),B.select(".nv-pie-title").style("text-anchor","middle").text(function(t){return v}).style("font-size",Math.min(P,T)*C*2/(v.length+2)+"px").attr("dy","0.35em").attr("transform",function(t,e){return"translate(0, "+y+")"}));var U=B.select(".nv-pie").selectAll(".nv-slice").data(X),G=B.select(".nv-pieLabels").selectAll(".nv-label").data(X);U.exit().remove(),G.exit().remove();var Z=U.enter().append("g");if(Z.attr("class","nv-slice"),Z.on("mouseover",function(t,e){d3.select(this).classed("hover",!0),m&&d3.select(this).select("path").transition().duration(70).attr("d",F[e]),_.elementMouseover({data:t.data,index:e,color:d3.select(this).style("fill"),percent:(t.endAngle-t.startAngle)/(2*Math.PI)})}),Z.on("mouseout",function(t,e){d3.select(this).classed("hover",!1),m&&d3.select(this).select("path").transition().duration(50).attr("d",D[e]),_.elementMouseout({data:t.data,index:e})}),Z.on("mousemove",function(t,e){_.elementMousemove({data:t.data,index:e})}),Z.on("click",function(t,e){_.elementClick({data:t.data,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this})}),Z.on("dblclick",function(t,e){_.elementDblClick({data:t.data,index:e,color:d3.select(this).style("fill")})}),U.attr("fill",function(t,e){return l(t.data,e)}),U.attr("stroke",function(t,e){return l(t.data,e)}),Z.append("path").each(function(t){this._current=t}),U.select("path").transition().duration(A).attr("d",function(t,e){return D[e](t)}).attrTween("d",function(t,e){t.endAngle=isNaN(t.endAngle)?0:t.endAngle,t.startAngle=isNaN(t.startAngle)?0:t.startAngle,g||(t.innerRadius=0);var n=d3.interpolate(this._current,t);return this._current=n(0),function(t){return D[e](n(t))}}),c){var K=[];for(R=0;R<N[0].length;R++)K.push(D[R]),d?g&&(K[R]=d3.svg.arc().outerRadius(D[R].outerRadius()),!1!==b&&K[R].startAngle(b),!1!==M&&K[R].endAngle(M)):g||K[R].innerRadius(0);G.enter().append("g").classed("nv-label",!0).each(function(t,e){var n=d3.select(this);n.attr("transform",function(t,e){if(x){t.outerRadius=O[e]+10,t.innerRadius=O[e]+15;var n=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+K[e].centroid(t)+") rotate("+n+")"}return t.outerRadius=I+10,t.innerRadius=I+15,"translate("+K[e].centroid(t)+")"}),n.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),n.append("text").style("text-anchor",x?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var J={},$=function(t){return 140*Math.floor(t[0]/140)+","+14*Math.floor(t[1]/14)},Q=function(t){return(t.endAngle-t.startAngle)/(2*Math.PI)};G.watchTransition(E,"pie labels").attr("transform",function(t,e){if(x){t.outerRadius=O[e]+10,t.innerRadius=O[e]+15;var n=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+K[e].centroid(t)+") rotate("+n+")"}t.outerRadius=I+10,t.innerRadius=I+15;var r=K[e].centroid(t),i=Q(t);if(t.value&&i>=h){var o=$(r);J[o]&&(r[1]-=14),J[$(r)]=!0}return"translate("+r+")"}),G.select(".nv-label text").style("text-anchor",function(t,e){return x?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle"}).text(function(t,e){var n=Q(t),r="";if(!t.value||n<h)return"";if("function"==typeof f)r=f(t,e,{key:i(t.data),value:o(t.data),percent:u(n)});else switch(f){case"key":r=i(t.data);break;case"value":r=u(o(t.data));break;case"percent":r=d3.format("%")(n)}return r}),p&&G.each(function(t,e){if(this.getBBox){var n=this.getBBox(),i=K[e].centroid(t),o={x:i[0]+n.x,y:i[1]+n.y},a={x:o.x+n.width,y:o.y},s={x:o.x,y:o.y+n.height},l={x:o.x+n.width,y:o.y+n.height};t.visible=r.utils.pointIsInArc(o,t,q)&&r.utils.pointIsInArc(a,t,q)&&r.utils.pointIsInArc(s,t,q)&&r.utils.pointIsInArc(l,t,q)}}).style("display",function(t){return t.visible?null:"none"})}}),E.renderEnd("pie immediate"),N}return N.dispatch=_,N.options=r.utils.optionsFunc.bind(N),N._options=Object.create({},{arcsRadius:{get:function(){return S},set:function(t){S=t}},width:{get:function(){return e},set:function(t){e=t}},height:{get:function(){return n},set:function(t){n=t}},showLabels:{get:function(){return c},set:function(t){c=t}},title:{get:function(){return v},set:function(t){v=t}},titleOffset:{get:function(){return y},set:function(t){y=t}},labelThreshold:{get:function(){return h},set:function(t){h=t}},hideOverlapLabels:{get:function(){return p},set:function(t){p=t}},valueFormat:{get:function(){return u},set:function(t){u=t}},x:{get:function(){return i},set:function(t){i=t}},id:{get:function(){return a},set:function(t){a=t}},endAngle:{get:function(){return M},set:function(t){M=t}},startAngle:{get:function(){return b},set:function(t){b=t}},padAngle:{get:function(){return k},set:function(t){k=t}},cornerRadius:{get:function(){return w},set:function(t){w=t}},donutRatio:{get:function(){return C},set:function(t){C=t}},labelsOutside:{get:function(){return d},set:function(t){d=t}},labelSunbeamLayout:{get:function(){return x},set:function(t){x=t}},donut:{get:function(){return g},set:function(t){g=t}},growOnHover:{get:function(){return m},set:function(t){m=t}},pieLabelsOutside:{get:function(){return d},set:function(t){d=t,r.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return d},set:function(t){d=t,r.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return u},set:function(t){u=t,r.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},duration:{get:function(){return A},set:function(t){E.reset(A=t)}},y:{get:function(){return o},set:function(t){o=d3.functor(t)}},color:{get:function(){return l},set:function(t){l=r.utils.getColor(t)}},labelType:{get:function(){return f},set:function(t){f=t||"key"}}}),r.utils.initOptions(N),N},r.models.pieChart=function(){"use strict";var t=r.models.pie(),e=r.models.legend(),n=r.models.tooltip(),i={top:30,right:20,bottom:20,left:20},o=null,a=null,s=null,l=!1,u=!0,c="top",d=r.utils.defaultColor(),f=r.utils.state(),h=null,p=null,g=250,v=d3.dispatch("stateChange","changeState","renderEnd");n.duration(0).headerEnabled(!1).valueFormatter(function(e,n){return t.valueFormat()(e,n)});var m=r.utils.renderWatch(v),y=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},x=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};function b(n){return m.reset(),m.models(t),n.each(function(n){var l=d3.select(this);r.utils.initSVG(l);var d,p=r.utils.availableWidth(a,l,i),g=r.utils.availableHeight(s,l,i);if(b.update=function(){l.transition().call(b)},b.container=this,f.setter(x(n),b.update).getter(y(n)).update(),f.disabled=n.map(function(t){return!!t.disabled}),!h)for(d in h={},f)h[d]=f[d]instanceof Array?f[d].slice(0):f[d];if(!n||!n.length)return r.utils.noData(b,l),b;l.selectAll(".nv-noData").remove();var m=l.selectAll("g.nv-wrap.nv-pieChart").data([n]),k=m.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),M=m.select("g");if(k.append("g").attr("class","nv-pieWrap"),k.append("g").attr("class","nv-legendWrap"),u)if("top"===c)e.width(p).key(t.x()),m.select(".nv-legendWrap").datum(n).call(e),o||e.height()===i.top||(i.top=e.height(),g=r.utils.availableHeight(s,l,i)),m.select(".nv-legendWrap").attr("transform","translate(0,"+-i.top+")");else if("right"===c){var w=r.models.legend().width();p/2<w&&(w=p/2),e.height(g).key(t.x()),e.width(w),p-=e.width(),m.select(".nv-legendWrap").datum(n).call(e).attr("transform","translate("+p+",0)")}else"bottom"===c&&(e.width(p).key(t.x()),m.select(".nv-legendWrap").datum(n).call(e),i.bottom=e.height(),g=r.utils.availableHeight(s,l,i),m.select(".nv-legendWrap").attr("transform","translate(0,"+g+")"));else M.select(".nv-legendWrap").selectAll("*").remove();m.attr("transform","translate("+i.left+","+i.top+")"),t.width(p).height(g);var C=M.select(".nv-pieWrap").datum([n]);d3.transition(C).call(t),e.dispatch.on("stateChange",function(t){for(var e in t)f[e]=t[e];v.stateChange(f),b.update()}),v.on("changeState",function(t){void 0!==t.disabled&&(n.forEach(function(e,n){e.disabled=t.disabled[n]}),f.disabled=t.disabled),b.update()})}),m.renderEnd("pieChart immediate"),b}return t.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:b.x()(t.data),value:b.y()(t.data),color:t.color,percent:t.percent},l||(delete t.percent,delete t.series.percent),n.data(t).hidden(!1)}),t.dispatch.on("elementMouseout.tooltip",function(t){n.hidden(!0)}),t.dispatch.on("elementMousemove.tooltip",function(t){n()}),b.legend=e,b.dispatch=v,b.pie=t,b.tooltip=n,b.options=r.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return s},set:function(t){s=t}},noData:{get:function(){return p},set:function(t){p=t}},showTooltipPercent:{get:function(){return l},set:function(t){l=t}},showLegend:{get:function(){return u},set:function(t){u=t}},legendPosition:{get:function(){return c},set:function(t){c=t}},defaultState:{get:function(){return h},set:function(t){h=t}},color:{get:function(){return d},set:function(n){e.color(d=n),t.color(d)}},duration:{get:function(){return g},set:function(e){m.reset(g=e),t.duration(g)}},margin:{get:function(){return i},set:function(t){void 0!==t.top&&(i.top=t.top,o=t.top),i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}}}),r.utils.inheritOptions(b,t),r.utils.initOptions(b),b},r.models.sankey=function(){"use strict";var t={},e=24,n=8,i=[1,1],o=[],a=[],s=!0,l=function(t){o.forEach(function(t){t.sourceLinks=[],t.targetLinks=[]}),a.forEach(function(t){var e=t.source,n=t.target;"number"==typeof e&&(e=t.source=o[t.source]),"number"==typeof n&&(n=t.target=o[t.target]),e.sourceLinks.push(t),n.targetLinks.push(t)}),o.forEach(function(t){t.value=Math.max(d3.sum(t.sourceLinks,f),d3.sum(t.targetLinks,f))}),function(){for(var t,n,r=o,a=0;r.length&&a<o.length;)t=[],r.forEach(function(n){n.x=a,n.dx=e,n.sourceLinks.forEach(function(e){t.indexOf(e.target)<0&&t.push(e.target)})}),r=t,++a;s&&function(t){o.forEach(function(e){e.sourceLinks.length||(e.x=t-1)})}(a),n=(i[0]-e)/(a-1),o.forEach(function(t){t.x*=n})}(),function(t){var e,r=d3.nest().key(function(t){return t.x}).sortKeys(d3.ascending).entries(o).map(function(t){return t.values});e=d3.min(r,function(t){return(i[1]-(t.length-1)*n)/d3.sum(t,f)}),r.forEach(function(t){t.forEach(function(t,n){t.y=n,t.dy=t.value*e})}),a.forEach(function(t){t.dy=t.value*e}),h(),d();for(var s=1;t>0;--t)u(s*=.99),h(),d(),l(s),h(),d();function l(t){function e(t){return(t.source.y+t.sy+t.dy/2)*t.value}r.forEach(function(n,r){n.forEach(function(n){if(n.targetLinks.length){var r=d3.sum(n.targetLinks,e)/d3.sum(n.targetLinks,f);n.y+=(r-c(n))*t}})})}function u(t){function e(t){return(t.target.y+t.ty+t.dy/2)*t.value}r.slice().reverse().forEach(function(n){n.forEach(function(n){if(n.sourceLinks.length){var r=d3.sum(n.sourceLinks,e)/d3.sum(n.sourceLinks,f);n.y+=(r-c(n))*t}})})}function h(){r.forEach(function(t){var e,r,o,a=0,s=t.length;for(t.sort(p),o=0;o<s;++o)(r=a-(e=t[o]).y)>0&&(e.y+=r),a=e.y+e.dy+n;if((r=a-n-i[1])>0)for(a=e.y-=r,o=s-2;o>=0;--o)(r=(e=t[o]).y+e.dy+n-a)>0&&(e.y-=r),a=e.y})}function p(t,e){return t.y-e.y}}(t)},u=function(){var t=.5;function e(e){var n=e.source.x+e.source.dx,r=e.target.x,i=d3.interpolateNumber(n,r),o=i(t),a=i(1-t),s=e.source.y+e.sy+e.dy/2,l=e.target.y+e.ty+e.dy/2;return"M"+n+","+s+"C"+o+","+s+" "+a+","+l+" "+r+","+l}return e.curvature=function(n){return arguments.length?(t=+n,e):t},e},c=function(t){return t.y+t.dy/2};function d(){function t(t,e){return t.source.y-e.source.y}function e(t,e){return t.target.y-e.target.y}o.forEach(function(n){n.sourceLinks.sort(e),n.targetLinks.sort(t)}),o.forEach(function(t){var e=0,n=0;t.sourceLinks.forEach(function(t){t.sy=e,e+=t.dy}),t.targetLinks.forEach(function(t){t.ty=n,n+=t.dy})})}function f(t){return t.value}return t.options=r.utils.optionsFunc.bind(t),t._options=Object.create({},{nodeWidth:{get:function(){return e},set:function(t){e=+t}},nodePadding:{get:function(){return n},set:function(t){n=t}},nodes:{get:function(){return o},set:function(t){o=t}},links:{get:function(){return a},set:function(t){a=t}},size:{get:function(){return i},set:function(t){i=t}},sinksRight:{get:function(){return s},set:function(t){s=t}},layout:{get:function(){l(32)},set:function(t){l(t)}},relayout:{get:function(){d()},set:function(t){}},center:{get:function(){return c()},set:function(t){"function"==typeof t&&(c=t)}},link:{get:function(){return u()},set:function(t){return"function"==typeof t&&(u=t),u()}}}),r.utils.initOptions(t),t},r.models.sankeyChart=function(){"use strict";var t={top:5,right:0,bottom:5,left:0},e=r.models.sankey(),n=600,i=400,o=36,a=40,s="units",l=void 0,u=d3.format(",.0f"),c=function(t){return u(t)+" "+s},d=d3.scale.category20(),f=function(t){return t.source.name+" \u2192 "+t.target.name+"\n"+c(t.value)},h=function(t){return t.color=d(t.name.replace(/ .*/,""))},p=function(t){return d3.rgb(t.color).darker(2)},g=function(t){return t.name+"\n"+c(t.value)},v=function(t,e){t.append("text").attr("x",0).attr("y",0).attr("class","nvd3-sankey-chart-error").attr("text-anchor","middle").text(e)};function m(t){return t.each(function(r){var s={nodes:[{node:1,name:"Test 1"},{node:2,name:"Test 2"},{node:3,name:"Test 3"},{node:4,name:"Test 4"},{node:5,name:"Test 5"},{node:6,name:"Test 6"}],links:[{source:0,target:1,value:2295},{source:0,target:5,value:1199},{source:1,target:2,value:1119},{source:1,target:5,value:1176},{source:2,target:3,value:487},{source:2,target:5,value:632},{source:3,target:4,value:301},{source:3,target:5,value:186}]},u=!1,c=!1;if(("object"==typeof r.nodes&&r.nodes.length)>=0&&("object"==typeof r.links&&r.links.length)>=0&&(u=!0),r.nodes&&r.nodes.length>0&&r.links&&r.links.length>0&&(c=!0),!u)return console.error("NVD3 Sankey chart error:","invalid data format for",r),console.info("Valid data format is: ",s,JSON.stringify(s)),v(t,"Error loading chart, data is invalid"),!1;if(!c)return v(t,"No data available"),!1;var d=t.append("svg").attr("width",n).attr("height",i).append("g").attr("class","nvd3 nv-wrap nv-sankeyChart");e.nodeWidth(o).nodePadding(a).size([n,i]);var m=e.link();e.nodes(r.nodes).links(r.links).layout(32).center(l);var y=d.append("g").selectAll(".link").data(r.links).enter().append("path").attr("class","link").attr("d",m).style("stroke-width",function(t){return Math.max(1,t.dy)}).sort(function(t,e){return e.dy-t.dy});y.append("title").text(f);var x=d.append("g").selectAll(".node").data(r.nodes).enter().append("g").attr("class","node").attr("transform",function(t){return"translate("+t.x+","+t.y+")"}).call(d3.behavior.drag().origin(function(t){return t}).on("dragstart",function(){this.parentNode.appendChild(this)}).on("drag",function(t){d3.select(this).attr("transform","translate("+t.x+","+(t.y=Math.max(0,Math.min(i-t.dy,d3.event.y)))+")"),e.relayout(),y.attr("d",m)}));x.append("rect").attr("height",function(t){return t.dy}).attr("width",e.nodeWidth()).style("fill",h).style("stroke",p).append("title").text(g),x.append("text").attr("x",-6).attr("y",function(t){return t.dy/2}).attr("dy",".35em").attr("text-anchor","end").attr("transform",null).text(function(t){return t.name}).filter(function(t){return t.x<n/2}).attr("x",6+e.nodeWidth()).attr("text-anchor","start")}),m}return m.options=r.utils.optionsFunc.bind(m),m._options=Object.create({},{units:{get:function(){return s},set:function(t){s=t}},width:{get:function(){return n},set:function(t){n=t}},height:{get:function(){return i},set:function(t){i=t}},format:{get:function(){return c},set:function(t){c=t}},linkTitle:{get:function(){return f},set:function(t){f=t}},nodeWidth:{get:function(){return o},set:function(t){o=t}},nodePadding:{get:function(){return a},set:function(t){a=t}},center:{get:function(){return l},set:function(t){l=t}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},nodeStyle:{get:function(){return{}},set:function(t){h=void 0!==t.fillColor?t.fillColor:h,p=void 0!==t.strokeColor?t.strokeColor:p,g=void 0!==t.title?t.title:g}}}),r.utils.initOptions(m),m},r.models.scatter=function(){"use strict";var t,e,n,i,o,a,s,l,u={top:0,right:0,bottom:0,left:0},c=null,d=null,f=r.utils.defaultColor(),h=null,p=Math.floor(1e5*Math.random()),g=null,v=d3.scale.linear(),m=d3.scale.linear(),y=d3.scale.linear(),x=function(t){return t.x},b=function(t){return t.y},k=function(t){return t.size||1},M=function(t){return t.shape||"circle"},w=[],C=[],A=[],S=!0,_=function(t){return!t.notActive},D=!1,F=.1,E=!1,N=!0,P=!1,T=function(){return 25},I=null,O=null,L=null,W=null,z=null,R=null,B=!1,V=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),H=!0,j=250,q=300,Y=!1,X=!1,U=r.utils.renderWatch(V,j),G=[16,256],Z={};function K(t){delete Z[t[0].series+":"+t[1]]}function J(t){var e,n,r,i=function(t){var e;return Z[e=t[0].series+":"+t[1]]=Z[e]||{}}(t),o=!1;for(e=1;e<arguments.length;e+=2)n=arguments[e],r=arguments[e+1](t[0],t[1]),i[n]===r&&i.hasOwnProperty(n)||(i[n]=r,o=!0);return o}function $(j){return U.reset(),j.each(function(j){g=d3.select(this);var Z=r.utils.availableWidth(c,g,u),Q=r.utils.availableHeight(d,g,u);r.utils.initSVG(g),j.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var tt="function"==typeof $.yScale().base,et=I&&O&&z?[]:d3.merge(j.map(function(t){return t.values.map(function(t,e){return{x:x(t,e),y:b(t,e),size:k(t,e)}})}));if(v.domain(I||d3.extent(et.map(function(t){return t.x}).concat(w))),v.range(D&&j[0]?L||[(Z*F+Z)/(2*j[0].values.length),Z-Z*(1+F)/(2*j[0].values.length)]:L||[0,Z]),tt){var nt=d3.min(et.map(function(t){if(0!==t.y)return t.y}));m.clamp(!0).domain(O||d3.extent(et.map(function(t){return 0!==t.y?t.y:.1*nt}).concat(C))).range(W||[Q,0])}else m.domain(O||d3.extent(et.map(function(t){return t.y}).concat(C))).range(W||[Q,0]);y.domain(z||d3.extent(et.map(function(t){return t.size}).concat(A))).range(R||G),B=v.domain()[0]===v.domain()[1]||m.domain()[0]===m.domain()[1],v.domain()[0]===v.domain()[1]&&(v.domain()[0]?v.domain([v.domain()[0]-.01*v.domain()[0],v.domain()[1]+.01*v.domain()[1]]):v.domain([-1,1])),m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]-.01*m.domain()[0],m.domain()[1]+.01*m.domain()[1]]):m.domain([-1,1])),isNaN(v.domain()[0])&&v.domain([-1,1]),isNaN(m.domain()[0])&&m.domain([-1,1]),t=t||v,e=e||m,n=n||y;var rt=v(1)!==t(1)||m(1)!==e(1)||y(1)!==n(1);a=a||c,s=s||d;var it=a!==c||s!==d,ot=(i=i||[])[0]!==v.domain()[0]||i[1]!==v.domain()[1];i=v.domain(),o=o||[],ot=ot||o[0]!==m.domain()[0]||o[1]!==m.domain()[1],o=m.domain();var at=g.selectAll("g.nv-wrap.nv-scatter").data([j]),st=at.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+p),lt=st.append("defs"),ut=st.append("g"),ct=at.select("g");function dt(){if(X=!1,!S)return!1;if(!0===H){at.select(".nv-point-paths").selectAll("path").remove();var t=d3.merge(j.map(function(t,e){return t.values.map(function(t,n){var i=x(t,n),o=b(t,n);return[r.utils.NaNtoZero(v(i))+1e-4*Math.random(),r.utils.NaNtoZero(m(o))+1e-4*Math.random(),e,n,t]}).filter(function(t,e){return _(t[4],e)})}));if(0==t.length)return!1;t.length<3&&(t.push([v.range()[0]-20,m.range()[0]-20,null,null]),t.push([v.range()[1]+20,m.range()[1]+20,null,null]),t.push([v.range()[0]-20,m.range()[0]+20,null,null]),t.push([v.range()[1]+20,m.range()[1]-20,null,null]));var e=d3.geom.polygon([[-10,-10],[-10,d+10],[c+10,d+10],[c+10,-10]]);t=t.sort(function(t,e){return t[0]-e[0]||t[1]-e[1]});for(var n=0;n<t.length-1;)Math.abs(t[n][0]-t[n+1][0])<1e-4&&Math.abs(t[n][1]-t[n+1][1])<1e-4?t.splice(n+1,1):n++;var i=d3.geom.voronoi(t).map(function(n,r){return{data:e.clip(n),series:t[r][2],point:t[r][3]}}),o=at.select(".nv-point-paths").selectAll("path").data(i),a=o.enter().append("svg:path").attr("d",function(t){return t&&t.data&&0!==t.data.length?"M"+t.data.join(",")+"Z":"M 0 0"}).attr("id",function(t,e){return"nv-path-"+e}).attr("clip-path",function(t,e){return"url(#nv-clip-"+p+"-"+e+")"});P&&a.style("fill",d3.rgb(230,230,230)).style("fill-opacity",.4).style("stroke-opacity",1).style("stroke",d3.rgb(200,200,200)),N&&(at.select(".nv-point-clips").selectAll("*").remove(),at.select(".nv-point-clips").selectAll("clipPath").data(t).enter().append("svg:clipPath").attr("id",function(t,e){return"nv-clip-"+p+"-"+e}).append("svg:circle").attr("cx",function(t){return t[0]}).attr("cy",function(t){return t[1]}).attr("r",T));var s=function(t,e,n){if(X)return 0;var r=j[e.series];if(void 0!==r){var i=r.values[e.point];i.color=f(r,e.series),i.x=x(i),i.y=b(i);var o=g.node().getBoundingClientRect(),a=window.pageYOffset||document.documentElement.scrollTop,s=window.pageXOffset||document.documentElement.scrollLeft;n({point:i,series:r,pos:{left:v(x(i,e.point))+o.left+s+u.left+10,top:m(b(i,e.point))+o.top+a+u.top+10},relativePos:[v(x(i,e.point))+u.left,m(b(i,e.point))+u.top],seriesIndex:e.series,pointIndex:e.point,event:d3.event,element:t})}};o.on("click",function(t){s(this,t,V.elementClick)}).on("dblclick",function(t){s(this,t,V.elementDblClick)}).on("mouseover",function(t){s(this,t,V.elementMouseover)}).on("mouseout",function(t,e){s(this,t,V.elementMouseout)})}else at.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(t,e){if(X||!j[t.series])return 0;var n=j[t.series],r=n.values[e];V.elementClick({point:r,series:n,pos:[v(x(r,e))+u.left,m(b(r,e))+u.top],relativePos:[v(x(r,e))+u.left,m(b(r,e))+u.top],seriesIndex:t.series,pointIndex:e,event:d3.event,element:this})}).on("dblclick",function(t,e){if(X||!j[t.series])return 0;var n=j[t.series],r=n.values[e];V.elementDblClick({point:r,series:n,pos:[v(x(r,e))+u.left,m(b(r,e))+u.top],relativePos:[v(x(r,e))+u.left,m(b(r,e))+u.top],seriesIndex:t.series,pointIndex:e})}).on("mouseover",function(t,e){if(X||!j[t.series])return 0;var n=j[t.series],r=n.values[e];V.elementMouseover({point:r,series:n,pos:[v(x(r,e))+u.left,m(b(r,e))+u.top],relativePos:[v(x(r,e))+u.left,m(b(r,e))+u.top],seriesIndex:t.series,pointIndex:e,color:f(t,e)})}).on("mouseout",function(t,e){if(X||!j[t.series])return 0;var n=j[t.series],r=n.values[e];V.elementMouseout({point:r,series:n,pos:[v(x(r,e))+u.left,m(b(r,e))+u.top],relativePos:[v(x(r,e))+u.left,m(b(r,e))+u.top],seriesIndex:t.series,pointIndex:e,color:f(t,e)})})}at.classed("nv-single-point",B),ut.append("g").attr("class","nv-groups"),ut.append("g").attr("class","nv-point-paths"),st.append("g").attr("class","nv-point-clips"),at.attr("transform","translate("+u.left+","+u.top+")"),lt.append("clipPath").attr("id","nv-edge-clip-"+p).append("rect").attr("transform","translate( -10, -10)"),at.select("#nv-edge-clip-"+p+" rect").attr("width",Z+20).attr("height",Q>0?Q+20:0),ct.attr("clip-path",E?"url(#nv-edge-clip-"+p+")":""),X=!0;var ft=at.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});ft.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),ft.exit().remove(),ft.attr("class",function(t,e){return(t.classed||"")+" nv-group nv-series-"+e}).classed("nv-noninteractive",!S).classed("hover",function(t){return t.hover}),ft.watchTransition(U,"scatter: groups").style("fill",function(t,e){return f(t,e)}).style("stroke",function(t,e){return t.pointBorderColor||h||f(t,e)}).style("stroke-opacity",1).style("fill-opacity",.5);var ht=ft.selectAll("path.nv-point").data(function(t){return t.values.map(function(t,e){return[t,e]}).filter(function(t,e){return _(t[0],e)})});if(ht.enter().append("path").attr("class",function(t){return"nv-point nv-point-"+t[1]}).style("fill",function(t){return t.color}).style("stroke",function(t){return t.color}).attr("transform",function(n){return"translate("+r.utils.NaNtoZero(t(x(n[0],n[1])))+","+r.utils.NaNtoZero(e(b(n[0],n[1])))+")"}).attr("d",r.utils.symbol().type(function(t){return M(t[0])}).size(function(t){return y(k(t[0],t[1]))})),ht.exit().each(K).remove(),ft.exit().selectAll("path.nv-point").watchTransition(U,"scatter exit").attr("transform",function(t){return"translate("+r.utils.NaNtoZero(v(x(t[0],t[1])))+","+r.utils.NaNtoZero(m(b(t[0],t[1])))+")"}).remove(),ht.filter(function(t){return J(t,"x",x,"y",b)||rt||it||ot}).watchTransition(U,"scatter points").attr("transform",function(t){return"translate("+r.utils.NaNtoZero(v(x(t[0],t[1])))+","+r.utils.NaNtoZero(m(b(t[0],t[1])))+")"}),ht.filter(function(t){return J(t,"shape",M,"size",k)||rt||it||ot}).watchTransition(U,"scatter points").attr("d",r.utils.symbol().type(function(t){return M(t[0])}).size(function(t){return y(k(t[0],t[1]))})),Y){var pt=ft.selectAll(".nv-label").data(function(t){return t.values.map(function(t,e){return[t,e]}).filter(function(t,e){return _(t[0],e)})});pt.enter().append("text").style("fill",function(t,e){return t.color}).style("stroke-opacity",0).style("fill-opacity",1).attr("transform",function(n){return"translate("+(r.utils.NaNtoZero(t(x(n[0],n[1])))+Math.sqrt(y(k(n[0],n[1]))/Math.PI)+2)+","+r.utils.NaNtoZero(e(b(n[0],n[1])))+")"}).text(function(t,e){return t[0].label}),pt.exit().remove(),ft.exit().selectAll("path.nv-label").watchTransition(U,"scatter exit").attr("transform",function(t){return"translate("+(r.utils.NaNtoZero(v(x(t[0],t[1])))+Math.sqrt(y(k(t[0],t[1]))/Math.PI)+2)+","+r.utils.NaNtoZero(m(b(t[0],t[1])))+")"}).remove(),pt.each(function(t){d3.select(this).classed("nv-label",!0).classed("nv-label-"+t[1],!1).classed("hover",!1)}),pt.watchTransition(U,"scatter labels").attr("transform",function(t){return"translate("+(r.utils.NaNtoZero(v(x(t[0],t[1])))+Math.sqrt(y(k(t[0],t[1]))/Math.PI)+2)+","+r.utils.NaNtoZero(m(b(t[0],t[1])))+")"})}q?(clearTimeout(l),l=setTimeout(dt,q)):dt(),t=v.copy(),e=m.copy(),n=y.copy(),a=c,s=d}),U.renderEnd("scatter immediate"),$}return $.dispatch=V,$.options=r.utils.optionsFunc.bind($),$._calls=new function(){this.clearHighlights=function(){return r.dom.write(function(){g.selectAll(".nv-point.hover").classed("hover",!1)}),null},this.highlightPoint=function(t,e,n){r.dom.write(function(){g.select(".nv-groups").selectAll(".nv-series-"+t).selectAll(".nv-point-"+e).classed("hover",n)})}},V.on("elementMouseover.point",function(t){S&&$._calls.highlightPoint(t.seriesIndex,t.pointIndex,!0)}),V.on("elementMouseout.point",function(t){S&&$._calls.highlightPoint(t.seriesIndex,t.pointIndex,!1)}),$._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return d},set:function(t){d=t}},xScale:{get:function(){return v},set:function(t){v=t}},yScale:{get:function(){return m},set:function(t){m=t}},pointScale:{get:function(){return y},set:function(t){y=t}},xDomain:{get:function(){return I},set:function(t){I=t}},yDomain:{get:function(){return O},set:function(t){O=t}},pointDomain:{get:function(){return z},set:function(t){z=t}},xRange:{get:function(){return L},set:function(t){L=t}},yRange:{get:function(){return W},set:function(t){W=t}},pointRange:{get:function(){return R},set:function(t){R=t}},forceX:{get:function(){return w},set:function(t){w=t}},forceY:{get:function(){return C},set:function(t){C=t}},forcePoint:{get:function(){return A},set:function(t){A=t}},interactive:{get:function(){return S},set:function(t){S=t}},pointActive:{get:function(){return _},set:function(t){_=t}},padDataOuter:{get:function(){return F},set:function(t){F=t}},padData:{get:function(){return D},set:function(t){D=t}},clipEdge:{get:function(){return E},set:function(t){E=t}},clipVoronoi:{get:function(){return N},set:function(t){N=t}},clipRadius:{get:function(){return T},set:function(t){T=t}},showVoronoi:{get:function(){return P},set:function(t){P=t}},id:{get:function(){return p},set:function(t){p=t}},interactiveUpdateDelay:{get:function(){return q},set:function(t){q=t}},showLabels:{get:function(){return Y},set:function(t){Y=t}},pointBorderColor:{get:function(){return h},set:function(t){h=t}},x:{get:function(){return x},set:function(t){x=d3.functor(t)}},y:{get:function(){return b},set:function(t){b=d3.functor(t)}},pointSize:{get:function(){return k},set:function(t){k=d3.functor(t)}},pointShape:{get:function(){return M},set:function(t){M=d3.functor(t)}},margin:{get:function(){return u},set:function(t){u.top=void 0!==t.top?t.top:u.top,u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left}},duration:{get:function(){return j},set:function(t){U.reset(j=t)}},color:{get:function(){return f},set:function(t){f=r.utils.getColor(t)}},useVoronoi:{get:function(){return H},set:function(t){!1===(H=t)&&(N=!1)}}}),r.utils.initOptions($),$},r.models.scatterChart=function(){"use strict";var t=r.models.scatter(),e=r.models.axis(),n=r.models.axis(),i=r.models.legend(),o=r.models.distribution(),a=r.models.distribution(),s=r.models.tooltip(),l={top:30,right:20,bottom:50,left:75},u=null,c=null,d=null,f=null,h=r.utils.defaultColor(),p=t.xScale(),g=t.yScale(),v=!1,m=!1,y=!0,x=!0,b=!0,k=!1,M=r.utils.state(),w=null,C=d3.dispatch("stateChange","changeState","renderEnd"),A=null,S=250,_=!1;t.xScale(p).yScale(g),e.orient("bottom").tickPadding(10),n.orient(k?"right":"left").tickPadding(10),o.axis("x"),a.axis("y"),s.headerFormatter(function(t,n){return e.tickFormat()(t,n)}).valueFormatter(function(t,e){return n.tickFormat()(t,e)});var D=r.utils.renderWatch(C,S),F=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},E=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};function N(A){return D.reset(),D.models(t),x&&D.models(e),b&&D.models(n),v&&D.models(o),m&&D.models(a),A.each(function(A){f=d3.select(this),r.utils.initSVG(f);var P,T=r.utils.availableWidth(c,f,l),I=r.utils.availableHeight(d,f,l);if(N.update=function(){0===S?f.call(N):f.transition().duration(S).call(N)},N.container=this,M.setter(E(A),N.update).getter(F(A)).update(),M.disabled=A.map(function(t){return!!t.disabled}),!w)for(P in w={},M)w[P]=M[P]instanceof Array?M[P].slice(0):M[P];if(!(A&&A.length&&A.filter(function(t){return t.values.length}).length))return r.utils.noData(N,f),D.renderEnd("scatter immediate"),N;f.selectAll(".nv-noData").remove(),p=t.xScale(),g=t.yScale();var O=f.selectAll("g.nv-wrap.nv-scatterChart").data([A]),L=O.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+t.id()).append("g"),W=O.select("g");L.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),L.append("g").attr("class","nv-x nv-axis"),L.append("g").attr("class","nv-y nv-axis"),L.append("g").attr("class","nv-scatterWrap"),L.append("g").attr("class","nv-regressionLinesWrap"),L.append("g").attr("class","nv-distWrap"),L.append("g").attr("class","nv-legendWrap"),k&&W.select(".nv-y.nv-axis").attr("transform","translate("+T+",0)"),y?(i.width(T),O.select(".nv-legendWrap").datum(A).call(i),u||i.height()===l.top||(l.top=i.height(),I=r.utils.availableHeight(d,f,l)),O.select(".nv-legendWrap").attr("transform","translate(0,"+-l.top+")")):W.select(".nv-legendWrap").selectAll("*").remove(),O.attr("transform","translate("+l.left+","+l.top+")"),t.width(T).height(I).color(A.map(function(t,e){return t.color=t.color||h(t,e),t.color}).filter(function(t,e){return!A[e].disabled})).showLabels(_),O.select(".nv-scatterWrap").datum(A.filter(function(t){return!t.disabled})).call(t),O.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+t.id()+")");var z=O.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(t){return t});z.enter().append("g").attr("class","nv-regLines");var R=z.selectAll(".nv-regLine").data(function(t){return[t]});R.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),R.filter(function(t){return t.intercept&&t.slope}).watchTransition(D,"scatterPlusLineChart: regline").attr("x1",p.range()[0]).attr("x2",p.range()[1]).attr("y1",function(t,e){return g(p.domain()[0]*t.slope+t.intercept)}).attr("y2",function(t,e){return g(p.domain()[1]*t.slope+t.intercept)}).style("stroke",function(t,e,n){return h(t,n)}).style("stroke-opacity",function(t,e){return t.disabled||void 0===t.slope||void 0===t.intercept?0:1}),x&&(e.scale(p)._ticks(r.utils.calcTicksX(T/100,A)).tickSize(-I,0),W.select(".nv-x.nv-axis").attr("transform","translate(0,"+g.range()[0]+")").call(e)),b&&(n.scale(g)._ticks(r.utils.calcTicksY(I/36,A)).tickSize(-T,0),W.select(".nv-y.nv-axis").call(n)),v&&(o.getData(t.x()).scale(p).width(T).color(A.map(function(t,e){return t.color||h(t,e)}).filter(function(t,e){return!A[e].disabled})),L.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),W.select(".nv-distributionX").attr("transform","translate(0,"+g.range()[0]+")").datum(A.filter(function(t){return!t.disabled})).call(o)),m&&(a.getData(t.y()).scale(g).width(I).color(A.map(function(t,e){return t.color||h(t,e)}).filter(function(t,e){return!A[e].disabled})),L.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),W.select(".nv-distributionY").attr("transform","translate("+(k?T:-a.size())+",0)").datum(A.filter(function(t){return!t.disabled})).call(a)),i.dispatch.on("stateChange",function(t){for(var e in t)M[e]=t[e];C.stateChange(M),N.update()}),C.on("changeState",function(t){void 0!==t.disabled&&(A.forEach(function(e,n){e.disabled=t.disabled[n]}),M.disabled=t.disabled),N.update()}),t.dispatch.on("elementMouseout.tooltip",function(e){s.hidden(!0),f.select(".nv-chart-"+t.id()+" .nv-series-"+e.seriesIndex+" .nv-distx-"+e.pointIndex).attr("y1",0),f.select(".nv-chart-"+t.id()+" .nv-series-"+e.seriesIndex+" .nv-disty-"+e.pointIndex).attr("x2",a.size())}),t.dispatch.on("elementMouseover.tooltip",function(t){f.select(".nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.relativePos[1]-I),f.select(".nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.relativePos[0]+o.size()),s.data(t).hidden(!1)}),p.copy(),g.copy()}),D.renderEnd("scatter with line immediate"),N}return N.dispatch=C,N.scatter=t,N.legend=i,N.xAxis=e,N.yAxis=n,N.distX=o,N.distY=a,N.tooltip=s,N.options=r.utils.optionsFunc.bind(N),N._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return d},set:function(t){d=t}},container:{get:function(){return f},set:function(t){f=t}},showDistX:{get:function(){return v},set:function(t){v=t}},showDistY:{get:function(){return m},set:function(t){m=t}},showLegend:{get:function(){return y},set:function(t){y=t}},showXAxis:{get:function(){return x},set:function(t){x=t}},showYAxis:{get:function(){return b},set:function(t){b=t}},defaultState:{get:function(){return w},set:function(t){w=t}},noData:{get:function(){return A},set:function(t){A=t}},duration:{get:function(){return S},set:function(t){S=t}},showLabels:{get:function(){return _},set:function(t){_=t}},margin:{get:function(){return l},set:function(t){void 0!==t.top&&(l.top=t.top,u=t.top),l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},rightAlignYAxis:{get:function(){return k},set:function(t){k=t,n.orient(t?"right":"left")}},color:{get:function(){return h},set:function(t){h=r.utils.getColor(t),i.color(h),o.color(h),a.color(h)}}}),r.utils.inheritOptions(N,t),r.utils.initOptions(N),N},r.models.sparkline=function(){"use strict";var t,e,n,i,o={top:2,right:0,bottom:2,left:0},a=400,s=32,l=null,u=!0,c=d3.scale.linear(),d=d3.scale.linear(),f=function(t){return t.x},h=function(t){return t.y},p=r.utils.getColor(["#000"]),g=!0,v=!0,m=d3.dispatch("renderEnd"),y=r.utils.renderWatch(m);function x(u){return y.reset(),u.each(function(u){var m=a-o.left-o.right,y=s-o.top-o.bottom;l=d3.select(this),r.utils.initSVG(l),c.domain(t||d3.extent(u,f)).range(n||[0,m]),d.domain(e||d3.extent(u,h)).range(i||[y,0]);var x=l.selectAll("g.nv-wrap.nv-sparkline").data([u]);x.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline").append("g"),x.select("g"),x.attr("transform","translate("+o.left+","+o.top+")");var b=x.selectAll("path").data(function(t){return[t]});b.enter().append("path"),b.exit().remove(),b.style("stroke",function(t,e){return t.color||p(t,e)}).attr("d",d3.svg.line().x(function(t,e){return c(f(t,e))}).y(function(t,e){return d(h(t,e))}));var k=x.selectAll("circle.nv-point").data(function(t){var e=t.map(function(t,e){return h(t,e)});function n(e){if(-1!=e){var n=t[e];return n.pointIndex=e,n}return null}var r=n(e.lastIndexOf(d.domain()[1])),i=n(e.indexOf(d.domain()[0])),o=n(e.length-1);return[g?i:null,g?r:null,v?o:null].filter(function(t){return null!=t})});k.enter().append("circle"),k.exit().remove(),k.attr("cx",function(t,e){return c(f(t,t.pointIndex))}).attr("cy",function(t,e){return d(h(t,t.pointIndex))}).attr("r",2).attr("class",function(t,e){return f(t,t.pointIndex)==c.domain()[1]?"nv-point nv-currentValue":h(t,t.pointIndex)==d.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),y.renderEnd("sparkline immediate"),x}return x.options=r.utils.optionsFunc.bind(x),x._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return s},set:function(t){s=t}},xDomain:{get:function(){return t},set:function(e){t=e}},yDomain:{get:function(){return e},set:function(t){e=t}},xRange:{get:function(){return n},set:function(t){n=t}},yRange:{get:function(){return i},set:function(t){i=t}},xScale:{get:function(){return c},set:function(t){c=t}},yScale:{get:function(){return d},set:function(t){d=t}},animate:{get:function(){return u},set:function(t){u=t}},showMinMaxPoints:{get:function(){return g},set:function(t){g=t}},showCurrentPoint:{get:function(){return v},set:function(t){v=t}},x:{get:function(){return f},set:function(t){f=d3.functor(t)}},y:{get:function(){return h},set:function(t){h=d3.functor(t)}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},color:{get:function(){return p},set:function(t){p=r.utils.getColor(t)}}}),x.dispatch=m,r.utils.initOptions(x),x},r.models.sparklinePlus=function(){"use strict";var t,e,n=r.models.sparkline(),i={top:15,right:100,bottom:10,left:50},o=null,a=null,s=[],l=!1,u=d3.format(",r"),c=d3.format(",.2f"),d=!0,f=!0,h=!1,p=null,g=d3.dispatch("renderEnd"),v=r.utils.renderWatch(g);function m(p){return v.reset(),v.models(n),p.each(function(p){var g=d3.select(this);r.utils.initSVG(g);var v=r.utils.availableWidth(o,g,i),y=r.utils.availableHeight(a,g,i);if(m.update=function(){g.call(m)},m.container=this,!p||!p.length)return r.utils.noData(m,g),m;g.selectAll(".nv-noData").remove();var x=n.y()(p[p.length-1],p.length-1);t=n.xScale(),e=n.yScale();var b=g.selectAll("g.nv-wrap.nv-sparklineplus").data([p]),k=b.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus").append("g"),M=b.select("g");k.append("g").attr("class","nv-sparklineWrap"),k.append("g").attr("class","nv-valueWrap"),k.append("g").attr("class","nv-hoverArea"),b.attr("transform","translate("+i.left+","+i.top+")");var w=M.select(".nv-sparklineWrap");if(n.width(v).height(y),w.call(n),d){var C=M.select(".nv-valueWrap").selectAll(".nv-currentValue").data([x]);C.enter().append("text").attr("class","nv-currentValue").attr("dx",h?-8:8).attr("dy",".9em").style("text-anchor",h?"end":"start"),C.attr("x",v+(h?i.right:0)).attr("y",f?function(t){return e(t)}:0).style("fill",n.color()(p[p.length-1],p.length-1)).text(c(x))}function A(){if(!l){var e=M.selectAll(".nv-hoverValue").data(s),r=e.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);e.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),e.attr("transform",function(e){return"translate("+t(n.x()(p[e],e))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),s.length&&(r.append("line").attr("x1",0).attr("y1",-i.top).attr("x2",0).attr("y2",y),r.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-i.top).attr("text-anchor","end").attr("dy",".9em"),M.select(".nv-hoverValue .nv-xValue").text(u(n.x()(p[s[0]],s[0]))),r.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-i.top).attr("text-anchor","start").attr("dy",".9em"),M.select(".nv-hoverValue .nv-yValue").text(c(n.y()(p[s[0]],s[0]))))}}k.select(".nv-hoverArea").append("rect").on("mousemove",function(){if(!l){var e=d3.mouse(this)[0]-i.left;s=[function(t,e){for(var r=Math.abs(n.x()(t[0],0)-e),i=0,o=0;o<t.length;o++)Math.abs(n.x()(t[o],o)-e)<r&&(r=Math.abs(n.x()(t[o],o)-e),i=o);return i}(p,Math.round(t.invert(e)))],A()}}).on("click",function(){l=!l}).on("mouseout",function(){s=[],A()}),M.select(".nv-hoverArea rect").attr("transform",function(t){return"translate("+-i.left+","+-i.top+")"}).attr("width",v+i.left+i.right).attr("height",y+i.top)}),v.renderEnd("sparklinePlus immediate"),m}return m.dispatch=g,m.sparkline=n,m.options=r.utils.optionsFunc.bind(m),m._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return a},set:function(t){a=t}},xTickFormat:{get:function(){return u},set:function(t){u=t}},yTickFormat:{get:function(){return c},set:function(t){c=t}},showLastValue:{get:function(){return d},set:function(t){d=t}},alignValue:{get:function(){return f},set:function(t){f=t}},rightAlignValue:{get:function(){return h},set:function(t){h=t}},noData:{get:function(){return p},set:function(t){p=t}},margin:{get:function(){return i},set:function(t){i.top=void 0!==t.top?t.top:i.top,i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}}}),r.utils.inheritOptions(m,n),r.utils.initOptions(m),m},r.models.stackedArea=function(){"use strict";var t,e,n={top:0,right:0,bottom:0,left:0},i=960,o=500,a=r.utils.defaultColor(),s=Math.floor(1e5*Math.random()),l=null,u=function(t){return t.x},c=function(t){return t.y},d=function(t,e){return!isNaN(c(t,e))&&null!==c(t,e)},f="stack",h="zero",p="default",g="linear",v=!1,m=r.models.scatter(),y=250,x=d3.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");m.pointSize(2.2).pointDomain([2.2,2.2]);var b=r.utils.renderWatch(x,y);function k(f){return b.reset(),b.models(m),f.each(function(f){var y=i-n.left-n.right,M=o-n.top-n.bottom;l=d3.select(this),r.utils.initSVG(l),t=m.xScale(),e=m.yScale();var w=f;f.forEach(function(t,e){t.seriesIndex=e,t.values=t.values.map(function(t,n){return t.index=n,t.seriesIndex=e,t})});var C=f.filter(function(t){return!t.disabled});f=d3.layout.stack().order(p).offset(h).values(function(t){return t.values}).x(u).y(c).out(function(t,e,n){t.display={y:n,y0:e}})(C);var A=l.selectAll("g.nv-wrap.nv-stackedarea").data([f]),S=A.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),_=S.append("defs"),D=S.append("g"),F=A.select("g");D.append("g").attr("class","nv-areaWrap"),D.append("g").attr("class","nv-scatterWrap"),A.attr("transform","translate("+n.left+","+n.top+")"),0==m.forceY().length&&m.forceY().push(0),m.width(y).height(M).x(u).y(function(t){if(void 0!==t.display)return t.display.y+t.display.y0}).color(f.map(function(t,e){return t.color=t.color||a(t,t.seriesIndex),t.color})),F.select(".nv-scatterWrap").datum(f).call(m),_.append("clipPath").attr("id","nv-edge-clip-"+s).append("rect"),A.select("#nv-edge-clip-"+s+" rect").attr("width",y).attr("height",M),F.attr("clip-path",v?"url(#nv-edge-clip-"+s+")":"");var E=d3.svg.area().defined(d).x(function(e,n){return t(u(e,n))}).y0(function(t){return e(t.display.y0)}).y1(function(t){return e(t.display.y+t.display.y0)}).interpolate(g),N=d3.svg.area().defined(d).x(function(e,n){return t(u(e,n))}).y0(function(t){return e(t.display.y0)}).y1(function(t){return e(t.display.y0)}),P=F.select(".nv-areaWrap").selectAll("path.nv-area").data(function(t){return t});P.enter().append("path").attr("class",function(t,e){return"nv-area nv-area-"+e}).attr("d",function(t,e){return N(t.values,t.seriesIndex)}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),x.areaMouseover({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),x.areaMouseout({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("click",function(t,e){d3.select(this).classed("hover",!1),x.areaClick({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}),P.exit().remove(),P.style("fill",function(t,e){return t.color||a(t,t.seriesIndex)}).style("stroke",function(t,e){return t.color||a(t,t.seriesIndex)}),P.watchTransition(b,"stackedArea path").attr("d",function(t,e){return E(t.values,e)}),m.dispatch.on("elementMouseover.area",function(t){F.select(".nv-chart-"+s+" .nv-area-"+t.seriesIndex).classed("hover",!0)}),m.dispatch.on("elementMouseout.area",function(t){F.select(".nv-chart-"+s+" .nv-area-"+t.seriesIndex).classed("hover",!1)}),k.d3_stackedOffset_stackPercent=function(t){var e,n,r,i=t.length,o=t[0].length,a=[];for(n=0;n<o;++n){for(e=0,r=0;e<w.length;e++)r+=c(w[e].values[n]);if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=0}for(n=0;n<o;++n)a[n]=0;return a}}),b.renderEnd("stackedArea immediate"),k}return k.dispatch=x,k.scatter=m,m.dispatch.on("elementClick",function(){x.elementClick.apply(this,arguments)}),m.dispatch.on("elementMouseover",function(){x.elementMouseover.apply(this,arguments)}),m.dispatch.on("elementMouseout",function(){x.elementMouseout.apply(this,arguments)}),k.interpolate=function(t){return arguments.length?(g=t,k):g},k.duration=function(t){return arguments.length?(b.reset(y=t),m.duration(y),k):y},k.dispatch=x,k.scatter=m,k.options=r.utils.optionsFunc.bind(k),k._options=Object.create({},{width:{get:function(){return i},set:function(t){i=t}},height:{get:function(){return o},set:function(t){o=t}},defined:{get:function(){return d},set:function(t){d=t}},clipEdge:{get:function(){return v},set:function(t){v=t}},offset:{get:function(){return h},set:function(t){h=t}},order:{get:function(){return p},set:function(t){p=t}},interpolate:{get:function(){return g},set:function(t){g=t}},x:{get:function(){return u},set:function(t){u=d3.functor(t)}},y:{get:function(){return c},set:function(t){c=d3.functor(t)}},margin:{get:function(){return n},set:function(t){n.top=void 0!==t.top?t.top:n.top,n.right=void 0!==t.right?t.right:n.right,n.bottom=void 0!==t.bottom?t.bottom:n.bottom,n.left=void 0!==t.left?t.left:n.left}},color:{get:function(){return a},set:function(t){a=r.utils.getColor(t)}},style:{get:function(){return f},set:function(t){switch(f=t){case"stack":k.offset("zero"),k.order("default");break;case"stream":k.offset("wiggle"),k.order("inside-out");break;case"stream-center":k.offset("silhouette"),k.order("inside-out");break;case"expand":k.offset("expand"),k.order("default");break;case"stack_percent":k.offset(k.d3_stackedOffset_stackPercent),k.order("default")}}},duration:{get:function(){return y},set:function(t){b.reset(y=t),m.duration(y)}}}),r.utils.inheritOptions(k,m),r.utils.initOptions(k),k},r.models.stackedAreaChart=function(){"use strict";var t,e,n=r.models.stackedArea(),i=r.models.axis(),o=r.models.axis(),a=r.models.legend(),s=r.models.legend(),l=r.interactiveGuideline(),u=r.models.tooltip(),c=r.models.focus(r.models.stackedArea()),d={top:10,right:25,bottom:50,left:60},f=null,h=null,p=null,g=r.utils.defaultColor(),v=!0,m=!0,y="top",x=!0,b=!0,k=!1,M=!1,w=!1,C=!0,A="TOTAL",S=r.utils.state(),_=null,D=null,F=d3.dispatch("stateChange","changeState","renderEnd"),E=250,N=["Stacked","Stream","Expanded"],P={},T=250;S.style=n.style(),i.orient("bottom").tickPadding(7),o.orient(k?"right":"left"),u.headerFormatter(function(t,e){return i.tickFormat()(t,e)}).valueFormatter(function(t,e){return o.tickFormat()(t,e)}),l.tooltip.headerFormatter(function(t,e){return i.tickFormat()(t,e)}).valueFormatter(function(t,e){return null==t?"N/A":o.tickFormat()(t,e)});var I=null,O=null;s.updateState(!1);var L=r.utils.renderWatch(F),W=(n.style(),function(t){return function(){return{active:t.map(function(t){return!t.disabled}),style:n.style()}}}),z=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}},R=d3.format("%");function B(u){return L.reset(),L.models(n),x&&L.models(i),b&&L.models(o),u.each(function(u){var D=d3.select(this);r.utils.initSVG(D);var L,V=r.utils.availableWidth(h,D,d),H=r.utils.availableHeight(p,D,d)-(M?c.height():0);if(B.update=function(){D.transition().duration(T).call(B)},B.container=this,S.setter(z(u),B.update).getter(W(u)).update(),S.disabled=u.map(function(t){return!!t.disabled}),!_)for(L in _={},S)_[L]=S[L]instanceof Array?S[L].slice(0):S[L];if(!(u&&u.length&&u.filter(function(t){return t.values.length}).length))return r.utils.noData(B,D),B;D.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale();var j=D.selectAll("g.nv-wrap.nv-stackedAreaChart").data([u]),q=j.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),Y=j.select("g");q.append("g").attr("class","nv-legendWrap"),q.append("g").attr("class","nv-controlsWrap");var X=q.append("g").attr("class","nv-focus");if(X.append("g").attr("class","nv-background").append("rect"),X.append("g").attr("class","nv-x nv-axis"),X.append("g").attr("class","nv-y nv-axis"),X.append("g").attr("class","nv-stackedWrap"),X.append("g").attr("class","nv-interactive"),q.append("g").attr("class","nv-focusWrap"),m){var U=v&&"top"===y?V-E:V;if(a.width(U),Y.select(".nv-legendWrap").datum(u).call(a),"bottom"===y){var G=10+(x?12:0);d.bottom=Math.max(a.height()+G,d.bottom);var Z=(H=r.utils.availableHeight(p,D,d)-(M?c.height():0))+G;Y.select(".nv-legendWrap").attr("transform","translate(0,"+Z+")")}else"top"===y&&(f||d.top==a.height()||(d.top=a.height(),H=r.utils.availableHeight(p,D,d)-(M?c.height():0)),Y.select(".nv-legendWrap").attr("transform","translate("+(V-U)+","+-d.top+")"))}else Y.select(".nv-legendWrap").selectAll("*").remove();if(v){var K=[{key:P.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=n.style(),style:"stack"},{key:P.stream||"Stream",metaKey:"Stream",disabled:"stream"!=n.style(),style:"stream"},{key:P.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=n.style(),style:"expand"},{key:P.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=n.style(),style:"stack_percent"}];E=N.length/3*260,K=K.filter(function(t){return-1!==N.indexOf(t.metaKey)}),s.width(E).color(["#444","#444","#444"]),Y.select(".nv-controlsWrap").datum(K).call(s);var J=Math.max(s.height(),m&&"top"===y?a.height():0);d.top!=J&&(d.top=J,H=r.utils.availableHeight(p,D,d)-(M?c.height():0)),Y.select(".nv-controlsWrap").attr("transform","translate(0,"+-d.top+")")}else Y.select(".nv-controlsWrap").selectAll("*").remove();j.attr("transform","translate("+d.left+","+d.top+")"),k&&Y.select(".nv-y.nv-axis").attr("transform","translate("+V+",0)"),w&&(l.width(V).height(H).margin({left:d.left,top:d.top}).svgContainer(D).xScale(t),j.select(".nv-interactive").call(l)),Y.select(".nv-focus .nv-background rect").attr("width",V).attr("height",H),n.width(V).height(H).color(u.map(function(t,e){return t.color||g(t,e)}).filter(function(t,e){return!u[e].disabled}));var $,Q=Y.select(".nv-focus .nv-stackedWrap").datum(u.filter(function(t){return!t.disabled}));function tt(){x&&Y.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+H+")").transition().duration(T).call(i)}function et(){if(b){if("expand"===n.style()||"stack_percent"===n.style()){var t=o.tickFormat();I&&t===R||(I=t),o.tickFormat(R)}else I&&(o.tickFormat(I),I=null);Y.select(".nv-focus .nv-y.nv-axis").transition().duration(0).call(o)}}if(x&&i.scale(t)._ticks(r.utils.calcTicksX(V/100,u)).tickSize(-H,0),b&&($="wiggle"===n.offset()?0:r.utils.calcTicksY(H/36,u),o.scale(e)._ticks($).tickSize(-V,0)),M){c.width(V),Y.select(".nv-focusWrap").attr("transform","translate(0,"+(H+d.bottom+c.margin().top)+")").datum(u.filter(function(t){return!t.disabled})).call(c);var nt=c.brush.empty()?c.xDomain():c.brush.extent();null!==nt&&rt(nt)}else Q.transition().call(n),tt(),et();function rt(t){Y.select(".nv-focus .nv-stackedWrap").datum(u.filter(function(t){return!t.disabled}).map(function(e,r){return{key:e.key,area:e.area,classed:e.classed,values:e.values.filter(function(e,r){return n.x()(e,r)>=t[0]&&n.x()(e,r)<=t[1]}),disableTooltip:e.disableTooltip}})).transition().duration(T).call(n),tt(),et()}n.dispatch.on("areaClick.toggle",function(t){1===u.filter(function(t){return!t.disabled}).length?u.forEach(function(t){t.disabled=!1}):u.forEach(function(e,n){e.disabled=n!=t.seriesIndex}),S.disabled=u.map(function(t){return!!t.disabled}),F.stateChange(S),B.update()}),a.dispatch.on("stateChange",function(t){for(var e in t)S[e]=t[e];F.stateChange(S),B.update()}),s.dispatch.on("legendClick",function(t,e){t.disabled&&(K=K.map(function(t){return t.disabled=!0,t}),t.disabled=!1,n.style(t.style),S.style=n.style(),F.stateChange(S),B.update())}),l.dispatch.on("elementMousemove",function(t){n.clearHighlights();var e,i,o,a=[],s=0,c=!0,d=!1;if(u.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(l,f){i=r.interactiveBisect(l.values,t.pointXValue,B.x());var h=l.values[i],p=B.y()(h,i);if(null!=p&&p>0&&(n.highlightPoint(f,i,!0),d=!0),f!==u.length-1||d||n.highlightPoint(f,i,!0),void 0!==h){void 0===e&&(e=h),void 0===o&&(o=B.xScale()(B.x()(h,i)));var v="expand"==n.style()?h.display.y:B.y()(h,i);a.push({key:l.key,value:v,color:g(l,l.seriesIndex),point:h}),C&&"expand"!=n.style()&&null!=v&&(s+=v,c=!1)}}),a.reverse(),a.length>2){var f=B.yScale().invert(t.mouseY),h=null;a.forEach(function(t,e){f=Math.abs(f);var n=Math.abs(t.point.display.y0),r=Math.abs(t.point.display.y);f>=n&&f<=r+n&&(h=e)}),null!=h&&(a[h].highlight=!0)}C&&"expand"!=n.style()&&a.length>=2&&!c&&a.push({key:A,value:s,total:!0});var p=B.x()(e,i),v=l.tooltip.valueFormatter();"expand"===n.style()||"stack_percent"===n.style()?(O||(O=v),v=d3.format(".1%")):O&&(v=O,O=null),l.tooltip.valueFormatter(v).data({value:p,series:a})(),l.renderGuideLine(o)}),l.dispatch.on("elementMouseout",function(t){n.clearHighlights()}),c.dispatch.on("onBrush",function(t){rt(t)}),F.on("changeState",function(t){void 0!==t.disabled&&u.length===t.disabled.length&&(u.forEach(function(e,n){e.disabled=t.disabled[n]}),S.disabled=t.disabled),void 0!==t.style&&n.style(t.style),B.update()})}),L.renderEnd("stacked Area chart immediate"),B}return n.dispatch.on("elementMouseover.tooltip",function(t){t.point.x=n.x()(t.point),t.point.y=n.y()(t.point),u.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){u.hidden(!0)}),B.dispatch=F,B.stacked=n,B.legend=a,B.controls=s,B.xAxis=i,B.x2Axis=c.xAxis,B.yAxis=o,B.y2Axis=c.yAxis,B.interactiveLayer=l,B.tooltip=u,B.focus=c,B.dispatch=F,B.options=r.utils.optionsFunc.bind(B),B._options=Object.create({},{width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return p},set:function(t){p=t}},showLegend:{get:function(){return m},set:function(t){m=t}},legendPosition:{get:function(){return y},set:function(t){y=t}},showXAxis:{get:function(){return x},set:function(t){x=t}},showYAxis:{get:function(){return b},set:function(t){b=t}},defaultState:{get:function(){return _},set:function(t){_=t}},noData:{get:function(){return D},set:function(t){D=t}},showControls:{get:function(){return v},set:function(t){v=t}},controlLabels:{get:function(){return P},set:function(t){P=t}},controlOptions:{get:function(){return N},set:function(t){N=t}},showTotalInTooltip:{get:function(){return C},set:function(t){C=t}},totalLabel:{get:function(){return A},set:function(t){A=t}},focusEnable:{get:function(){return M},set:function(t){M=t}},focusHeight:{get:function(){return c.height()},set:function(t){c.height(t)}},brushExtent:{get:function(){return c.brushExtent()},set:function(t){c.brushExtent(t)}},margin:{get:function(){return d},set:function(t){void 0!==t.top&&(d.top=t.top,f=t.top),d.right=void 0!==t.right?t.right:d.right,d.bottom=void 0!==t.bottom?t.bottom:d.bottom,d.left=void 0!==t.left?t.left:d.left}},focusMargin:{get:function(){return c.margin},set:function(t){c.margin.top=void 0!==t.top?t.top:c.margin.top,c.margin.right=void 0!==t.right?t.right:c.margin.right,c.margin.bottom=void 0!==t.bottom?t.bottom:c.margin.bottom,c.margin.left=void 0!==t.left?t.left:c.margin.left}},duration:{get:function(){return T},set:function(t){L.reset(T=t),n.duration(T),i.duration(T),o.duration(T)}},color:{get:function(){return g},set:function(t){g=r.utils.getColor(t),a.color(g),n.color(g),c.color(g)}},x:{get:function(){return n.x()},set:function(t){n.x(t),c.x(t)}},y:{get:function(){return n.y()},set:function(t){n.y(t),c.y(t)}},rightAlignYAxis:{get:function(){return k},set:function(t){o.orient((k=t)?"right":"left")}},useInteractiveGuideline:{get:function(){return w},set:function(t){w=!!t,B.interactive(!t),B.useVoronoi(!t),n.scatter.interactive(!t)}}}),r.utils.inheritOptions(B,n),r.utils.initOptions(B),B},r.models.stackedAreaWithFocusChart=function(){return r.models.stackedAreaChart().margin({bottom:30}).focusEnable(!0)},r.models.sunburst=function(){"use strict";var t,e,n,i,o={top:0,right:0,bottom:0,left:0},a=600,s=600,l="count",u={count:function(t){return 1},value:function(t){return t.value||t.size},size:function(t){return t.value||t.size}},c=Math.floor(1e4*Math.random()),d=null,f=r.utils.defaultColor(),h=!1,p=function(t){return"count"===l?t.name+" #"+t.value:t.name+" "+(t.value||t.size)},g=.02,v=function(t,e){return t.name>e.name},m=function(t,e){return void 0!==t.parent?t.name+"-"+t.parent.name+"-"+e:t.name},y=!0,x=500,b=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),k=d3.scale.linear().range([0,2*Math.PI]),M=d3.scale.sqrt(),w=d3.layout.partition().sort(v),C={},A=d3.svg.arc().startAngle(function(t){return Math.max(0,Math.min(2*Math.PI,k(t.x)))}).endAngle(function(t){return Math.max(0,Math.min(2*Math.PI,k(t.x+t.dx)))}).innerRadius(function(t){return Math.max(0,M(t.y))}).outerRadius(function(t){return Math.max(0,M(t.y+t.dy))});function S(t){return _(t)>90?180:0}function _(t){return(Math.max(0,Math.min(2*Math.PI,k(t.x)))+Math.max(0,Math.min(2*Math.PI,k(t.x+t.dx))))/2*(180/Math.PI)-90}function D(t){var e=Math.max(0,Math.min(2*Math.PI,k(t.x)));return Math.max(0,Math.min(2*Math.PI,k(t.x+t.dx)))-e>g}function F(e,n){var r=d3.interpolate(k.domain(),[t.x,t.x+t.dx]),o=d3.interpolate(M.domain(),[t.y,1]),a=d3.interpolate(M.range(),[t.y?20:0,i]);return 0===n?function(){return A(e)}:function(t){return k.domain(r(t)),M.domain(o(t)).range(a(t)),A(e)}}function E(t){var e=d3.interpolate({x:t.x0,dx:t.dx0,y:t.y0,dy:t.dy0},t);return function(n){var r=e(n);return t.x0=r.x,t.dx0=r.dx,t.y0=r.y,t.dy0=r.dy,A(r)}}function N(e){var n=d.selectAll("text"),r=d.selectAll("path");n.transition().attr("opacity",0),t=e,r.transition().duration(x).attrTween("d",F).each("end",function(t){t.x>=e.x&&t.x<e.x+e.dx&&t.depth>=e.depth&&d3.select(this.parentNode).select("text").transition().duration(x).text(function(t){return p(t)}).attr("opacity",function(t){return D(t)?1:0}).attr("transform",function(){var n=this.getBBox().width;if(0===t.depth)return"translate("+n/2*-1+",0)";if(t.depth===e.depth)return"translate("+(M(t.y)+5)+",0)";var r=_(t),i=S(t);return 0===i?"rotate("+r+")translate("+(M(t.y)+5)+",0)":"rotate("+r+")translate("+(M(t.y)+n+5)+",0)rotate("+i+")"})})}var P=r.utils.renderWatch(b);function T(t){return P.reset(),t.each(function(t){d=d3.select(this),e=r.utils.availableWidth(a,d,o),n=r.utils.availableHeight(s,d,o),i=Math.min(e,n)/2,M.range([0,i]);var g=d.select("g.nvd3.nv-wrap.nv-sunburst");g[0][0]?g.attr("transform","translate("+(e/2+o.left+o.right)+","+(n/2+o.top+o.bottom)+")"):g=d.append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+c).attr("transform","translate("+(e/2+o.left+o.right)+","+(n/2+o.top+o.bottom)+")"),d.on("click",function(t,e){b.chartClick({data:t,index:e,pos:d3.event,id:c})}),w.value(u[l]||u.count);var v=w.nodes(t[0]).reverse();!function(t){t.forEach(function(t){var e=m(t),n=C[e];n?(t.dx0=n.dx,t.x0=n.x,t.dy0=n.dy,t.y0=n.y):(t.dx0=t.dx,t.x0=t.x,t.dy0=t.dy,t.y0=t.y),function(t){var e=m(t);C[e]||(C[e]={});var n=C[e];n.dx=t.dx,n.x=t.x,n.dy=t.dy,n.y=t.y}(t)})}(v);var F=g.selectAll(".arc-container").data(v,m);F.enter().append("g").attr("class","arc-container").append("path").attr("d",A).style("fill",function(t){return t.color?t.color:f(y?(t.children?t:t.parent).name:t.name)}).style("stroke","#FFF").on("click",function(t,e){N(t),b.elementClick({data:t,index:e})}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0).style("opacity",.8),b.elementMouseover({data:t,color:d3.select(this).style("fill"),percent:function(t){var e=Math.max(0,Math.min(2*Math.PI,k(t.x)));return(Math.max(0,Math.min(2*Math.PI,k(t.x+t.dx)))-e)/(2*Math.PI)}(t)})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1).style("opacity",1),b.elementMouseout({data:t})}).on("mousemove",function(t,e){b.elementMousemove({data:t})}),F.each(function(t){d3.select(this).select("path").transition().duration(x).attrTween("d",E)}),h&&(F.selectAll("text").remove(),F.append("text").text(function(t){return p(t)}).transition().duration(x).attr("opacity",function(t){return D(t)?1:0}).attr("transform",function(t){var e=this.getBBox().width;if(0===t.depth)return"rotate(0)translate("+e/2*-1+",0)";var n=_(t),r=S(t);return 0===r?"rotate("+n+")translate("+(M(t.y)+5)+",0)":"rotate("+n+")translate("+(M(t.y)+e+5)+",0)rotate("+r+")"})),N(v[v.length-1]),F.exit().transition().duration(x).attr("opacity",0).each("end",function(t){var e=m(t);C[e]=void 0}).remove()}),P.renderEnd("sunburst immediate"),T}return T.dispatch=b,T.options=r.utils.optionsFunc.bind(T),T._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return s},set:function(t){s=t}},mode:{get:function(){return l},set:function(t){l=t}},id:{get:function(){return c},set:function(t){c=t}},duration:{get:function(){return x},set:function(t){x=t}},groupColorByParent:{get:function(){return y},set:function(t){y=!!t}},showLabels:{get:function(){return h},set:function(t){h=!!t}},labelFormat:{get:function(){return p},set:function(t){p=t}},labelThreshold:{get:function(){return g},set:function(t){g=t}},sort:{get:function(){return v},set:function(t){v=t}},key:{get:function(){return m},set:function(t){m=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!=t.top?t.top:o.top,o.right=void 0!=t.right?t.right:o.right,o.bottom=void 0!=t.bottom?t.bottom:o.bottom,o.left=void 0!=t.left?t.left:o.left}},color:{get:function(){return f},set:function(t){f=r.utils.getColor(t)}}}),r.utils.initOptions(T),T},r.models.sunburstChart=function(){"use strict";var t=r.models.sunburst(),e=r.models.tooltip(),n={top:30,right:20,bottom:20,left:20},i=null,o=null,a=r.utils.defaultColor(),s=!1,l=(Math.round(1e5*Math.random()),null),u=null,c=250,d=d3.dispatch("stateChange","changeState","renderEnd"),f=r.utils.renderWatch(d);function h(e){return f.reset(),f.models(t),e.each(function(e){var a=d3.select(this);r.utils.initSVG(a);var s=r.utils.availableWidth(i,a,n),l=r.utils.availableHeight(o,a,n);if(h.update=function(){0===c?a.call(h):a.transition().duration(c).call(h)},h.container=a,!e||!e.length)return r.utils.noData(h,a),h;a.selectAll(".nv-noData").remove(),t.width(s).height(l).margin(n),a.call(t)}),f.renderEnd("sunburstChart immediate"),h}return e.duration(0).headerEnabled(!1).valueFormatter(function(t){return t}),t.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:t.data.name,value:t.data.value||t.data.size,color:t.color,percent:t.percent},s||(delete t.percent,delete t.series.percent),e.data(t).hidden(!1)}),t.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),t.dispatch.on("elementMousemove.tooltip",function(t){e()}),h.dispatch=d,h.sunburst=t,h.tooltip=e,h.options=r.utils.optionsFunc.bind(h),h._options=Object.create({},{noData:{get:function(){return u},set:function(t){u=t}},defaultState:{get:function(){return l},set:function(t){l=t}},showTooltipPercent:{get:function(){return s},set:function(t){s=t}},color:{get:function(){return a},set:function(e){t.color(a=e)}},duration:{get:function(){return c},set:function(e){f.reset(c=e),t.duration(c)}},margin:{get:function(){return n},set:function(e){n.top=void 0!==e.top?e.top:n.top,n.right=void 0!==e.right?e.right:n.right,n.bottom=void 0!==e.bottom?e.bottom:n.bottom,n.left=void 0!==e.left?e.left:n.left,t.margin(n)}}}),r.utils.inheritOptions(h,t),r.utils.initOptions(h),h},r.version="1.8.6"},S7Ns:function(t,e,n){"use strict";t.exports=function(t){t.Doughnut=function(e,n){return n.type="doughnut",new t(e,n)}}},Sfow:function(t,e,n){"use strict";var r=n("TC34");e=t.exports={clear:function(t){t.ctx.clearRect(0,0,t.width,t.height)},roundedRect:function(t,e,n,r,i,o){if(o){var a=Math.min(o,i/2-1e-7,r/2-1e-7);t.moveTo(e+a,n),t.lineTo(e+r-a,n),t.arcTo(e+r,n,e+r,n+a,a),t.lineTo(e+r,n+i-a),t.arcTo(e+r,n+i,e+r-a,n+i,a),t.lineTo(e+a,n+i),t.arcTo(e,n+i,e,n+i-a,a),t.lineTo(e,n+a),t.arcTo(e,n,e+a,n,a),t.closePath(),t.moveTo(e,n)}else t.rect(e,n,r,i)},drawPoint:function(t,e,n,r,i,o){var a,s,l,u,c,d;if(o=o||0,!e||"object"!=typeof e||"[object HTMLImageElement]"!==(a=e.toString())&&"[object HTMLCanvasElement]"!==a){if(!(isNaN(n)||n<=0)){switch(t.save(),t.translate(r,i),t.rotate(o*Math.PI/180),t.beginPath(),e){default:t.arc(0,0,n,0,2*Math.PI),t.closePath();break;case"triangle":c=(s=3*n/Math.sqrt(3))*Math.sqrt(3)/2,t.moveTo(-s/2,c/3),t.lineTo(s/2,c/3),t.lineTo(0,-2*c/3),t.closePath();break;case"rect":d=1/Math.SQRT2*n,t.rect(-d,-d,2*d,2*d);break;case"rectRounded":var f=n/Math.SQRT2,h=Math.SQRT2*n;this.roundedRect(t,-f,-f,h,h,.425*n);break;case"rectRot":d=1/Math.SQRT2*n,t.moveTo(-d,0),t.lineTo(0,d),t.lineTo(d,0),t.lineTo(0,-d),t.closePath();break;case"cross":t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-n,0),t.lineTo(n,0);break;case"crossRot":l=Math.cos(Math.PI/4)*n,u=Math.sin(Math.PI/4)*n,t.moveTo(-l,-u),t.lineTo(l,u),t.moveTo(-l,u),t.lineTo(l,-u);break;case"star":t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-n,0),t.lineTo(n,0),l=Math.cos(Math.PI/4)*n,u=Math.sin(Math.PI/4)*n,t.moveTo(-l,-u),t.lineTo(l,u),t.moveTo(-l,u),t.lineTo(l,-u);break;case"line":t.moveTo(-n,0),t.lineTo(n,0);break;case"dash":t.moveTo(0,0),t.lineTo(n,0)}t.fill(),t.stroke(),t.restore()}}else t.drawImage(e,r-e.width/2,i-e.height/2,e.width,e.height)},clipArea:function(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()},unclipArea:function(t){t.restore()},lineTo:function(t,e,n,r){if(n.steppedLine)return"after"===n.steppedLine&&!r||"after"!==n.steppedLine&&r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y),void t.lineTo(n.x,n.y);n.tension?t.bezierCurveTo(r?e.controlPointPreviousX:e.controlPointNextX,r?e.controlPointPreviousY:e.controlPointNextY,r?n.controlPointNextX:n.controlPointPreviousX,r?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y):t.lineTo(n.x,n.y)}},r.clear=e.clear,r.drawRoundedRectangle=function(t){t.beginPath(),e.roundedRect.apply(e,arguments)}},T016:function(t,e,n){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},TC34:function(t,e,n){"use strict";var r,i={noop:function(){},uid:(r=0,function(){return r++}),isNullOrUndef:function(t){return null===t||void 0===t},isArray:Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},isObject:function(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)},valueOrDefault:function(t,e){return void 0===t?e:t},valueAtIndexOrDefault:function(t,e,n){return i.valueOrDefault(i.isArray(t)?t[e]:t,n)},callback:function(t,e,n){if(t&&"function"==typeof t.call)return t.apply(n,e)},each:function(t,e,n,r){var o,a,s;if(i.isArray(t))if(a=t.length,r)for(o=a-1;o>=0;o--)e.call(n,t[o],o);else for(o=0;o<a;o++)e.call(n,t[o],o);else if(i.isObject(t))for(a=(s=Object.keys(t)).length,o=0;o<a;o++)e.call(n,t[s[o]],s[o])},arrayEquals:function(t,e){var n,r,o,a;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(a=e[n],(o=t[n])instanceof Array&&a instanceof Array){if(!i.arrayEquals(o,a))return!1}else if(o!==a)return!1;return!0},clone:function(t){if(i.isArray(t))return t.map(i.clone);if(i.isObject(t)){for(var e={},n=Object.keys(t),r=n.length,o=0;o<r;++o)e[n[o]]=i.clone(t[n[o]]);return e}return t},_merger:function(t,e,n,r){var o=e[t],a=n[t];i.isObject(o)&&i.isObject(a)?i.merge(o,a,r):e[t]=i.clone(a)},_mergerIf:function(t,e,n){var r=e[t],o=n[t];i.isObject(r)&&i.isObject(o)?i.mergeIf(r,o):e.hasOwnProperty(t)||(e[t]=i.clone(o))},merge:function(t,e,n){var r,o,a,s,l,u=i.isArray(e)?e:[e],c=u.length;if(!i.isObject(t))return t;for(r=(n=n||{}).merger||i._merger,o=0;o<c;++o)if(i.isObject(e=u[o]))for(l=0,s=(a=Object.keys(e)).length;l<s;++l)r(a[l],t,e,n);return t},mergeIf:function(t,e){return i.merge(t,e,{merger:i._mergerIf})},extend:function(t){for(var e=function(e,n){t[n]=e},n=1,r=arguments.length;n<r;++n)i.each(arguments[n],e);return t},inherits:function(t){var e=this,n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},r=function(){this.constructor=n};return r.prototype=e.prototype,n.prototype=new r,n.extend=i.inherits,t&&i.extend(n.prototype,t),n.__super__=e.prototype,n}};t.exports=i,i.callCallback=i.callback,i.indexOf=function(t,e,n){return Array.prototype.indexOf.call(t,e,n)},i.getValueOrDefault=i.valueOrDefault,i.getValueAtIndexOrDefault=i.valueAtIndexOrDefault},UqmZ:function(t,e,n){"use strict";var r=n("CDJp"),i=n("K2E3"),o=n("RDha"),a=r.global;r._set("global",{elements:{line:{tension:.4,backgroundColor:a.defaultColor,borderWidth:3,borderColor:a.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}}),t.exports=i.extend({draw:function(){var t,e,n,r,i=this._view,s=this._chart.ctx,l=i.spanGaps,u=this._children.slice(),c=a.elements.line,d=-1;for(this._loop&&u.length&&u.push(u[0]),s.save(),s.lineCap=i.borderCapStyle||c.borderCapStyle,s.setLineDash&&s.setLineDash(i.borderDash||c.borderDash),s.lineDashOffset=i.borderDashOffset||c.borderDashOffset,s.lineJoin=i.borderJoinStyle||c.borderJoinStyle,s.lineWidth=i.borderWidth||c.borderWidth,s.strokeStyle=i.borderColor||a.defaultColor,s.beginPath(),d=-1,t=0;t<u.length;++t)e=u[t],n=o.previousItem(u,t),r=e._view,0===t?r.skip||(s.moveTo(r.x,r.y),d=t):(n=-1===d?n:u[d],r.skip||(d!==t-1&&!l||-1===d?s.moveTo(r.x,r.y):o.canvas.lineTo(s,n._view,e._view),d=t));s.stroke(),s.restore()}})},VgNv:function(t,e,n){"use strict";var r=n("CDJp"),i=n("RDha");r._set("global",{plugins:{}}),t.exports={_plugins:[],_cacheId:0,register:function(t){var e=this._plugins;[].concat(t).forEach(function(t){-1===e.indexOf(t)&&e.push(t)}),this._cacheId++},unregister:function(t){var e=this._plugins;[].concat(t).forEach(function(t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(t,e,n){var r,i,o,a,s,l=this.descriptors(t),u=l.length;for(r=0;r<u;++r)if("function"==typeof(s=(o=(i=l[r]).plugin)[e])&&((a=[t].concat(n||[])).push(i.options),!1===s.apply(o,a)))return!1;return!0},descriptors:function(t){var e=t.$plugins||(t.$plugins={});if(e.id===this._cacheId)return e.descriptors;var n=[],o=[],a=t&&t.config||{},s=a.options&&a.options.plugins||{};return this._plugins.concat(a.plugins||[]).forEach(function(t){if(-1===n.indexOf(t)){var e=t.id,a=s[e];!1!==a&&(!0===a&&(a=i.clone(r.global.plugins[e])),n.push(t),o.push({plugin:t,options:a||{}}))}}),e.descriptors=o,e.id=this._cacheId,o},_invalidate:function(t){delete t.$plugins}}},VphZ:function(t,e,n){var r={};"d3"in global&&(r.d3=global.d3),t.exports=n("bljh"),"d3"in r?global.d3=r.d3:delete global.d3},WyAD:function(t,e,n){var r=n("yPMN")();r.helpers=n("RDha"),n("nDWh")(r),r.Animation=n("A5uo"),r.animationService=n("dpnK"),r.defaults=n("CDJp"),r.Element=n("K2E3"),r.elements=n("vvH+"),r.Interaction=n("mlr9"),r.layouts=n("fELs"),r.platform=n("iM7B"),r.plugins=n("VgNv"),r.Scale=n("cdu6"),r.scaleService=n("tjFV"),r.Ticks=n("g8vO"),r.Tooltip=n("x8uC"),n("6rqY")(r),n("KAQS")(r),n("paOr")(r),n("8TtQ")(r),n("YSsK")(r),n("Y4Rb")(r),n("8//i")(r),n("RCHg")(r),n("ZANz")(r),n("bidN")(r),n("XQh+")(r),n("G0Q6")(r),n("5ZZ7")(r),n("aB2c")(r),n("35yf")(r),n("ODdm")(r),n("Qexa")(r),n("S7Ns")(r),n("7O6V")(r),n("qzaf")(r),n("iYGd")(r),n("S3/U")(r);var i=n("jXIB");for(var o in i)i.hasOwnProperty(o)&&r.plugins.register(i[o]);r.platform.initialize(),t.exports=r,"undefined"!=typeof window&&(window.Chart=r),r.Legend=i.legend._element,r.Title=i.title._element,r.pluginService=r.plugins,r.PluginBase=r.Element.extend({}),r.canvasHelpers=r.helpers.canvas,r.layoutService=r.layouts},X8CM:function(t,e,n){"use strict";var r=n("CDJp"),i=n("K2E3"),o=n("RDha");r._set("global",{elements:{arc:{backgroundColor:r.global.defaultColor,borderColor:"#fff",borderWidth:2}}}),t.exports=i.extend({inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2)},inRange:function(t,e){var n=this._view;if(n){for(var r=o.getAngleFromPoint(n,{x:t,y:e}),i=r.angle,a=r.distance,s=n.startAngle,l=n.endAngle;l<s;)l+=2*Math.PI;for(;i>l;)i-=2*Math.PI;for(;i<s;)i+=2*Math.PI;return i>=s&&i<=l&&a>=n.innerRadius&&a<=n.outerRadius}return!1},getCenterPoint:function(){var t=this._view,e=(t.startAngle+t.endAngle)/2,n=(t.innerRadius+t.outerRadius)/2;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},getArea:function(){var t=this._view;return Math.PI*((t.endAngle-t.startAngle)/(2*Math.PI))*(Math.pow(t.outerRadius,2)-Math.pow(t.innerRadius,2))},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,n=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},draw:function(){var t=this._chart.ctx,e=this._view,n=e.startAngle,r=e.endAngle;t.beginPath(),t.arc(e.x,e.y,e.outerRadius,n,r),t.arc(e.x,e.y,e.innerRadius,r,n,!0),t.closePath(),t.strokeStyle=e.borderColor,t.lineWidth=e.borderWidth,t.fillStyle=e.backgroundColor,t.fill(),t.lineJoin="bevel",e.borderWidth&&t.stroke()}})},"XQh+":function(t,e,n){"use strict";var r=n("CDJp"),i=n("vvH+"),o=n("RDha");r._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var n=t.data,r=n.datasets,i=n.labels;if(r.length)for(var o=0;o<r[0].data.length;++o)e.push('<li><span style="background-color:'+r[0].backgroundColor[o]+'"></span>'),i[o]&&e.push(i[o]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map(function(n,r){var i=t.getDatasetMeta(0),a=e.datasets[0],s=i.data[r],l=s&&s.custom||{},u=o.valueAtIndexOrDefault,c=t.options.elements.arc;return{text:n,fillStyle:l.backgroundColor?l.backgroundColor:u(a.backgroundColor,r,c.backgroundColor),strokeStyle:l.borderColor?l.borderColor:u(a.borderColor,r,c.borderColor),lineWidth:l.borderWidth?l.borderWidth:u(a.borderWidth,r,c.borderWidth),hidden:isNaN(a.data[r])||i.data[r].hidden,index:r}}):[]}},onClick:function(t,e){var n,r,i,o=e.index,a=this.chart;for(n=0,r=(a.data.datasets||[]).length;n<r;++n)(i=a.getDatasetMeta(n)).data[o]&&(i.data[o].hidden=!i.data[o].hidden);a.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(t,e){var n=e.labels[t.index],r=": "+e.datasets[t.datasetIndex].data[t.index];return o.isArray(n)?(n=n.slice())[0]+=r:n+=r,n}}}}),r._set("pie",o.clone(r.doughnut)),r._set("pie",{cutoutPercentage:0}),t.exports=function(t){t.controllers.doughnut=t.controllers.pie=t.DatasetController.extend({dataElementType:i.Arc,linkScales:o.noop,getRingIndex:function(t){for(var e=0,n=0;n<t;++n)this.chart.isDatasetVisible(n)&&++e;return e},update:function(t){var e=this,n=e.chart,r=n.chartArea,i=n.options,a=i.elements.arc,s=r.right-r.left-a.borderWidth,l=r.bottom-r.top-a.borderWidth,u=Math.min(s,l),c={x:0,y:0},d=e.getMeta(),f=i.cutoutPercentage,h=i.circumference;if(h<2*Math.PI){var p=i.rotation%(2*Math.PI),g=(p+=2*Math.PI*(p>=Math.PI?-1:p<-Math.PI?1:0))+h,v={x:Math.cos(p),y:Math.sin(p)},m={x:Math.cos(g),y:Math.sin(g)},y=p<=0&&g>=0||p<=2*Math.PI&&2*Math.PI<=g,x=p<=.5*Math.PI&&.5*Math.PI<=g||p<=2.5*Math.PI&&2.5*Math.PI<=g,b=p<=-Math.PI&&-Math.PI<=g||p<=Math.PI&&Math.PI<=g,k=p<=.5*-Math.PI&&.5*-Math.PI<=g||p<=1.5*Math.PI&&1.5*Math.PI<=g,M=f/100,w={x:b?-1:Math.min(v.x*(v.x<0?1:M),m.x*(m.x<0?1:M)),y:k?-1:Math.min(v.y*(v.y<0?1:M),m.y*(m.y<0?1:M))},C={x:y?1:Math.max(v.x*(v.x>0?1:M),m.x*(m.x>0?1:M)),y:x?1:Math.max(v.y*(v.y>0?1:M),m.y*(m.y>0?1:M))},A={width:.5*(C.x-w.x),height:.5*(C.y-w.y)};u=Math.min(s/A.width,l/A.height),c={x:-.5*(C.x+w.x),y:-.5*(C.y+w.y)}}n.borderWidth=e.getMaxBorderWidth(d.data),n.outerRadius=Math.max((u-n.borderWidth)/2,0),n.innerRadius=Math.max(f?n.outerRadius/100*f:0,0),n.radiusLength=(n.outerRadius-n.innerRadius)/n.getVisibleDatasetCount(),n.offsetX=c.x*n.outerRadius,n.offsetY=c.y*n.outerRadius,d.total=e.calculateTotal(),e.outerRadius=n.outerRadius-n.radiusLength*e.getRingIndex(e.index),e.innerRadius=Math.max(e.outerRadius-n.radiusLength,0),o.each(d.data,function(n,r){e.updateElement(n,r,t)})},updateElement:function(t,e,n){var r=this,i=r.chart,a=i.chartArea,s=i.options,l=s.animation,u=(a.left+a.right)/2,c=(a.top+a.bottom)/2,d=s.rotation,f=s.rotation,h=r.getDataset(),p=n&&l.animateRotate?0:t.hidden?0:r.calculateCircumference(h.data[e])*(s.circumference/(2*Math.PI));o.extend(t,{_datasetIndex:r.index,_index:e,_model:{x:u+i.offsetX,y:c+i.offsetY,startAngle:d,endAngle:f,circumference:p,outerRadius:n&&l.animateScale?0:r.outerRadius,innerRadius:n&&l.animateScale?0:r.innerRadius,label:(0,o.valueAtIndexOrDefault)(h.label,e,i.data.labels[e])}});var g=t._model,v=t.custom||{},m=o.valueAtIndexOrDefault,y=this.chart.options.elements.arc;g.backgroundColor=v.backgroundColor?v.backgroundColor:m(h.backgroundColor,e,y.backgroundColor),g.borderColor=v.borderColor?v.borderColor:m(h.borderColor,e,y.borderColor),g.borderWidth=v.borderWidth?v.borderWidth:m(h.borderWidth,e,y.borderWidth),n&&l.animateRotate||(g.startAngle=0===e?s.rotation:r.getMeta().data[e-1]._model.endAngle,g.endAngle=g.startAngle+g.circumference),t.pivot()},calculateTotal:function(){var t,e=this.getDataset(),n=this.getMeta(),r=0;return o.each(n.data,function(n,i){t=e.data[i],isNaN(t)||n.hidden||(r+=Math.abs(t))}),r},calculateCircumference:function(t){var e=this.getMeta().total;return e>0&&!isNaN(t)?2*Math.PI*(Math.abs(t)/e):0},getMaxBorderWidth:function(t){for(var e,n,r=0,i=this.index,o=t.length,a=0;a<o;a++)e=t[a]._model?t[a]._model.borderWidth:0,r=(n=t[a]._chart?t[a]._chart.config.data.datasets[i].hoverBorderWidth:0)>(r=e>r?e:r)?n:r;return r}})}},Y4Rb:function(t,e,n){"use strict";var r=n("RDha"),i=n("cdu6"),o=n("tjFV"),a=n("g8vO");t.exports=function(t){var e={position:"left",ticks:{callback:a.formatters.logarithmic}},n=i.extend({determineDataLimits:function(){var t=this,e=t.options,n=t.chart,i=n.data.datasets,o=t.isHorizontal();function a(e){return o?e.xAxisID===t.id:e.yAxisID===t.id}t.min=null,t.max=null,t.minNotZero=null;var s=e.stacked;if(void 0===s&&r.each(i,function(t,e){if(!s){var r=n.getDatasetMeta(e);n.isDatasetVisible(e)&&a(r)&&void 0!==r.stack&&(s=!0)}}),e.stacked||s){var l={};r.each(i,function(i,o){var s=n.getDatasetMeta(o),u=[s.type,void 0===e.stacked&&void 0===s.stack?o:"",s.stack].join(".");n.isDatasetVisible(o)&&a(s)&&(void 0===l[u]&&(l[u]=[]),r.each(i.data,function(e,n){var r=l[u],i=+t.getRightValue(e);isNaN(i)||s.data[n].hidden||i<0||(r[n]=r[n]||0,r[n]+=i)}))}),r.each(l,function(e){if(e.length>0){var n=r.min(e),i=r.max(e);t.min=null===t.min?n:Math.min(t.min,n),t.max=null===t.max?i:Math.max(t.max,i)}})}else r.each(i,function(e,i){var o=n.getDatasetMeta(i);n.isDatasetVisible(i)&&a(o)&&r.each(e.data,function(e,n){var r=+t.getRightValue(e);isNaN(r)||o.data[n].hidden||r<0||(null===t.min?t.min=r:r<t.min&&(t.min=r),null===t.max?t.max=r:r>t.max&&(t.max=r),0!==r&&(null===t.minNotZero||r<t.minNotZero)&&(t.minNotZero=r))})});this.handleTickRangeOptions()},handleTickRangeOptions:function(){var t=this,e=t.options.ticks,n=r.valueOrDefault;t.min=n(e.min,t.min),t.max=n(e.max,t.max),t.min===t.max&&(0!==t.min&&null!==t.min?(t.min=Math.pow(10,Math.floor(r.log10(t.min))-1),t.max=Math.pow(10,Math.floor(r.log10(t.max))+1)):(t.min=1,t.max=10)),null===t.min&&(t.min=Math.pow(10,Math.floor(r.log10(t.max))-1)),null===t.max&&(t.max=0!==t.min?Math.pow(10,Math.floor(r.log10(t.min))+1):10),null===t.minNotZero&&(t.minNotZero=t.min>0?t.min:t.max<1?Math.pow(10,Math.floor(r.log10(t.max))):1)},buildTicks:function(){var t=this,e=t.options.ticks,n=!t.isHorizontal(),i=t.ticks=function(t,e){var n,i,o=[],a=r.valueOrDefault,s=a(t.min,Math.pow(10,Math.floor(r.log10(e.min)))),l=Math.floor(r.log10(e.max)),u=Math.ceil(e.max/Math.pow(10,l));0===s?(n=Math.floor(r.log10(e.minNotZero)),i=Math.floor(e.minNotZero/Math.pow(10,n)),o.push(s),s=i*Math.pow(10,n)):(n=Math.floor(r.log10(s)),i=Math.floor(s/Math.pow(10,n)));var c=n<0?Math.pow(10,Math.abs(n)):1;do{o.push(s),10==++i&&(i=1,c=++n>=0?1:c),s=Math.round(i*Math.pow(10,n)*c)/c}while(n<l||n===l&&i<u);var d=a(t.max,s);return o.push(d),o}({min:e.min,max:e.max},t);t.max=r.max(i),t.min=r.min(i),e.reverse?(n=!n,t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),n&&i.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),i.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t){return this.getPixelForValue(this.tickValues[t])},_getFirstTickValue:function(t){var e=Math.floor(r.log10(t));return Math.floor(t/Math.pow(10,e))*Math.pow(10,e)},getPixelForValue:function(e){var n,i,o,a,s,l=this,u=l.options.ticks.reverse,c=r.log10,d=l._getFirstTickValue(l.minNotZero),f=0;return e=+l.getRightValue(e),u?(o=l.end,a=l.start,s=-1):(o=l.start,a=l.end,s=1),l.isHorizontal()?(n=l.width,i=u?l.right:l.left):(n=l.height,s*=-1,i=u?l.top:l.bottom),e!==o&&(0===o&&(n-=f=r.getValueOrDefault(l.options.ticks.fontSize,t.defaults.global.defaultFontSize),o=d),0!==e&&(f+=n/(c(a)-c(o))*(c(e)-c(o))),i+=s*f),i},getValueForPixel:function(e){var n,i,o,a,s=this,l=s.options.ticks.reverse,u=r.log10,c=s._getFirstTickValue(s.minNotZero);if(l?(i=s.end,o=s.start):(i=s.start,o=s.end),s.isHorizontal()?(n=s.width,a=l?s.right-e:e-s.left):(n=s.height,a=l?e-s.top:s.bottom-e),a!==i){if(0===i){var d=r.getValueOrDefault(s.options.ticks.fontSize,t.defaults.global.defaultFontSize);a-=d,n-=d,i=c}a*=u(o)-u(i),a/=n,a=Math.pow(10,u(i)+a)}return a}});o.registerScaleType("logarithmic",n,e)}},YSsK:function(t,e,n){"use strict";var r=n("CDJp"),i=n("RDha"),o=n("tjFV"),a=n("g8vO");t.exports=function(t){var e={position:"left",ticks:{callback:a.formatters.linear}},n=t.LinearScaleBase.extend({determineDataLimits:function(){var t=this,e=t.options,n=t.chart,r=n.data.datasets,o=t.isHorizontal();function a(e){return o?e.xAxisID===t.id:e.yAxisID===t.id}t.min=null,t.max=null;var s=e.stacked;if(void 0===s&&i.each(r,function(t,e){if(!s){var r=n.getDatasetMeta(e);n.isDatasetVisible(e)&&a(r)&&void 0!==r.stack&&(s=!0)}}),e.stacked||s){var l={};i.each(r,function(r,o){var s=n.getDatasetMeta(o),u=[s.type,void 0===e.stacked&&void 0===s.stack?o:"",s.stack].join(".");void 0===l[u]&&(l[u]={positiveValues:[],negativeValues:[]});var c=l[u].positiveValues,d=l[u].negativeValues;n.isDatasetVisible(o)&&a(s)&&i.each(r.data,function(n,r){var i=+t.getRightValue(n);isNaN(i)||s.data[r].hidden||(c[r]=c[r]||0,d[r]=d[r]||0,e.relativePoints?c[r]=100:i<0?d[r]+=i:c[r]+=i)})}),i.each(l,function(e){var n=e.positiveValues.concat(e.negativeValues),r=i.min(n),o=i.max(n);t.min=null===t.min?r:Math.min(t.min,r),t.max=null===t.max?o:Math.max(t.max,o)})}else i.each(r,function(e,r){var o=n.getDatasetMeta(r);n.isDatasetVisible(r)&&a(o)&&i.each(e.data,function(e,n){var r=+t.getRightValue(e);isNaN(r)||o.data[n].hidden||(null===t.min?t.min=r:r<t.min&&(t.min=r),null===t.max?t.max=r:r>t.max&&(t.max=r))})});t.min=isFinite(t.min)&&!isNaN(t.min)?t.min:0,t.max=isFinite(t.max)&&!isNaN(t.max)?t.max:1,this.handleTickRangeOptions()},getTickLimit:function(){var t,e=this.options.ticks;if(this.isHorizontal())t=Math.min(e.maxTicksLimit?e.maxTicksLimit:11,Math.ceil(this.width/50));else{var n=i.valueOrDefault(e.fontSize,r.global.defaultFontSize);t=Math.min(e.maxTicksLimit?e.maxTicksLimit:11,Math.ceil(this.height/(2*n)))}return t},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForValue:function(t){var e=this,n=e.start,r=+e.getRightValue(t),i=e.end-n;return e.isHorizontal()?e.left+e.width/i*(r-n):e.bottom-e.height/i*(r-n)},getValueForPixel:function(t){var e=this,n=e.isHorizontal();return e.start+(n?t-e.left:e.bottom-t)/(n?e.width:e.height)*(e.end-e.start)},getPixelForTick:function(t){return this.getPixelForValue(this.ticksAsNumbers[t])}});o.registerScaleType("linear",n,e)}},ZANz:function(t,e,n){"use strict";var r=n("CDJp"),i=n("vvH+"),o=n("RDha");r._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),r._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(t,e){var n="";return t.length>0&&(t[0].yLabel?n=t[0].yLabel:e.labels.length>0&&t[0].index<e.labels.length&&(n=e.labels[t[0].index])),n},label:function(t,e){return(e.datasets[t.datasetIndex].label||"")+": "+t.xLabel}},mode:"index",axis:"y"}}),t.exports=function(t){t.controllers.bar=t.DatasetController.extend({dataElementType:i.Rectangle,initialize:function(){var e;t.DatasetController.prototype.initialize.apply(this,arguments),(e=this.getMeta()).stack=this.getDataset().stack,e.bar=!0},update:function(t){var e,n,r=this.getMeta().data;for(this._ruler=this.getRuler(),e=0,n=r.length;e<n;++e)this.updateElement(r[e],e,t)},updateElement:function(t,e,n){var r=this,i=r.chart,a=r.getMeta(),s=r.getDataset(),l=t.custom||{},u=i.options.elements.rectangle;t._xScale=r.getScaleForId(a.xAxisID),t._yScale=r.getScaleForId(a.yAxisID),t._datasetIndex=r.index,t._index=e,t._model={datasetLabel:s.label,label:i.data.labels[e],borderSkipped:l.borderSkipped?l.borderSkipped:u.borderSkipped,backgroundColor:l.backgroundColor?l.backgroundColor:o.valueAtIndexOrDefault(s.backgroundColor,e,u.backgroundColor),borderColor:l.borderColor?l.borderColor:o.valueAtIndexOrDefault(s.borderColor,e,u.borderColor),borderWidth:l.borderWidth?l.borderWidth:o.valueAtIndexOrDefault(s.borderWidth,e,u.borderWidth)},r.updateElementGeometry(t,e,n),t.pivot()},updateElementGeometry:function(t,e,n){var r=this,i=t._model,o=r.getValueScale(),a=o.getBasePixel(),s=o.isHorizontal(),l=r._ruler||r.getRuler(),u=r.calculateBarValuePixels(r.index,e),c=r.calculateBarIndexPixels(r.index,e,l);i.horizontal=s,i.base=n?a:u.base,i.x=s?n?a:u.head:c.center,i.y=s?c.center:n?a:u.head,i.height=s?c.size:void 0,i.width=s?void 0:c.size},getValueScaleId:function(){return this.getMeta().yAxisID},getIndexScaleId:function(){return this.getMeta().xAxisID},getValueScale:function(){return this.getScaleForId(this.getValueScaleId())},getIndexScale:function(){return this.getScaleForId(this.getIndexScaleId())},_getStacks:function(t){var e,n,r=this.chart,i=this.getIndexScale().options.stacked,o=void 0===t?r.data.datasets.length:t+1,a=[];for(e=0;e<o;++e)(n=r.getDatasetMeta(e)).bar&&r.isDatasetVisible(e)&&(!1===i||!0===i&&-1===a.indexOf(n.stack)||void 0===i&&(void 0===n.stack||-1===a.indexOf(n.stack)))&&a.push(n.stack);return a},getStackCount:function(){return this._getStacks().length},getStackIndex:function(t,e){var n=this._getStacks(t),r=void 0!==e?n.indexOf(e):-1;return-1===r?n.length-1:r},getRuler:function(){var t,e,n=this.getIndexScale(),r=this.getStackCount(),i=this.index,a=n.isHorizontal(),s=a?n.left:n.top,l=s+(a?n.width:n.height),u=[];for(t=0,e=this.getMeta().data.length;t<e;++t)u.push(n.getPixelForValue(null,t,i));return{min:o.isNullOrUndef(n.options.barThickness)?function(t,e){var n,r,i,o,a=t.isHorizontal()?t.width:t.height,s=t.getTicks();for(i=1,o=e.length;i<o;++i)a=Math.min(a,e[i]-e[i-1]);for(i=0,o=s.length;i<o;++i)r=t.getPixelForTick(i),a=i>0?Math.min(a,r-n):a,n=r;return a}(n,u):-1,pixels:u,start:s,end:l,stackCount:r,scale:n}},calculateBarValuePixels:function(t,e){var n,r,i,o,a,s,l=this.chart,u=this.getMeta(),c=this.getValueScale(),d=l.data.datasets,f=c.getRightValue(d[t].data[e]),h=c.options.stacked,p=u.stack,g=0;if(h||void 0===h&&void 0!==p)for(n=0;n<t;++n)(r=l.getDatasetMeta(n)).bar&&r.stack===p&&r.controller.getValueScaleId()===c.id&&l.isDatasetVisible(n)&&(i=c.getRightValue(d[n].data[e]),(f<0&&i<0||f>=0&&i>0)&&(g+=i));return o=c.getPixelForValue(g),{size:s=((a=c.getPixelForValue(g+f))-o)/2,base:o,head:a,center:a+s/2}},calculateBarIndexPixels:function(t,e,n){var r=n.scale.options,i="flex"===r.barThickness?function(t,e,n){var r=e.pixels,i=r[t],o=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null,s=n.categoryPercentage;return null===o&&(o=i-(null===a?e.end-i:a-i)),null===a&&(a=i+i-o),{chunk:(a-o)/2*s/e.stackCount,ratio:n.barPercentage,start:i-(i-o)/2*s}}(e,n,r):function(t,e,n){var r,i,a=n.barThickness,s=e.stackCount,l=e.pixels[t];return o.isNullOrUndef(a)?(r=e.min*n.categoryPercentage,i=n.barPercentage):(r=a*s,i=1),{chunk:r/s,ratio:i,start:l-r/2}}(e,n,r),a=this.getStackIndex(t,this.getMeta().stack),s=i.start+i.chunk*a+i.chunk/2,l=Math.min(o.valueOrDefault(r.maxBarThickness,1/0),i.chunk*i.ratio);return{base:s-l/2,head:s+l/2,center:s,size:l}},draw:function(){var t=this.chart,e=this.getValueScale(),n=this.getMeta().data,r=this.getDataset(),i=n.length,a=0;for(o.canvas.clipArea(t.ctx,t.chartArea);a<i;++a)isNaN(e.getRightValue(r.data[a]))||n[a].draw();o.canvas.unclipArea(t.ctx)}}),t.controllers.horizontalBar=t.controllers.bar.extend({getValueScaleId:function(){return this.getMeta().xAxisID},getIndexScaleId:function(){return this.getMeta().yAxisID}})}},ZARk:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CcnG"),i=n("rN8Y");e.NvD3Module=function(){function t(){}return t.decorators=[{type:r.NgModule,args:[{declarations:[i.NvD3Component],exports:[i.NvD3Component]}]}],t}()},aB2c:function(t,e,n){"use strict";var r=n("CDJp"),i=n("vvH+"),o=n("RDha");r._set("radar",{scale:{type:"radialLinear"},elements:{line:{tension:0}}}),t.exports=function(t){t.controllers.radar=t.DatasetController.extend({datasetElementType:i.Line,dataElementType:i.Point,linkScales:o.noop,update:function(t){var e=this,n=e.getMeta(),r=n.data,i=n.dataset.custom||{},a=e.getDataset(),s=e.chart.options.elements.line,l=e.chart.scale;void 0!==a.tension&&void 0===a.lineTension&&(a.lineTension=a.tension),o.extend(n.dataset,{_datasetIndex:e.index,_scale:l,_children:r,_loop:!0,_model:{tension:i.tension?i.tension:o.valueOrDefault(a.lineTension,s.tension),backgroundColor:i.backgroundColor?i.backgroundColor:a.backgroundColor||s.backgroundColor,borderWidth:i.borderWidth?i.borderWidth:a.borderWidth||s.borderWidth,borderColor:i.borderColor?i.borderColor:a.borderColor||s.borderColor,fill:i.fill?i.fill:void 0!==a.fill?a.fill:s.fill,borderCapStyle:i.borderCapStyle?i.borderCapStyle:a.borderCapStyle||s.borderCapStyle,borderDash:i.borderDash?i.borderDash:a.borderDash||s.borderDash,borderDashOffset:i.borderDashOffset?i.borderDashOffset:a.borderDashOffset||s.borderDashOffset,borderJoinStyle:i.borderJoinStyle?i.borderJoinStyle:a.borderJoinStyle||s.borderJoinStyle}}),n.dataset.pivot(),o.each(r,function(n,r){e.updateElement(n,r,t)},e),e.updateBezierControlPoints()},updateElement:function(t,e,n){var r=this,i=t.custom||{},a=r.getDataset(),s=r.chart.scale,l=r.chart.options.elements.point,u=s.getPointPositionForValue(e,a.data[e]);void 0!==a.radius&&void 0===a.pointRadius&&(a.pointRadius=a.radius),void 0!==a.hitRadius&&void 0===a.pointHitRadius&&(a.pointHitRadius=a.hitRadius),o.extend(t,{_datasetIndex:r.index,_index:e,_scale:s,_model:{x:n?s.xCenter:u.x,y:n?s.yCenter:u.y,tension:i.tension?i.tension:o.valueOrDefault(a.lineTension,r.chart.options.elements.line.tension),radius:i.radius?i.radius:o.valueAtIndexOrDefault(a.pointRadius,e,l.radius),backgroundColor:i.backgroundColor?i.backgroundColor:o.valueAtIndexOrDefault(a.pointBackgroundColor,e,l.backgroundColor),borderColor:i.borderColor?i.borderColor:o.valueAtIndexOrDefault(a.pointBorderColor,e,l.borderColor),borderWidth:i.borderWidth?i.borderWidth:o.valueAtIndexOrDefault(a.pointBorderWidth,e,l.borderWidth),pointStyle:i.pointStyle?i.pointStyle:o.valueAtIndexOrDefault(a.pointStyle,e,l.pointStyle),rotation:i.rotation?i.rotation:o.valueAtIndexOrDefault(a.pointRotation,e,l.rotation),hitRadius:i.hitRadius?i.hitRadius:o.valueAtIndexOrDefault(a.pointHitRadius,e,l.hitRadius)}}),t._model.skip=i.skip?i.skip:isNaN(t._model.x)||isNaN(t._model.y)},updateBezierControlPoints:function(){var t=this.chart.chartArea,e=this.getMeta();o.each(e.data,function(n,r){var i=n._model,a=o.splineCurve(o.previousItem(e.data,r,!0)._model,i,o.nextItem(e.data,r,!0)._model,i.tension);i.controlPointPreviousX=Math.max(Math.min(a.previous.x,t.right),t.left),i.controlPointPreviousY=Math.max(Math.min(a.previous.y,t.bottom),t.top),i.controlPointNextX=Math.max(Math.min(a.next.x,t.right),t.left),i.controlPointNextY=Math.max(Math.min(a.next.y,t.bottom),t.top),n.pivot()})},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t.custom||{},r=t._index,i=t._model;t.$previousStyle={backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:i.borderWidth,radius:i.radius},i.radius=n.hoverRadius?n.hoverRadius:o.valueAtIndexOrDefault(e.pointHoverRadius,r,this.chart.options.elements.point.hoverRadius),i.backgroundColor=n.hoverBackgroundColor?n.hoverBackgroundColor:o.valueAtIndexOrDefault(e.pointHoverBackgroundColor,r,o.getHoverColor(i.backgroundColor)),i.borderColor=n.hoverBorderColor?n.hoverBorderColor:o.valueAtIndexOrDefault(e.pointHoverBorderColor,r,o.getHoverColor(i.borderColor)),i.borderWidth=n.hoverBorderWidth?n.hoverBorderWidth:o.valueAtIndexOrDefault(e.pointHoverBorderWidth,r,i.borderWidth)}})}},bidN:function(t,e,n){"use strict";var r=n("CDJp"),i=n("vvH+"),o=n("RDha");r._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return(e.datasets[t.datasetIndex].label||"")+": ("+t.xLabel+", "+t.yLabel+", "+e.datasets[t.datasetIndex].data[t.index].r+")"}}}}),t.exports=function(t){t.controllers.bubble=t.DatasetController.extend({dataElementType:i.Point,update:function(t){var e=this,n=e.getMeta();o.each(n.data,function(n,r){e.updateElement(n,r,t)})},updateElement:function(t,e,n){var r=this,i=r.getMeta(),o=t.custom||{},a=r.getScaleForId(i.xAxisID),s=r.getScaleForId(i.yAxisID),l=r._resolveElementOptions(t,e),u=r.getDataset().data[e],c=r.index,d=n?a.getPixelForDecimal(.5):a.getPixelForValue("object"==typeof u?u:NaN,e,c),f=n?s.getBasePixel():s.getPixelForValue(u,e,c);t._xScale=a,t._yScale=s,t._options=l,t._datasetIndex=c,t._index=e,t._model={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,hitRadius:l.hitRadius,pointStyle:l.pointStyle,rotation:l.rotation,radius:n?0:l.radius,skip:o.skip||isNaN(d)||isNaN(f),x:d,y:f},t.pivot()},setHoverStyle:function(t){var e=t._model,n=t._options;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=o.valueOrDefault(n.hoverBackgroundColor,o.getHoverColor(n.backgroundColor)),e.borderColor=o.valueOrDefault(n.hoverBorderColor,o.getHoverColor(n.borderColor)),e.borderWidth=o.valueOrDefault(n.hoverBorderWidth,n.borderWidth),e.radius=n.radius+n.hoverRadius},_resolveElementOptions:function(t,e){var n,r,i,a=this.chart,s=a.data.datasets[this.index],l=t.custom||{},u=a.options.elements.point,c=o.options.resolve,d=s.data[e],f={},h={chart:a,dataIndex:e,dataset:s,datasetIndex:this.index},p=["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"];for(n=0,r=p.length;n<r;++n)f[i=p[n]]=c([l[i],s[i],u[i]],h,e);return f.radius=c([l.radius,d?d.r:void 0,s.radius,u.radius],h,e),f}})}},bljh:function(t,e,n){var r,i;!function(){var o={version:"3.5.6"},a=[].slice,s=function(t){return a.call(t)},l=this.document;function u(t){return t&&(t.ownerDocument||t.document||t).documentElement}function c(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(l)try{s(l.documentElement.childNodes)}catch(t){s=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),l)try{l.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var d=this.Element.prototype,f=d.setAttribute,h=d.setAttributeNS,p=this.CSSStyleDeclaration.prototype,g=p.setProperty;d.setAttribute=function(t,e){f.call(this,t,e+"")},d.setAttributeNS=function(t,e,n){h.call(this,t,e,n+"")},p.setProperty=function(t,e,n){g.call(this,t,e+"",n)}}function v(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function m(t){return null===t?NaN:+t}function y(t){return!isNaN(t)}function x(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}o.ascending=v,o.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},o.min=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},o.max=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},o.extent=function(t,e){var n,r,i,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=t[o])&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=t[o])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++o<a;)if(null!=(r=e.call(t,t[o],o))&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=e.call(t,t[o],o))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},o.sum=function(t,e){var n,r=0,i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)y(n=+t[o])&&(r+=n);else for(;++o<i;)y(n=+e.call(t,t[o],o))&&(r+=n);return r},o.mean=function(t,e){var n,r=0,i=t.length,o=-1,a=i;if(1===arguments.length)for(;++o<i;)y(n=m(t[o]))?r+=n:--a;else for(;++o<i;)y(n=m(e.call(t,t[o],o)))?r+=n:--a;if(a)return r/a},o.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i},o.median=function(t,e){var n,r=[],i=t.length,a=-1;if(1===arguments.length)for(;++a<i;)y(n=m(t[a]))&&r.push(n);else for(;++a<i;)y(n=m(e.call(t,t[a],a)))&&r.push(n);if(r.length)return o.quantile(r.sort(v),.5)},o.variance=function(t,e){var n,r,i=t.length,o=0,a=0,s=-1,l=0;if(1===arguments.length)for(;++s<i;)y(n=m(t[s]))&&(a+=(r=n-o)*(n-(o+=r/++l)));else for(;++s<i;)y(n=m(e.call(t,t[s],s)))&&(a+=(r=n-o)*(n-(o+=r/++l)));if(l>1)return a/(l-1)},o.deviation=function(){var t=o.variance.apply(this,arguments);return t?Math.sqrt(t):t};var b=x(v);function k(t){return t.length}o.bisectLeft=b.left,o.bisect=o.bisectRight=b.right,o.bisector=function(t){return x(1===t.length?function(e,n){return v(t(e),n)}:t)},o.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,o<2&&(e=0));for(var r,i,o=n-e;o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},o.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},o.pairs=function(t){for(var e=0,n=t.length-1,r=t[0],i=new Array(n<0?0:n);e<n;)i[e]=[r,r=t[++e]];return i},o.zip=function(){if(!(r=arguments.length))return[];for(var t=-1,e=o.min(arguments,k),n=new Array(e);++t<e;)for(var r,i=-1,a=n[t]=new Array(r);++i<r;)a[i]=arguments[i][t];return n},o.transpose=function(t){return o.zip.apply(o,t)},o.keys=function(t){var e=[];for(var n in t)e.push(n);return e},o.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},o.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},o.merge=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n};var M=Math.abs;function w(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function C(){this._=Object.create(null)}o.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var r,i=[],o=function(t){for(var e=1;t*e%1;)e*=10;return e}(M(n)),a=-1;if(t*=o,e*=o,(n*=o)<0)for(;(r=t+n*++a)>e;)i.push(r/o);else for(;(r=t+n*++a)<e;)i.push(r/o);return i},o.map=function(t,e){var n=new C;if(t instanceof C)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(1===arguments.length)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e.call(t,r=t[i],i),r)}else for(var a in t)n.set(a,t[a]);return n};var A="__proto__",S="\0";function _(t){return(t+="")===A||t[0]===S?S+t:t}function D(t){return(t+="")[0]===S?t.slice(1):t}function F(t){return _(t)in this._}function E(t){return(t=_(t))in this._&&delete this._[t]}function N(){var t=[];for(var e in this._)t.push(D(e));return t}function P(){var t=0;for(var e in this._)++t;return t}function T(){for(var t in this._)return!1;return!0}function I(){this._=Object.create(null)}function O(t){return t}function L(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function W(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=z.length;n<r;++n){var i=z[n]+e;if(i in t)return i}}w(C,{has:F,get:function(t){return this._[_(t)]},set:function(t,e){return this._[_(t)]=e},remove:E,keys:N,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:D(e),value:this._[e]});return t},size:P,empty:T,forEach:function(t){for(var e in this._)t.call(this,D(e),this._[e])}}),o.nest=function(){var t,e,n={},r=[],i=[];function a(i,o,s){if(s>=r.length)return e?e.call(n,o):t?o.sort(t):o;for(var l,u,c,d,f=-1,h=o.length,p=r[s++],g=new C;++f<h;)(d=g.get(l=p(u=o[f])))?d.push(u):g.set(l,[u]);return i?(u=i(),c=function(t,e){u.set(t,a(i,e,s))}):(u={},c=function(t,e){u[t]=a(i,e,s)}),g.forEach(c),u}return n.map=function(t,e){return a(e,t,0)},n.entries=function(t){return function t(e,n){if(n>=r.length)return e;var o=[],a=i[n++];return e.forEach(function(e,r){o.push({key:e,values:t(r,n)})}),a?o.sort(function(t,e){return a(t.key,e.key)}):o}(a(o.map,t,0),0)},n.key=function(t){return r.push(t),n},n.sortKeys=function(t){return i[r.length-1]=t,n},n.sortValues=function(e){return t=e,n},n.rollup=function(t){return e=t,n},n},o.set=function(t){var e=new I;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},w(I,{has:F,add:function(t){return this._[_(t+="")]=!0,t},remove:E,values:N,size:P,empty:T,forEach:function(t){for(var e in this._)t.call(this,D(e))}}),o.behavior={},o.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=L(t,e,e[n]);return t};var z=["webkit","ms","moz","Moz","o","O"];function R(){}function B(){}function V(t){var e=[],n=new C;function r(){for(var n,r=e,i=-1,o=r.length;++i<o;)(n=r[i].on)&&n.apply(this,arguments);return t}return r.on=function(r,i){var o,a=n.get(r);return arguments.length<2?a&&a.on:(a&&(a.on=null,e=e.slice(0,o=e.indexOf(a)).concat(e.slice(o+1)),n.remove(r)),i&&e.push(n.set(r,{on:i})),t)},r}function H(){o.event.preventDefault()}function j(){for(var t,e=o.event;t=e.sourceEvent;)e=t;return e}function q(t){for(var e=new B,n=0,r=arguments.length;++n<r;)e[arguments[n]]=V(e);return e.of=function(n,r){return function(i){try{var a=i.sourceEvent=o.event;i.target=t,o.event=i,e[i.type].apply(n,r)}finally{o.event=a}}},e}o.dispatch=function(){for(var t=new B,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=V(t);return t},B.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},o.event=null,o.requote=function(t){return t.replace(Y,"\\$&")};var Y=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,X={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};function U(t){return X(t,J),t}var G=function(t,e){return e.querySelector(t)},Z=function(t,e){return e.querySelectorAll(t)},K=function(t,e){var n=t.matches||t[W(t,"matchesSelector")];return(K=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(G=function(t,e){return Sizzle(t,e)[0]||null},Z=Sizzle,K=Sizzle.matchesSelector),o.selection=function(){return o.select(l.documentElement)};var J=o.selection.prototype=[];function $(t){return"function"==typeof t?t:function(){return G(t,this)}}function Q(t){return"function"==typeof t?t:function(){return Z(t,this)}}J.select=function(t){var e,n,r,i,o=[];t=$(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var l=-1,u=r.length;++l<u;)(i=r[l])?(e.push(n=t.call(i,i.__data__,l,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return U(o)},J.selectAll=function(t){var e,n,r=[];t=Q(t);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],l=-1,u=a.length;++l<u;)(n=a[l])&&(r.push(e=s(t.call(n,n.__data__,l,i))),e.parentNode=n);return U(r)};var tt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function et(t,e){return t=o.ns.qualify(t),null==e?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof e?t.local?function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}:function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}:t.local?function(){this.setAttributeNS(t.space,t.local,e)}:function(){this.setAttribute(t,e)}}function nt(t){return t.trim().replace(/\s+/g," ")}function rt(t){return new RegExp("(?:^|\\s+)"+o.requote(t)+"(?:\\s+|$)","g")}function it(t){return(t+"").trim().split(/^|\s+/)}function ot(t,e){var n=(t=it(t).map(at)).length;return"function"==typeof e?function(){for(var r=-1,i=e.apply(this,arguments);++r<n;)t[r](this,i)}:function(){for(var r=-1;++r<n;)t[r](this,e)}}function at(t){var e=rt(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",nt(i+" "+t))):n.setAttribute("class",nt(i.replace(e," ")))}}function st(t,e,n){return null==e?function(){this.style.removeProperty(t)}:"function"==typeof e?function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}:function(){this.style.setProperty(t,e,n)}}function lt(t,e){return null==e?function(){delete this[t]}:"function"==typeof e?function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}:function(){this[t]=e}}function ut(t){return"function"==typeof t?t:(t=o.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){var e=this.ownerDocument,n=this.namespaceURI;return n?e.createElementNS(n,t):e.createElement(t)}}function ct(){var t=this.parentNode;t&&t.removeChild(this)}function dt(t){return{__data__:t}}function ft(t){return function(){return K(this,t)}}function ht(t,e){for(var n=0,r=t.length;n<r;n++)for(var i,o=t[n],a=0,s=o.length;a<s;a++)(i=o[a])&&e(i,a,n);return t}function pt(t){return X(t,gt),t}o.ns={prefix:tt,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.slice(0,e),t=t.slice(e+1)),tt.hasOwnProperty(n)?{space:tt[n],local:t}:t}},J.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=o.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(et(e,t[e]));return this}return this.each(et(t,e))},J.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=it(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!rt(t[i]).test(e))return!1;return!0}for(e in t)this.each(ot(e,t[e]));return this}return this.each(ot(t,e))},J.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.each(st(n,t[n],e));return this}if(r<2){var i=this.node();return c(i).getComputedStyle(i,null).getPropertyValue(t)}n=""}return this.each(st(t,e,n))},J.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(lt(e,t[e]));return this}return this.each(lt(t,e))},J.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},J.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},J.append=function(t){return t=ut(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},J.insert=function(t,e){return t=ut(t),e=$(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},J.remove=function(){return this.each(ct)},J.data=function(t,e){var n,r,i=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(n=this[0]).length);++i<o;)(r=n[i])&&(t[i]=r.__data__);return t}function a(t,n){var r,i,o,a=t.length,c=n.length,d=Math.min(a,c),f=new Array(c),h=new Array(c),p=new Array(a);if(e){var g,v=new C,m=new Array(a);for(r=-1;++r<a;)v.has(g=e.call(i=t[r],i.__data__,r))?p[r]=i:v.set(g,i),m[r]=g;for(r=-1;++r<c;)(i=v.get(g=e.call(n,o=n[r],r)))?!0!==i&&(f[r]=i,i.__data__=o):h[r]=dt(o),v.set(g,!0);for(r=-1;++r<a;)!0!==v.get(m[r])&&(p[r]=t[r])}else{for(r=-1;++r<d;)o=n[r],(i=t[r])?(i.__data__=o,f[r]=i):h[r]=dt(o);for(;r<c;++r)h[r]=dt(n[r]);for(;r<a;++r)p[r]=t[r]}h.update=f,h.parentNode=f.parentNode=p.parentNode=t.parentNode,s.push(h),l.push(f),u.push(p)}var s=pt([]),l=U([]),u=U([]);if("function"==typeof t)for(;++i<o;)a(n=this[i],t.call(n,n.parentNode.__data__,i));else for(;++i<o;)a(n=this[i],t);return l.enter=function(){return s},l.exit=function(){return u},l},J.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},J.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=ft(t));for(var o=0,a=this.length;o<a;o++){i.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,l=n.length;s<l;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return U(i)},J.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},J.sort=function(t){t=(function(t){return arguments.length||(t=v),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}).apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},J.each=function(t){return ht(this,function(e,n,r){t.call(e,e.__data__,n,r)})},J.call=function(t){var e=s(arguments);return t.apply(e[0]=this,e),this},J.empty=function(){return!this.node()},J.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var o=n[r];if(o)return o}return null},J.size=function(){var t=0;return ht(this,function(){++t}),t};var gt=[];function vt(t,e,n){var r="__on"+t,i=t.indexOf("."),a=yt;i>0&&(t=t.slice(0,i));var l=mt.get(t);function u(){var e=this[r];e&&(this.removeEventListener(t,e,e.$),delete this[r])}return l&&(t=l,a=xt),i?e?function(){var i=a(e,s(arguments));u.call(this),this.addEventListener(t,this[r]=i,i.$=n),i._=e}:u:e?R:function(){var e,n=new RegExp("^__on([^.]+)"+o.requote(t)+"$");for(var r in this)if(e=r.match(n)){var i=this[r];this.removeEventListener(e[1],i,i.$),delete this[r]}}}o.selection.enter=pt,o.selection.enter.prototype=gt,gt.append=J.append,gt.empty=J.empty,gt.node=J.node,gt.call=J.call,gt.size=J.size,gt.select=function(t){for(var e,n,r,i,o,a=[],s=-1,l=this.length;++s<l;){r=(i=this[s]).update,a.push(e=[]),e.parentNode=i.parentNode;for(var u=-1,c=i.length;++u<c;)(o=i[u])?(e.push(r[u]=n=t.call(i.parentNode,o.__data__,u,s)),n.__data__=o.__data__):e.push(null)}return U(a)},gt.insert=function(t,e){var n,r,i;return arguments.length<2&&(n=this,e=function(t,e,o){var a,s=n[o].update,l=s.length;for(o!=i&&(i=o,r=0),e>=r&&(r=e+1);!(a=s[r])&&++r<l;);return a}),J.insert.call(this,t,e)},o.select=function(t){var e;return"string"==typeof t?(e=[G(t,l)]).parentNode=l.documentElement:(e=[t]).parentNode=u(t),U([e])},o.selectAll=function(t){var e;return"string"==typeof t?(e=s(Z(t,l))).parentNode=l.documentElement:(e=t).parentNode=null,U([e])},J.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=!1),t)this.each(vt(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(vt(t,e,n))};var mt=o.map({mouseenter:"mouseover",mouseleave:"mouseout"});function yt(t,e){return function(n){var r=o.event;o.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{o.event=r}}}function xt(t,e){var n=yt(t,e);return function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}l&&mt.forEach(function(t){"on"+t in l&&mt.remove(t)});var bt,kt=0;function Mt(t){var e=".dragsuppress-"+ ++kt,n="click"+e,r=o.select(c(t)).on("touchmove"+e,H).on("dragstart"+e,H).on("selectstart"+e,H);if(null==bt&&(bt=!("onselectstart"in t)&&W(t.style,"userSelect")),bt){var i=u(t).style,a=i[bt];i[bt]="none"}return function(t){if(r.on(e,null),bt&&(i[bt]=a),t){var o=function(){r.on(n,null)};r.on(n,function(){H(),o()},!0),setTimeout(o,0)}}}o.mouse=function(t){return Ct(t,j())};var wt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Ct(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(wt<0){var i=c(t);if(i.scrollX||i.scrollY){var a=(n=o.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();wt=!(a.f||a.e),n.remove()}}return wt?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}function At(){return o.event.changedTouches[0].identifier}o.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=j().changedTouches),e)for(var r,i=0,o=e.length;i<o;++i)if((r=e[i]).identifier===n)return Ct(t,r)},o.behavior.drag=function(){var t=q(i,"drag","dragstart","dragend"),e=null,n=a(R,o.mouse,c,"mousemove","mouseup"),r=a(At,o.touch,O,"touchmove","touchend");function i(){this.on("mousedown.drag",n).on("touchstart.drag",r)}function a(n,r,i,a,s){return function(){var l,u=o.event.target,c=this.parentNode,d=t.of(this,arguments),f=0,h=n(),p=".drag"+(null==h?"":"-"+h),g=o.select(i(u)).on(a+p,function(){var t,e,n=r(c,h);n&&(f|=(t=n[0]-m[0])|(e=n[1]-m[1]),m=n,d({type:"drag",x:n[0]+l[0],y:n[1]+l[1],dx:t,dy:e}))}).on(s+p,function(){r(c,h)&&(g.on(a+p,null).on(s+p,null),v(f&&o.event.target===u),d({type:"dragend"}))}),v=Mt(u),m=r(c,h);l=e?[(l=e.apply(this,arguments)).x-m[0],l.y-m[1]]:[0,0],d({type:"dragstart"})}}return i.origin=function(t){return arguments.length?(e=t,i):e},o.rebind(i,t,"on")},o.touches=function(t,e){return arguments.length<2&&(e=j().touches),e?s(e).map(function(e){var n=Ct(t,e);return n.identifier=e.identifier,n}):[]};var St=1e-6,_t=St*St,Dt=Math.PI,Ft=2*Dt,Et=Ft-St,Nt=Dt/2,Pt=Dt/180,Tt=180/Dt;function It(t){return t>0?1:t<0?-1:0}function Ot(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function Lt(t){return t>1?0:t<-1?Dt:Math.acos(t)}function Wt(t){return t>1?Nt:t<-1?-Nt:Math.asin(t)}function zt(t){return((t=Math.exp(t))+1/t)/2}function Rt(t){return(t=Math.sin(t/2))*t}var Bt=Math.SQRT2,Vt=2;o.interpolateZoom=function(t,e){var n=t[0],r=t[1],i=t[2],o=e[2],a=e[0]-n,s=e[1]-r,l=a*a+s*s,u=Math.sqrt(l),c=(o*o-i*i+4*l)/(2*i*Vt*u),d=(o*o-i*i-4*l)/(2*o*Vt*u),f=Math.log(Math.sqrt(c*c+1)-c),h=Math.log(Math.sqrt(d*d+1)-d)-f,p=(h||Math.log(o/i))/Bt;function g(t){var e,o=t*p;if(h){var l=zt(f),c=i/(Vt*u)*(l*(e=Bt*o+f,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(f));return[n+c*a,r+c*s,i*l/zt(Bt*o+f)]}return[n+t*a,r+t*s,i*Math.exp(Bt*o)]}return g.duration=1e3*p,g},o.behavior.zoom=function(){var t,e,n,r,i,a,s,u,d,f={x:0,y:0,k:1},h=[960,500],p=qt,g=250,v=0,m="mousedown.zoom",y="mousemove.zoom",x="mouseup.zoom",b="touchstart.zoom",k=q(M,"zoomstart","zoom","zoomend");function M(t){t.on(m,N).on(jt+".zoom",T).on("dblclick.zoom",I).on(b,P)}function w(t){return[(t[0]-f.x)/f.k,(t[1]-f.y)/f.k]}function C(t){f.k=Math.max(p[0],Math.min(p[1],t))}function A(t,e){e=function(t){return[t[0]*f.k+f.x,t[1]*f.k+f.y]}(e),f.x+=t[0]-e[0],f.y+=t[1]-e[1]}function S(t,n,r,i){t.__chart__={x:f.x,y:f.y,k:f.k},C(Math.pow(2,i)),A(e=n,r),t=o.select(t),g>0&&(t=t.transition().duration(g)),t.call(M.event)}function _(){s&&s.domain(a.range().map(function(t){return(t-f.x)/f.k}).map(a.invert)),d&&d.domain(u.range().map(function(t){return(t-f.y)/f.k}).map(u.invert))}function D(t){v++||t({type:"zoomstart"})}function F(t){_(),t({type:"zoom",scale:f.k,translate:[f.x,f.y]})}function E(t){--v||(t({type:"zoomend"}),e=null)}function N(){var t=this,e=o.event.target,n=k.of(t,arguments),r=0,i=o.select(c(t)).on(y,function(){r=1,A(o.mouse(t),a),F(n)}).on(x,function(){i.on(y,null).on(x,null),s(r&&o.event.target===e),E(n)}),a=w(o.mouse(t)),s=Mt(t);ss.call(t),D(n)}function P(){var t,e=this,n=k.of(e,arguments),r={},a=0,s=".zoom-"+o.event.changedTouches[0].identifier,l="touchmove"+s,u="touchend"+s,c=[],d=o.select(e),h=Mt(e);function p(){var n=o.touches(e);return t=f.k,n.forEach(function(t){t.identifier in r&&(r[t.identifier]=w(t))}),n}function g(){var t=o.event.target;o.select(t).on(l,v).on(u,y),c.push(t);for(var n=o.event.changedTouches,s=0,d=n.length;s<d;++s)r[n[s].identifier]=null;var h=p(),g=Date.now();if(1===h.length)g-i<500&&(S(e,m=h[0],r[m.identifier],Math.floor(Math.log(f.k)/Math.LN2)+1),H()),i=g;else if(h.length>1){var m,x=h[1],b=(m=h[0])[0]-x[0],k=m[1]-x[1];a=b*b+k*k}}function v(){var s,l,u,c,d=o.touches(e);ss.call(e);for(var f=0,h=d.length;f<h;++f,c=null)if(c=r[(u=d[f]).identifier]){if(l)break;s=u,l=c}if(c){var p=(p=u[0]-s[0])*p+(p=u[1]-s[1])*p,g=a&&Math.sqrt(p/a);s=[(s[0]+u[0])/2,(s[1]+u[1])/2],l=[(l[0]+c[0])/2,(l[1]+c[1])/2],C(g*t)}i=null,A(s,l),F(n)}function y(){if(o.event.touches.length){for(var t=o.event.changedTouches,e=0,i=t.length;e<i;++e)delete r[t[e].identifier];for(var a in r)return void p()}o.selectAll(c).on(s,null),d.on(m,N).on(b,P),h(),E(n)}g(),D(n),d.on(m,null).on(b,g)}function T(){var i=k.of(this,arguments);r?clearTimeout(r):(ss.call(this),t=w(e=n||o.mouse(this)),D(i)),r=setTimeout(function(){r=null,E(i)},50),H(),C(Math.pow(2,.002*Ht())*f.k),A(e,t),F(i)}function I(){var t=o.mouse(this),e=Math.log(f.k)/Math.LN2;S(this,t,w(t),o.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}return jt||(jt="onwheel"in l?(Ht=function(){return-o.event.deltaY*(o.event.deltaMode?120:1)},"wheel"):"onmousewheel"in l?(Ht=function(){return o.event.wheelDelta},"mousewheel"):(Ht=function(){return-o.event.detail},"MozMousePixelScroll")),M.event=function(t){t.each(function(){var t=k.of(this,arguments),n=f;cs?o.select(this).transition().each("start.zoom",function(){f=this.__chart__||{x:0,y:0,k:1},D(t)}).tween("zoom:zoom",function(){var r=h[0],i=e?e[0]:r/2,a=e?e[1]:h[1]/2,s=o.interpolateZoom([(i-f.x)/f.k,(a-f.y)/f.k,r/f.k],[(i-n.x)/n.k,(a-n.y)/n.k,r/n.k]);return function(e){var n=s(e),o=r/n[2];this.__chart__=f={x:i-n[0]*o,y:a-n[1]*o,k:o},F(t)}}).each("interrupt.zoom",function(){E(t)}).each("end.zoom",function(){E(t)}):(this.__chart__=f,D(t),F(t),E(t))})},M.translate=function(t){return arguments.length?(f={x:+t[0],y:+t[1],k:f.k},_(),M):[f.x,f.y]},M.scale=function(t){return arguments.length?(f={x:f.x,y:f.y,k:+t},_(),M):f.k},M.scaleExtent=function(t){return arguments.length?(p=null==t?qt:[+t[0],+t[1]],M):p},M.center=function(t){return arguments.length?(n=t&&[+t[0],+t[1]],M):n},M.size=function(t){return arguments.length?(h=t&&[+t[0],+t[1]],M):h},M.duration=function(t){return arguments.length?(g=+t,M):g},M.x=function(t){return arguments.length?(s=t,a=t.copy(),f={x:0,y:0,k:1},M):s},M.y=function(t){return arguments.length?(d=t,u=t.copy(),f={x:0,y:0,k:1},M):d},o.rebind(M,k,"on")};var Ht,jt,qt=[0,1/0];function Yt(){}function Xt(t,e,n){return this instanceof Xt?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof Xt?new Xt(t.h,t.s,t.l):he(""+t,pe,Xt):new Xt(t,e,n)}o.color=Yt,Yt.prototype.toString=function(){return this.rgb()+""},o.hsl=Xt;var Ut=Xt.prototype=new Yt;function Gt(t,e,n){var r,i;function o(t){return Math.round(255*function(t){return t>360?t-=360:t<0&&(t+=360),t<60?r+(i-r)*t/60:t<180?i:t<240?r+(i-r)*(240-t)/60:r}(t))}return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:e>1?1:e,r=2*(n=n<0?0:n>1?1:n)-(i=n<=.5?n*(1+e):n+e-n*e),new le(o(t+120),o(t),o(t-120))}function Zt(t,e,n){return this instanceof Zt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof Zt?new Zt(t.h,t.c,t.l):function(t,e,n){return t>0?new Zt(Math.atan2(n,e)*Tt,Math.sqrt(e*e+n*n),t):new Zt(NaN,NaN,t)}(t instanceof $t?t.l:(t=ge((t=o.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new Zt(t,e,n)}Ut.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new Xt(this.h,this.s,this.l/t)},Ut.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new Xt(this.h,this.s,t*this.l)},Ut.rgb=function(){return Gt(this.h,this.s,this.l)},o.hcl=Zt;var Kt=Zt.prototype=new Yt;function Jt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new $t(n,Math.cos(t*=Pt)*e,Math.sin(t)*e)}function $t(t,e,n){return this instanceof $t?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof $t?new $t(t.l,t.a,t.b):t instanceof Zt?Jt(t.h,t.c,t.l):ge((t=le(t)).r,t.g,t.b):new $t(t,e,n)}Kt.brighter=function(t){return new Zt(this.h,this.c,Math.min(100,this.l+Qt*(arguments.length?t:1)))},Kt.darker=function(t){return new Zt(this.h,this.c,Math.max(0,this.l-Qt*(arguments.length?t:1)))},Kt.rgb=function(){return Jt(this.h,this.c,this.l).rgb()},o.lab=$t;var Qt=18,te=.95047,ee=1,ne=1.08883,re=$t.prototype=new Yt;function ie(t,e,n){var r=(t+16)/116,i=r+e/500,o=r-n/200;return new le(se(3.2404542*(i=oe(i)*te)-1.5371385*(r=oe(r)*ee)-.4985314*(o=oe(o)*ne)),se(-.969266*i+1.8760108*r+.041556*o),se(.0556434*i-.2040259*r+1.0572252*o))}function oe(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function ae(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function se(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function le(t,e,n){return this instanceof le?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof le?new le(t.r,t.g,t.b):he(""+t,le,Gt):new le(t,e,n)}function ue(t){return new le(t>>16,t>>8&255,255&t)}function ce(t){return ue(t)+""}re.brighter=function(t){return new $t(Math.min(100,this.l+Qt*(arguments.length?t:1)),this.a,this.b)},re.darker=function(t){return new $t(Math.max(0,this.l-Qt*(arguments.length?t:1)),this.a,this.b)},re.rgb=function(){return ie(this.l,this.a,this.b)},o.rgb=le;var de=le.prototype=new Yt;function fe(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function he(t,e,n){t=t.toLowerCase();var r,i,o,a=0,s=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(t))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(me(i[0]),me(i[1]),me(i[2]))}return(o=ye.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,l=15&o,l|=l<<4):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,l=255&o)),e(a,s,l))}function pe(t,e,n){var r,i,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,l=(a+o)/2;return s?(i=l<.5?s/(a+o):s/(2-a-o),r=t==a?(e-n)/s+(e<n?6:0):e==a?(n-t)/s+2:(t-e)/s+4,r*=60):(r=NaN,i=l>0&&l<1?0:r),new Xt(r,i,l)}function ge(t,e,n){var r=ae((.4124564*(t=ve(t))+.3575761*(e=ve(e))+.1804375*(n=ve(n)))/te),i=ae((.2126729*t+.7151522*e+.072175*n)/ee);return $t(116*i-16,500*(r-i),200*(i-ae((.0193339*t+.119192*e+.9503041*n)/ne)))}function ve(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function me(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}de.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&e<i&&(e=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new le(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new le(i,i,i)},de.darker=function(t){return new le((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},de.hsl=function(){return pe(this.r,this.g,this.b)},de.toString=function(){return"#"+fe(this.r)+fe(this.g)+fe(this.b)};var ye=o.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function xe(t){return"function"==typeof t?t:function(){return t}}function be(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),ke(e,n,t,r)}}function ke(t,e,n,r){var i={},a=o.dispatch("beforesend","progress","load","error"),l={},u=new XMLHttpRequest,c=null;function d(){var t,e=u.status;if(!e&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(u)||e>=200&&e<300||304===e){try{t=n.call(i,u)}catch(t){return void a.error.call(i,t)}a.load.call(i,t)}else a.error.call(i,u)}return!this.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(t)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=d:u.onreadystatechange=function(){u.readyState>3&&d()},u.onprogress=function(t){var e=o.event;o.event=t;try{a.progress.call(i,u)}finally{o.event=e}},i.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?l[t]:(null==e?delete l[t]:l[t]=e+"",i)},i.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",i):e},i.responseType=function(t){return arguments.length?(c=t,i):c},i.response=function(t){return n=t,i},["get","post"].forEach(function(t){i[t]=function(){return i.send.apply(i,[t].concat(s(arguments)))}}),i.send=function(n,r,o){if(2===arguments.length&&"function"==typeof r&&(o=r,r=null),u.open(n,t,!0),null==e||"accept"in l||(l.accept=e+",*/*"),u.setRequestHeader)for(var s in l)u.setRequestHeader(s,l[s]);return null!=e&&u.overrideMimeType&&u.overrideMimeType(e),null!=c&&(u.responseType=c),null!=o&&i.on("error",o).on("load",function(t){o(null,t)}),a.beforesend.call(i,u),u.send(null==r?null:r),i},i.abort=function(){return u.abort(),i},o.rebind(i,a,"on"),null==r?i:i.get(function(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}(r))}ye.forEach(function(t,e){ye.set(t,ue(e))}),o.functor=xe,o.xhr=be(O),o.dsv=function(t,e){var n=new RegExp('["'+t+"\n]"),r=t.charCodeAt(0);function i(t,n,r){arguments.length<3&&(r=n,n=null);var i=ke(t,e,null==n?o:a(n),r);return i.row=function(t){return arguments.length?i.response(null==(n=t)?o:a(t)):n},i}function o(t){return i.parse(t.responseText)}function a(t){return function(e){return i.parse(e.responseText,t)}}function s(e){return e.map(l).join(t)}function l(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return i.parse=function(t,e){var n;return i.parseRows(t,function(t,r){if(n)return n(t,r-1);var i=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");n=e?function(t,n){return e(i(t),n)}:i})},i.parseRows=function(t,e){var n,i,o={},a={},s=[],l=t.length,u=0,c=0;function d(){if(u>=l)return a;if(i)return i=!1,o;var e=u;if(34===t.charCodeAt(e)){for(var n=e;n++<l;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}return u=n+2,13===(s=t.charCodeAt(n+1))?(i=!0,10===t.charCodeAt(n+2)&&++u):10===s&&(i=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;u<l;){var s,c=1;if(10===(s=t.charCodeAt(u++)))i=!0;else if(13===s)i=!0,10===t.charCodeAt(u)&&(++u,++c);else if(s!==r)continue;return t.slice(e,u-c)}return t.slice(e)}for(;(n=d())!==a;){for(var f=[];n!==o&&n!==a;)f.push(n),n=d();e&&null==(f=e(f,c++))||s.push(f)}return s},i.format=function(e){if(Array.isArray(e[0]))return i.formatRows(e);var n=new I,r=[];return e.forEach(function(t){for(var e in t)n.has(e)||r.push(n.add(e))}),[r.map(l).join(t)].concat(e.map(function(e){return r.map(function(t){return l(e[t])}).join(t)})).join("\n")},i.formatRows=function(t){return t.map(s).join("\n")},i},o.csv=o.dsv(",","text/csv"),o.tsv=o.dsv("\t","text/tab-separated-values");var Me,we,Ce,Ae,Se,_e=this[W(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function De(){var t=Fe(),e=Ee()-t;e>24?(isFinite(e)&&(clearTimeout(Ae),Ae=setTimeout(De,e)),Ce=0):(Ce=1,_e(De))}function Fe(){var t=Date.now();for(Se=Me;Se;)t>=Se.t&&(Se.f=Se.c(t-Se.t)),Se=Se.n;return t}function Ee(){for(var t,e=Me,n=1/0;e;)e.f?e=t?t.n=e.n:Me=e.n:(e.t<n&&(n=e.t),e=(t=e).n);return we=t,n}function Ne(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}o.timer=function(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i={c:t,t:n+e,f:!1,n:null};we?we.n=i:Me=i,we=i,Ce||(Ae=clearTimeout(Ae),Ce=1,_e(De))},o.timer.flush=function(){Fe(),Ee()},o.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var Pe=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(function(t,e){var n=Math.pow(10,3*M(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}});o.formatPrefix=function(t,e){var n=0;return t&&(t<0&&(t*=-1),e&&(t=o.round(t,Ne(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),Pe[8+n/3]};var Te=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Ie=o.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=o.round(t,Ne(t,e))).toFixed(Math.max(0,Math.min(20,Ne(t*(1+1e-15),e))))}});function Oe(t){return t+""}var Le=o.time={},We=Date;function ze(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}ze.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Re.setUTCDate.apply(this._,arguments)},setDay:function(){Re.setUTCDay.apply(this._,arguments)},setFullYear:function(){Re.setUTCFullYear.apply(this._,arguments)},setHours:function(){Re.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Re.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Re.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Re.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Re.setUTCSeconds.apply(this._,arguments)},setTime:function(){Re.setTime.apply(this._,arguments)}};var Re=Date.prototype;function Be(t,e,n){function r(e){var n=t(e),r=o(n,1);return e-n<r-e?n:r}function i(n){return e(n=t(new We(n-1)),1),n}function o(t,n){return e(t=new We(+t),n),t}function a(t,r,o){var a=i(t),s=[];if(o>1)for(;a<r;)n(a)%o||s.push(new Date(+a)),e(a,1);else for(;a<r;)s.push(new Date(+a)),e(a,1);return s}t.floor=t,t.round=r,t.ceil=i,t.offset=o,t.range=a;var s=t.utc=Ve(t);return s.floor=s,s.round=Ve(r),s.ceil=Ve(i),s.offset=Ve(o),s.range=function(t,e,n){try{We=ze;var r=new ze;return r._=t,a(r,e,n)}finally{We=Date}},t}function Ve(t){return function(e,n){try{We=ze;var r=new ze;return r._=e,t(r,n)._}finally{We=Date}}}Le.year=Be(function(t){return(t=Le.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),Le.years=Le.year.range,Le.years.utc=Le.year.utc.range,Le.day=Be(function(t){var e=new We(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),Le.days=Le.day.range,Le.days.utc=Le.day.utc.range,Le.dayOfYear=function(t){var e=Le.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=Le[t]=Be(function(t){return(t=Le.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=Le.year(t).getDay();return Math.floor((Le.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});Le[t+"s"]=n.range,Le[t+"s"].utc=n.utc.range,Le[t+"OfYear"]=function(t){var n=Le.year(t).getDay();return Math.floor((Le.dayOfYear(t)+(n+e)%7)/7)}}),Le.week=Le.sunday,Le.weeks=Le.sunday.range,Le.weeks.utc=Le.sunday.utc.range,Le.weekOfYear=Le.sundayOfYear;var He={"-":"",_:" ",0:"0"},je=/^\s*\d+/,qe=/^%/;function Ye(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Xe(t){return new RegExp("^(?:"+t.map(o.requote).join("|")+")","i")}function Ue(t){for(var e=new C,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Ge(t,e,n){je.lastIndex=0;var r=je.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ze(t,e,n){je.lastIndex=0;var r=je.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Ke(t,e,n){je.lastIndex=0;var r=je.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function Je(t,e,n){je.lastIndex=0;var r=je.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function $e(t,e,n){je.lastIndex=0;var r,i=je.exec(e.slice(n,n+2));return i?(t.y=(r=+i[0])+(r>68?1900:2e3),n+i[0].length):-1}function Qe(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function tn(t,e,n){je.lastIndex=0;var r=je.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function en(t,e,n){je.lastIndex=0;var r=je.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function nn(t,e,n){je.lastIndex=0;var r=je.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function rn(t,e,n){je.lastIndex=0;var r=je.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function on(t,e,n){je.lastIndex=0;var r=je.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function an(t,e,n){je.lastIndex=0;var r=je.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function sn(t,e,n){je.lastIndex=0;var r=je.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ln(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=M(e)/60|0,i=M(e)%60;return n+Ye(r,"0",2)+Ye(i,"0",2)}function un(t,e,n){qe.lastIndex=0;var r=qe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function cn(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}o.locale=function(t){return{numberFormat:function(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,a=r&&n?function(t,e){for(var i=t.length,o=[],a=0,s=r[0],l=0;i>0&&s>0&&(l+s+1>e&&(s=Math.max(1,e-l)),o.push(t.substring(i-=s,i+s)),!((l+=s+1)>e));)s=r[a=(a+1)%r.length];return o.reverse().join(n)}:O;return function(t){var n=Te.exec(t),r=n[1]||" ",s=n[2]||">",l=n[3]||"-",u=n[4]||"",c=n[5],d=+n[6],f=n[7],h=n[8],p=n[9],g=1,v="",m="",y=!1,x=!0;switch(h&&(h=+h.substring(1)),(c||"0"===r&&"="===s)&&(c=r="0",s="="),p){case"n":f=!0,p="g";break;case"%":g=100,m="%",p="f";break;case"p":g=100,m="%",p="r";break;case"b":case"o":case"x":case"X":"#"===u&&(v="0"+p.toLowerCase());case"c":x=!1;case"d":y=!0,h=0;break;case"s":g=-1,p="r"}"$"===u&&(v=i[0],m=i[1]),"r"!=p||h||(p="g"),null!=h&&("g"==p?h=Math.max(1,Math.min(21,h)):"e"!=p&&"f"!=p||(h=Math.max(0,Math.min(20,h)))),p=Ie.get(p)||Oe;var b=c&&f;return function(t){var n=m;if(y&&t%1)return"";var i=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===l?"":l;if(g<0){var u=o.formatPrefix(t,h);t=u.scale(t),n=u.symbol+m}else t*=g;var k,M,w=(t=p(t,h)).lastIndexOf(".");if(w<0){var C=x?t.lastIndexOf("e"):-1;C<0?(k=t,M=""):(k=t.substring(0,C),M=t.substring(C))}else k=t.substring(0,w),M=e+t.substring(w+1);!c&&f&&(k=a(k,1/0));var A=v.length+k.length+M.length+(b?0:i.length),S=A<d?new Array(A=d-A+1).join(r):"";return b&&(k=a(S+k,S.length?d-M.length:1/0)),i+=v,t=k+M,("<"===s?i+t+S:">"===s?S+i+t:"^"===s?S.substring(0,A>>=1)+i+t+S.substring(A):i+(b?t:S+t))+n}}}(t),timeFormat:function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,l=t.months,u=t.shortMonths;function c(t){var e=t.length;function n(n){for(var r,i,o,a=[],s=-1,l=0;++s<e;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(i=He[r=t.charAt(++s)])&&(r=t.charAt(++s)),(o=k[r])&&(r=o(n,null==i?"e"===r?" ":"0":i)),a.push(r),l=s+1);return a.push(t.slice(l,s)),a.join("")}return n.parse=function(e){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(d(n,t,e,0)!=e.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var r=null!=n.Z&&We!==ze,i=new(r?ze:We);return"j"in n?i.setFullYear(n.y,0,n.j):"w"in n&&("W"in n||"U"in n)?(i.setFullYear(n.y,0,1),i.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(i.getDay()+5)%7:n.w+7*n.U-(i.getDay()+6)%7)):i.setFullYear(n.y,n.m,n.d),i.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),r?i._:i},n.toString=function(){return t},n}function d(t,e,n,r){for(var i,o,a,s=0,l=e.length,u=n.length;s<l;){if(r>=u)return-1;if(37===(i=e.charCodeAt(s++))){if(a=e.charAt(s++),!(o=M[a in He?e.charAt(s++):a])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}c.multi=(c.utc=function(t){var e=c(t);function n(t){try{var n=new(We=ze);return n._=t,e(n)}finally{We=Date}}return n.parse=function(t){try{We=ze;var n=e.parse(t);return n&&n._}finally{We=Date}},n.toString=e.toString,n}).multi=cn;var f=o.map(),h=Xe(a),p=Ue(a),g=Xe(s),v=Ue(s),m=Xe(l),y=Ue(l),x=Xe(u),b=Ue(u);i.forEach(function(t,e){f.set(t.toLowerCase(),e)});var k={a:function(t){return s[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return l[t.getMonth()]},c:c(e),d:function(t,e){return Ye(t.getDate(),e,2)},e:function(t,e){return Ye(t.getDate(),e,2)},H:function(t,e){return Ye(t.getHours(),e,2)},I:function(t,e){return Ye(t.getHours()%12||12,e,2)},j:function(t,e){return Ye(1+Le.dayOfYear(t),e,3)},L:function(t,e){return Ye(t.getMilliseconds(),e,3)},m:function(t,e){return Ye(t.getMonth()+1,e,2)},M:function(t,e){return Ye(t.getMinutes(),e,2)},p:function(t){return i[+(t.getHours()>=12)]},S:function(t,e){return Ye(t.getSeconds(),e,2)},U:function(t,e){return Ye(Le.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Ye(Le.mondayOfYear(t),e,2)},x:c(n),X:c(r),y:function(t,e){return Ye(t.getFullYear()%100,e,2)},Y:function(t,e){return Ye(t.getFullYear()%1e4,e,4)},Z:ln,"%":function(){return"%"}},M={a:function(t,e,n){g.lastIndex=0;var r=g.exec(e.slice(n));return r?(t.w=v.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){h.lastIndex=0;var r=h.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){x.lastIndex=0;var r=x.exec(e.slice(n));return r?(t.m=b.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){m.lastIndex=0;var r=m.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,e,n){return d(t,k.c.toString(),e,n)},d:en,e:en,H:rn,I:rn,j:nn,L:sn,m:tn,M:on,p:function(t,e,n){var r=f.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)},S:an,U:Ze,w:Ge,W:Ke,x:function(t,e,n){return d(t,k.x.toString(),e,n)},X:function(t,e,n){return d(t,k.X.toString(),e,n)},y:$e,Y:Je,Z:Qe,"%":un};return c}(t)}};var dn=o.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function fn(){}o.format=dn.numberFormat,o.geo={},fn.prototype={s:0,t:0,add:function(t){pn(t,this.t,hn),pn(hn.s,this.s,this),this.s?this.t+=hn.t:this.s=hn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var hn=new fn;function pn(t,e,n){var r=n.s=t+e,i=r-t;n.t=t-(r-i)+(e-i)}function gn(t,e){t&&mn.hasOwnProperty(t.type)&&mn[t.type](t,e)}o.geo.stream=function(t,e){t&&vn.hasOwnProperty(t.type)?vn[t.type](t,e):gn(t,e)};var vn={Feature:function(t,e){gn(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)gn(n[r].geometry,e)}},mn={Sphere:function(t,e){e.sphere()},Point:function(t,e){e.point((t=t.coordinates)[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)e.point((t=n[r])[0],t[1],t[2])},LineString:function(t,e){yn(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)yn(n[r],e,0)},Polygon:function(t,e){xn(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)xn(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)gn(n[r],e)}};function yn(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)e.point((r=t[i])[0],r[1],r[2]);e.lineEnd()}function xn(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)yn(t[n],e,1);e.polygonEnd()}o.geo.area=function(t){return bn=0,o.geo.stream(t,Tn),bn};var bn,kn,Mn,wn,Cn,An,Sn,_n,Dn,Fn,En,Nn,Pn=new fn,Tn={sphere:function(){bn+=4*Dt},point:R,lineStart:R,lineEnd:R,polygonStart:function(){Pn.reset(),Tn.lineStart=In},polygonEnd:function(){var t=2*Pn;bn+=t<0?4*Dt+t:t,Tn.lineStart=Tn.lineEnd=Tn.point=R}};function In(){var t,e,n,r,i;function o(t,e){e=e*Pt/2+Dt/4;var o=(t*=Pt)-n,a=o>=0?1:-1,s=a*o,l=Math.cos(e),u=Math.sin(e),c=i*u,d=r*l+c*Math.cos(s),f=c*a*Math.sin(s);Pn.add(Math.atan2(f,d)),n=t,r=l,i=u}Tn.point=function(a,s){Tn.point=o,n=(t=a)*Pt,r=Math.cos(s=(e=s)*Pt/2+Dt/4),i=Math.sin(s)},Tn.lineEnd=function(){o(t,e)}}function On(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function Ln(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Wn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function zn(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Rn(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Bn(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Vn(t){return[Math.atan2(t[1],t[0]),Wt(t[2])]}function Hn(t,e){return M(t[0]-e[0])<St&&M(t[1]-e[1])<St}o.geo.bounds=function(){var t,e,n,r,i,a,s,l,u,c,d,f={point:h,lineStart:g,lineEnd:v,polygonStart:function(){f.point=m,f.lineStart=y,f.lineEnd=x,u=0,Tn.polygonStart()},polygonEnd:function(){Tn.polygonEnd(),f.point=h,f.lineStart=g,f.lineEnd=v,Pn<0?(t=-(n=180),e=-(r=90)):u>St?r=90:u<-St&&(e=-90),d[0]=t,d[1]=n}};function h(i,o){c.push(d=[t=i,n=i]),o<e&&(e=o),o>r&&(r=o)}function p(o,a){var s=On([o*Pt,a*Pt]);if(l){var u=Wn(l,s),c=Wn([u[1],-u[0],0],u);Bn(c),c=Vn(c);var d=o-i,f=d>0?1:-1,p=c[0]*Tt*f,g=M(d)>180;if(g^(f*i<p&&p<f*o))(v=c[1]*Tt)>r&&(r=v);else if(g^(f*i<(p=(p+360)%360-180)&&p<f*o)){var v;(v=-c[1]*Tt)<e&&(e=v)}else a<e&&(e=a),a>r&&(r=a);g?o<i?b(t,o)>b(t,n)&&(n=o):b(o,n)>b(t,n)&&(t=o):n>=t?(o<t&&(t=o),o>n&&(n=o)):o>i?b(t,o)>b(t,n)&&(n=o):b(o,n)>b(t,n)&&(t=o)}else h(o,a);l=s,i=o}function g(){f.point=p}function v(){d[0]=t,d[1]=n,f.point=h,l=null}function m(t,e){if(l){var n=t-i;u+=M(n)>180?n+(n>0?360:-360):n}else a=t,s=e;Tn.point(t,e),p(t,e)}function y(){Tn.lineStart()}function x(){m(a,s),Tn.lineEnd(),M(u)>St&&(t=-(n=180)),d[0]=t,d[1]=n,l=null}function b(t,e){return(e-=t)<0?e+360:e}function k(t,e){return t[0]-e[0]}function w(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}return function(i){if(r=n=-(t=e=1/0),c=[],o.geo.stream(i,f),u=c.length){c.sort(k);for(var a=1,s=[g=c[0]];a<u;++a)w((h=c[a])[0],g)||w(h[1],g)?(b(g[0],h[1])>b(g[0],g[1])&&(g[1]=h[1]),b(h[0],g[1])>b(g[0],g[1])&&(g[0]=h[0])):s.push(g=h);for(var l,u,h,p=-1/0,g=(a=0,s[u=s.length-1]);a<=u;g=h,++a)(l=b(g[1],(h=s[a])[0]))>p&&(p=l,t=h[0],n=g[1])}return c=d=null,t===1/0||e===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,e],[n,r]]}}(),o.geo.centroid=function(t){kn=Mn=wn=Cn=An=Sn=_n=Dn=Fn=En=Nn=0,o.geo.stream(t,jn);var e=Fn,n=En,r=Nn,i=e*e+n*n+r*r;return i<_t&&(e=Sn,n=_n,r=Dn,Mn<St&&(e=wn,n=Cn,r=An),(i=e*e+n*n+r*r)<_t)?[NaN,NaN]:[Math.atan2(n,e)*Tt,Wt(r/Math.sqrt(i))*Tt]};var jn={sphere:R,point:qn,lineStart:Xn,lineEnd:Un,polygonStart:function(){jn.lineStart=Gn},polygonEnd:function(){jn.lineStart=Xn}};function qn(t,e){t*=Pt;var n=Math.cos(e*=Pt);Yn(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Yn(t,e,n){wn+=(t-wn)/++kn,Cn+=(e-Cn)/kn,An+=(n-An)/kn}function Xn(){var t,e,n;function r(r,i){r*=Pt;var o=Math.cos(i*=Pt),a=o*Math.cos(r),s=o*Math.sin(r),l=Math.sin(i),u=Math.atan2(Math.sqrt((u=e*l-n*s)*u+(u=n*a-t*l)*u+(u=t*s-e*a)*u),t*a+e*s+n*l);Mn+=u,Sn+=u*(t+(t=a)),_n+=u*(e+(e=s)),Dn+=u*(n+(n=l)),Yn(t,e,n)}jn.point=function(i,o){i*=Pt;var a=Math.cos(o*=Pt);t=a*Math.cos(i),e=a*Math.sin(i),n=Math.sin(o),jn.point=r,Yn(t,e,n)}}function Un(){jn.point=qn}function Gn(){var t,e,n,r,i;function o(t,e){t*=Pt;var o=Math.cos(e*=Pt),a=o*Math.cos(t),s=o*Math.sin(t),l=Math.sin(e),u=r*l-i*s,c=i*a-n*l,d=n*s-r*a,f=Math.sqrt(u*u+c*c+d*d),h=n*a+r*s+i*l,p=f&&-Lt(h)/f,g=Math.atan2(f,h);Fn+=p*u,En+=p*c,Nn+=p*d,Mn+=g,Sn+=g*(n+(n=a)),_n+=g*(r+(r=s)),Dn+=g*(i+(i=l)),Yn(n,r,i)}jn.point=function(a,s){t=a,e=s,jn.point=o,a*=Pt;var l=Math.cos(s*=Pt);n=l*Math.cos(a),r=l*Math.sin(a),i=Math.sin(s),Yn(n,r,i)},jn.lineEnd=function(){o(t,e),jn.lineEnd=Un,jn.point=qn}}function Zn(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function Kn(){return!0}function Jn(t,e,n,r,i){var o=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(Hn(n,r)){i.lineStart();for(var s=0;s<e;++s)i.point((n=t[s])[0],n[1]);i.lineEnd()}else{var l=new Qn(n,t,null,!0),u=new Qn(n,null,l,!1);l.o=u,o.push(l),a.push(u),u=new Qn(r,null,l=new Qn(r,t,null,!1),!0),l.o=u,o.push(l),a.push(u)}}}),a.sort(e),$n(o),$n(a),o.length){for(var s=0,l=n,u=a.length;s<u;++s)a[s].e=l=!l;for(var c,d,f=o[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(s=0,u=c.length;s<u;++s)i.point((d=c[s])[0],d[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(s=(c=h.p.z).length-1;s>=0;--s)i.point((d=c[s])[0],d[1]);else r(h.x,h.p.x,-1,i);h=h.p}c=(h=h.o).z,p=!p}while(!h.v);i.lineEnd()}}}function $n(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function Qn(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function tr(t,e,n,r){return function(i,a){var s,l=e(a),u=i.invert(r[0],r[1]),c={point:d,lineStart:h,lineEnd:p,polygonStart:function(){c.point=b,c.lineStart=k,c.lineEnd=M,s=[],g=[]},polygonEnd:function(){c.point=d,c.lineStart=h,c.lineEnd=p,s=o.merge(s);var t=function(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;Pn.reset();for(var s=0,l=e.length;s<l;++s){var u=e[s],c=u.length;if(c)for(var d=u[0],f=d[0],h=d[1]/2+Dt/4,p=Math.sin(h),g=Math.cos(h),v=1;;){v===c&&(v=0);var m=(t=u[v])[0],y=t[1]/2+Dt/4,x=Math.sin(y),b=Math.cos(y),k=m-f,M=k>=0?1:-1,w=M*k,C=w>Dt,A=p*x;if(Pn.add(Math.atan2(A*M*Math.sin(w),g*b+A*Math.cos(w))),o+=C?k+M*Ft:k,C^f>=n^m>=n){var S=Wn(On(d),On(t));Bn(S);var _=Wn(i,S);Bn(_);var D=(C^k>=0?-1:1)*Wt(_[2]);(r>D||r===D&&(S[0]||S[1]))&&(a+=C^k>=0?1:-1)}if(!v++)break;f=m,p=x,g=b,d=t}}return(o<-St||o<St&&Pn<0)^1&a}(u,g);s.length?(x||(a.polygonStart(),x=!0),Jn(s,rr,t,n,a)):t&&(x||(a.polygonStart(),x=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),x&&(a.polygonEnd(),x=!1),s=g=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function d(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&a.point(e,n)}function f(t,e){var n=i(t,e);l.point(n[0],n[1])}function h(){c.point=f,l.lineStart()}function p(){c.point=d,l.lineEnd()}var g,v,m=nr(),y=e(m),x=!1;function b(t,e){v.push([t,e]);var n=i(t,e);y.point(n[0],n[1])}function k(){y.lineStart(),v=[]}function M(){b(v[0][0],v[0][1]),y.lineEnd();var t,e=y.clean(),n=m.buffer(),r=n.length;if(v.pop(),g.push(v),v=null,r)if(1&e){var i,o=-1;if((r=(t=n[0]).length-1)>0){for(x||(a.polygonStart(),x=!0),a.lineStart();++o<r;)a.point((i=t[o])[0],i[1]);a.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),s.push(n.filter(er))}return c}}function er(t){return t.length>1}function nr(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:R,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function rr(t,e){return((t=t.x)[0]<0?t[1]-Nt-St:Nt-t[1])-((e=e.x)[0]<0?e[1]-Nt-St:Nt-e[1])}var ir=tr(Kn,function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Dt:-Dt,l=M(o-n);M(l-Dt)<St?(t.point(n,r=(r+a)/2>0?Nt:-Nt),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&l>=Dt&&(M(n-i)<St&&(n-=i*St),M(o-s)<St&&(o-=s*St),r=function(t,e,n,r){var i,o,a=Math.sin(t-n);return M(a)>St?Math.atan((Math.sin(e)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var i;if(null==t)r.point(-Dt,i=n*Nt),r.point(0,i),r.point(Dt,i),r.point(Dt,0),r.point(Dt,-i),r.point(0,-i),r.point(-Dt,-i),r.point(-Dt,0),r.point(-Dt,i);else if(M(t[0]-e[0])>St){var o=t[0]<e[0]?Dt:-Dt;r.point(-o,i=n*o/2),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])},[-Dt,-Dt/2]);function or(t,e,n,r){return function(i){var o,a=i.a,s=i.b,l=a.x,u=a.y,c=0,d=1,f=s.x-l,h=s.y-u;if(o=t-l,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<d&&(d=o)}else if(f>0){if(o>d)return;o>c&&(c=o)}if(o=n-l,f||!(o<0)){if(o/=f,f<0){if(o>d)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<d&&(d=o)}if(o=e-u,h||!(o>0)){if(o/=h,h<0){if(o<c)return;o<d&&(d=o)}else if(h>0){if(o>d)return;o>c&&(c=o)}if(o=r-u,h||!(o<0)){if(o/=h,h<0){if(o>d)return;o>c&&(c=o)}else if(h>0){if(o<c)return;o<d&&(d=o)}return c>0&&(i.a={x:l+c*f,y:u+c*h}),d<1&&(i.b={x:l+d*f,y:u+d*h}),i}}}}}}var ar=1e9;function sr(t,e,n,r){return function(l){var u,c,d,f,h,p,g,v,m,y,x,b=l,k=nr(),M=or(t,e,n,r),w={point:S,lineStart:function(){w.point=_,c&&c.push(d=[]),y=!0,m=!1,g=v=NaN},lineEnd:function(){u&&(_(f,h),p&&m&&k.rejoin(),u.push(k.buffer())),w.point=S,m&&l.lineEnd()},polygonStart:function(){l=k,u=[],c=[],x=!0},polygonEnd:function(){l=b,u=o.merge(u);var e=function(t){for(var e=0,n=c.length,r=t[1],i=0;i<n;++i)for(var o,a=1,s=c[i],l=s.length,u=s[0];a<l;++a)o=s[a],u[1]<=r?o[1]>r&&Ot(u,o,t)>0&&++e:o[1]<=r&&Ot(u,o,t)<0&&--e,u=o;return 0!==e}([t,r]),n=x&&e,i=u.length;(n||i)&&(l.polygonStart(),n&&(l.lineStart(),C(null,null,1,l),l.lineEnd()),i&&Jn(u,a,e,C,l),l.polygonEnd()),u=c=d=null}};function C(o,a,l,u){var c=0,d=0;if(null==o||(c=i(o,l))!==(d=i(a,l))||s(o,a)<0^l>0)do{u.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+l+4)%4)!==d);else u.point(a[0],a[1])}function A(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function S(t,e){A(t,e)&&l.point(t,e)}function _(t,e){var n=A(t=Math.max(-ar,Math.min(ar,t)),e=Math.max(-ar,Math.min(ar,e)));if(c&&d.push([t,e]),y)f=t,h=e,p=n,y=!1,n&&(l.lineStart(),l.point(t,e));else if(n&&m)l.point(t,e);else{var r={a:{x:g,y:v},b:{x:t,y:e}};M(r)?(m||(l.lineStart(),l.point(r.a.x,r.a.y)),l.point(r.b.x,r.b.y),n||l.lineEnd(),x=!1):n&&(l.lineStart(),l.point(t,e),x=!1)}g=t,v=e,m=n}return w};function i(r,i){return M(r[0]-t)<St?i>0?0:3:M(r[0]-n)<St?i>0?2:1:M(r[1]-e)<St?i>0?1:0:i>0?3:2}function a(t,e){return s(t.x,e.x)}function s(t,e){var n=i(t,1),r=i(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}}function lr(t){var e=0,n=Dt/3,r=Er(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Dt/180,n=t[1]*Dt/180):[e/Dt*180,n/Dt*180]},i}function ur(t,e){var n=Math.sin(t),r=(n+Math.sin(e))/2,i=1+n*(2*r-n),o=Math.sqrt(i)/r;function a(t,e){var n=Math.sqrt(i-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),o-n*Math.cos(t)]}return a.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,Wt((i-(t*t+n*n)*r*r)/(2*r))]},a}o.geo.clipExtent=function(){var t,e,n,r,i,o,a={stream:function(t){return i&&(i.valid=!1),(i=o(t)).valid=!0,i},extent:function(s){return arguments.length?(o=sr(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),a):[[t,e],[n,r]]}};return a.extent([[0,0],[960,500]])},(o.geo.conicEqualArea=function(){return lr(ur)}).raw=ur,o.geo.albers=function(){return o.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},o.geo.albersUsa=function(){var t,e,n,r,i=o.geo.albers(),a=o.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=o.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(e,n){t=[e,n]}};function u(i){var o=i[0],a=i[1];return t=null,e(o,a),t||(n(o,a),t)||r(o,a),t}return u.invert=function(t){var e=i.scale(),n=i.translate(),r=(t[0]-n[0])/e,o=(t[1]-n[1])/e;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?a:o>=.166&&o<.234&&r>=-.214&&r<-.115?s:i).invert(t)},u.stream=function(t){var e=i.stream(t),n=a.stream(t),r=s.stream(t);return{point:function(t,i){e.point(t,i),n.point(t,i),r.point(t,i)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},u.precision=function(t){return arguments.length?(i.precision(t),a.precision(t),s.precision(t),u):i.precision()},u.scale=function(t){return arguments.length?(i.scale(t),a.scale(.35*t),s.scale(t),u.translate(i.translate())):i.scale()},u.translate=function(t){if(!arguments.length)return i.translate();var o=i.scale(),c=+t[0],d=+t[1];return e=i.translate(t).clipExtent([[c-.455*o,d-.238*o],[c+.455*o,d+.238*o]]).stream(l).point,n=a.translate([c-.307*o,d+.201*o]).clipExtent([[c-.425*o+St,d+.12*o+St],[c-.214*o-St,d+.234*o-St]]).stream(l).point,r=s.translate([c-.205*o,d+.212*o]).clipExtent([[c-.214*o+St,d+.166*o+St],[c-.115*o-St,d+.234*o-St]]).stream(l).point,u},u.scale(1070)};var cr,dr,fr,hr,pr,gr,vr={point:R,lineStart:R,lineEnd:R,polygonStart:function(){dr=0,vr.lineStart=mr},polygonEnd:function(){vr.lineStart=vr.lineEnd=vr.point=R,cr+=M(dr/2)}};function mr(){var t,e,n,r;function i(t,e){dr+=r*t-n*e,n=t,r=e}vr.point=function(o,a){vr.point=i,t=n=o,e=r=a},vr.lineEnd=function(){i(t,e)}}var yr={point:function(t,e){t<fr&&(fr=t),t>pr&&(pr=t),e<hr&&(hr=e),e>gr&&(gr=e)},lineStart:R,lineEnd:R,polygonStart:R,polygonEnd:R};function xr(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var br,kr={point:Mr,lineStart:wr,lineEnd:Cr,polygonStart:function(){kr.lineStart=Ar},polygonEnd:function(){kr.point=Mr,kr.lineStart=wr,kr.lineEnd=Cr}};function Mr(t,e){wn+=t,Cn+=e,++An}function wr(){var t,e;function n(n,r){var i=n-t,o=r-e,a=Math.sqrt(i*i+o*o);Sn+=a*(t+n)/2,_n+=a*(e+r)/2,Dn+=a,Mr(t=n,e=r)}kr.point=function(r,i){kr.point=n,Mr(t=r,e=i)}}function Cr(){kr.point=Mr}function Ar(){var t,e,n,r;function i(t,e){var i=t-n,o=e-r,a=Math.sqrt(i*i+o*o);Sn+=a*(n+t)/2,_n+=a*(r+e)/2,Dn+=a,Fn+=(a=r*t-n*e)*(n+t),En+=a*(r+e),Nn+=3*a,Mr(n=t,r=e)}kr.point=function(o,a){kr.point=i,Mr(t=n=o,e=r=a)},kr.lineEnd=function(){i(t,e)}}function Sr(t){var e=.5,n=Math.cos(30*Pt),r=16;function i(e){return(r?function(e){var n,i,a,s,l,u,c,d,f,h,p,g,v={point:m,lineStart:y,lineEnd:b,polygonStart:function(){e.polygonStart(),v.lineStart=k},polygonEnd:function(){e.polygonEnd(),v.lineStart=y}};function m(n,r){n=t(n,r),e.point(n[0],n[1])}function y(){d=NaN,v.point=x,e.lineStart()}function x(n,i){var a=On([n,i]),s=t(n,i);o(d,f,c,h,p,g,d=s[0],f=s[1],c=n,h=a[0],p=a[1],g=a[2],r,e),e.point(d,f)}function b(){v.point=m,e.lineEnd()}function k(){y(),v.point=M,v.lineEnd=w}function M(t,e){x(n=t,e),i=d,a=f,s=h,l=p,u=g,v.point=x}function w(){o(d,f,c,h,p,g,i,a,n,s,l,u,r,e),v.lineEnd=b,b()}return v}:function(e){return Dr(e,function(n,r){n=t(n,r),e.point(n[0],n[1])})})(e)}function o(r,i,a,s,l,u,c,d,f,h,p,g,v,m){var y=c-r,x=d-i,b=y*y+x*x;if(b>4*e&&v--){var k=s+h,w=l+p,C=u+g,A=Math.sqrt(k*k+w*w+C*C),S=Math.asin(C/=A),_=M(M(C)-1)<St||M(a-f)<St?(a+f)/2:Math.atan2(w,k),D=t(_,S),F=D[0],E=D[1],N=F-r,P=E-i,T=x*N-y*P;(T*T/b>e||M((y*N+x*P)/b-.5)>.3||s*h+l*p+u*g<n)&&(o(r,i,a,s,l,u,F,E,_,k/=A,w/=A,C,v,m),m.point(F,E),o(F,E,_,k,w,C,c,d,f,h,p,g,v,m))}}return i.precision=function(t){return arguments.length?(r=(e=t*t)>0&&16,i):Math.sqrt(e)},i}function _r(t){this.stream=t}function Dr(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Fr(t){return Er(function(){return t})()}function Er(t){var e,n,r,i,a,s,l=Sr(function(t,n){return[(t=e(t,n))[0]*u+i,a-t[1]*u]}),u=150,c=480,d=250,f=0,h=0,p=0,g=0,v=0,m=ir,y=O,x=null,b=null;function k(t){return[(t=r(t[0]*Pt,t[1]*Pt))[0]*u+i,a-t[1]*u]}function w(t){return(t=r.invert((t[0]-i)/u,(a-t[1])/u))&&[t[0]*Tt,t[1]*Tt]}function C(){r=Zn(n=Ir(p,g,v),e);var t=e(f,h);return i=c-t[0]*u,a=d+t[1]*u,A()}function A(){return s&&(s.valid=!1,s=null),k}return k.stream=function(t){return s&&(s.valid=!1),(s=Nr(m(n,l(y(t))))).valid=!0,s},k.clipAngle=function(t){return arguments.length?(m=null==t?(x=t,ir):function(t){var e=Math.cos(t),n=e>0,r=M(e)>St;return tr(i,function(t){var e,s,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(d,f){var h,p=[d,f],g=i(d,f),v=n?g?0:a(d,f):g?a(d+(d<0?Dt:-Dt),f):0;if(!e&&(u=l=g)&&t.lineStart(),g!==l&&(h=o(e,p),(Hn(e,h)||Hn(p,h))&&(p[0]+=St,p[1]+=St,g=i(p[0],p[1]))),g!==l)c=0,g?(t.lineStart(),h=o(p,e),t.point(h[0],h[1])):(h=o(e,p),t.point(h[0],h[1]),t.lineEnd()),e=h;else if(r&&e&&n^g){var m;v&s||!(m=o(p,e,!0))||(c=0,n?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!g||e&&Hn(e,p)||t.point(p[0],p[1]),e=p,l=g,s=v},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return c|(u&&l)<<1}}},zr(t,6*Pt),n?[0,-t]:[-Dt,t-Dt]);function i(t,n){return Math.cos(t)*Math.cos(n)>e}function o(t,n,r){var i=[1,0,0],o=Wn(On(t),On(n)),a=Ln(o,o),s=o[0],l=a-s*s;if(!l)return!r&&t;var u=e*a/l,c=-e*s/l,d=Wn(i,o),f=Rn(i,u);zn(f,Rn(o,c));var h=d,p=Ln(f,h),g=Ln(h,h),v=p*p-g*(Ln(f,f)-1);if(!(v<0)){var m=Math.sqrt(v),y=Rn(h,(-p-m)/g);if(zn(y,f),y=Vn(y),!r)return y;var x,b=t[0],k=n[0],w=t[1],C=n[1];k<b&&(x=b,b=k,k=x);var A=k-b,S=M(A-Dt)<St;if(!S&&C<w&&(x=w,w=C,C=x),S||A<St?S?w+C>0^y[1]<(M(y[0]-b)<St?w:C):w<=y[1]&&y[1]<=C:A>Dt^(b<=y[0]&&y[0]<=k)){var _=Rn(h,(-p+m)/g);return zn(_,f),[y,Vn(_)]}}}function a(e,r){var i=n?t:Dt-t,o=0;return e<-i?o|=1:e>i&&(o|=2),r<-i?o|=4:r>i&&(o|=8),o}}((x=+t)*Pt),A()):x},k.clipExtent=function(t){return arguments.length?(b=t,y=t?sr(t[0][0],t[0][1],t[1][0],t[1][1]):O,A()):b},k.scale=function(t){return arguments.length?(u=+t,C()):u},k.translate=function(t){return arguments.length?(c=+t[0],d=+t[1],C()):[c,d]},k.center=function(t){return arguments.length?(f=t[0]%360*Pt,h=t[1]%360*Pt,C()):[f*Tt,h*Tt]},k.rotate=function(t){return arguments.length?(p=t[0]%360*Pt,g=t[1]%360*Pt,v=t.length>2?t[2]%360*Pt:0,C()):[p*Tt,g*Tt,v*Tt]},o.rebind(k,l,"precision"),function(){return e=t.apply(this,arguments),k.invert=e.invert&&w,C()}}function Nr(t){return Dr(t,function(e,n){t.point(e*Pt,n*Pt)})}function Pr(t,e){return[t,e]}function Tr(t,e){return[t>Dt?t-Ft:t<-Dt?t+Ft:t,e]}function Ir(t,e,n){return t?e||n?Zn(Lr(t),Wr(e,n)):Lr(t):e||n?Wr(e,n):Tr}function Or(t){return function(e,n){return[(e+=t)>Dt?e-Ft:e<-Dt?e+Ft:e,n]}}function Lr(t){var e=Or(t);return e.invert=Or(-t),e}function Wr(t,e){var n=Math.cos(t),r=Math.sin(t),i=Math.cos(e),o=Math.sin(e);function a(t,e){var a=Math.cos(e),s=Math.cos(t)*a,l=Math.sin(t)*a,u=Math.sin(e),c=u*n+s*r;return[Math.atan2(l*i-c*o,s*n-u*r),Wt(c*i+l*o)]}return a.invert=function(t,e){var a=Math.cos(e),s=Math.cos(t)*a,l=Math.sin(t)*a,u=Math.sin(e),c=u*i-l*o;return[Math.atan2(l*i+u*o,s*n+c*r),Wt(c*n-s*r)]},a}function zr(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,o,a,s){var l=a*e;null!=i?(i=Rr(n,i),o=Rr(n,o),(a>0?i<o:i>o)&&(i+=a*Ft)):(i=t+a*Ft,o=t-.5*l);for(var u,c=i;a>0?c>o:c<o;c-=l)s.point((u=Vn([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],u[1])}}function Rr(t,e){var n=On(e);n[0]-=t,Bn(n);var r=Lt(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-St)%(2*Math.PI)}function Br(t,e,n){var r=o.range(t,e-St,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function Vr(t,e,n){var r=o.range(t,e-St,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function Hr(t){return t.source}function jr(t){return t.target}o.geo.path=function(){var t,e,n,r,i,a=4.5;function s(t){return t&&("function"==typeof a&&r.pointRadius(+a.apply(this,arguments)),i&&i.valid||(i=n(r)),o.geo.stream(t,i)),r.result()}function l(){return i=null,s}return s.area=function(t){return cr=0,o.geo.stream(t,n(vr)),cr},s.centroid=function(t){return wn=Cn=An=Sn=_n=Dn=Fn=En=Nn=0,o.geo.stream(t,n(kr)),Nn?[Fn/Nn,En/Nn]:Dn?[Sn/Dn,_n/Dn]:An?[wn/An,Cn/An]:[NaN,NaN]},s.bounds=function(t){return pr=gr=-(fr=hr=1/0),o.geo.stream(t,n(yr)),[[fr,hr],[pr,gr]]},s.projection=function(e){return arguments.length?(n=(t=e)?e.stream||(r=e,i=Sr(function(t,e){return r([t*Tt,e*Tt])}),function(t){return Nr(i(t))}):O,l()):t;var r,i},s.context=function(t){return arguments.length?(r=null==(e=t)?new function(){var t=xr(4.5),e=[],n={point:r,lineStart:function(){n.point=i},lineEnd:a,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=a,n.point=r},pointRadius:function(e){return t=xr(e),n},result:function(){if(e.length){var t=e.join("");return e=[],t}}};function r(n,r){e.push("M",n,",",r,t)}function i(t,r){e.push("M",t,",",r),n.point=o}function o(t,n){e.push("L",t,",",n)}function a(){n.point=r}function s(){e.push("Z")}return n}:new function(t){var e=4.5,n={point:r,lineStart:function(){n.point=i},lineEnd:a,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=a,n.point=r},pointRadius:function(t){return e=t,n},result:R};function r(n,r){t.moveTo(n+e,r),t.arc(n,r,e,0,Ft)}function i(e,r){t.moveTo(e,r),n.point=o}function o(e,n){t.lineTo(e,n)}function a(){n.point=r}function s(){t.closePath()}return n}(t),"function"!=typeof a&&r.pointRadius(a),l()):e},s.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(r.pointRadius(+t),+t),s):a},s.projection(o.geo.albersUsa()).context(null)},o.geo.transform=function(t){return{stream:function(e){var n=new _r(e);for(var r in t)n[r]=t[r];return n}}},_r.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},o.geo.projection=Fr,o.geo.projectionMutator=Er,(o.geo.equirectangular=function(){return Fr(Pr)}).raw=Pr.invert=Pr,o.geo.rotation=function(t){function e(e){return(e=t(e[0]*Pt,e[1]*Pt))[0]*=Tt,e[1]*=Tt,e}return t=Ir(t[0]%360*Pt,t[1]*Pt,t.length>2?t[2]*Pt:0),e.invert=function(e){return(e=t.invert(e[0]*Pt,e[1]*Pt))[0]*=Tt,e[1]*=Tt,e},e},Tr.invert=Pr,o.geo.circle=function(){var t,e,n=[0,0],r=6;function i(){var t="function"==typeof n?n.apply(this,arguments):n,r=Ir(-t[0]*Pt,-t[1]*Pt,0).invert,i=[];return e(null,null,1,{point:function(t,e){i.push(t=r(t,e)),t[0]*=Tt,t[1]*=Tt}}),{type:"Polygon",coordinates:[i]}}return i.origin=function(t){return arguments.length?(n=t,i):n},i.angle=function(n){return arguments.length?(e=zr((t=+n)*Pt,r*Pt),i):t},i.precision=function(n){return arguments.length?(e=zr(t*Pt,(r=+n)*Pt),i):r},i.angle(90)},o.geo.distance=function(t,e){var n,r=(e[0]-t[0])*Pt,i=t[1]*Pt,o=e[1]*Pt,a=Math.sin(r),s=Math.cos(r),l=Math.sin(i),u=Math.cos(i),c=Math.sin(o),d=Math.cos(o);return Math.atan2(Math.sqrt((n=d*a)*n+(n=u*c-l*d*s)*n),l*c+u*d*s)},o.geo.graticule=function(){var t,e,n,r,i,a,s,l,u,c,d,f,h=10,p=h,g=90,v=360,m=2.5;function y(){return{type:"MultiLineString",coordinates:x()}}function x(){return o.range(Math.ceil(r/g)*g,n,g).map(d).concat(o.range(Math.ceil(l/v)*v,s,v).map(f)).concat(o.range(Math.ceil(e/h)*h,t,h).filter(function(t){return M(t%g)>St}).map(u)).concat(o.range(Math.ceil(a/p)*p,i,p).filter(function(t){return M(t%v)>St}).map(c))}return y.lines=function(){return x().map(function(t){return{type:"LineString",coordinates:t}})},y.outline=function(){return{type:"Polygon",coordinates:[d(r).concat(f(s).slice(1),d(n).reverse().slice(1),f(l).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.majorExtent(t).minorExtent(t):y.minorExtent()},y.majorExtent=function(t){return arguments.length?(l=+t[0][1],s=+t[1][1],(r=+t[0][0])>(n=+t[1][0])&&(t=r,r=n,n=t),l>s&&(t=l,l=s,s=t),y.precision(m)):[[r,l],[n,s]]},y.minorExtent=function(n){return arguments.length?(a=+n[0][1],i=+n[1][1],(e=+n[0][0])>(t=+n[1][0])&&(n=e,e=t,t=n),a>i&&(n=a,a=i,i=n),y.precision(m)):[[e,a],[t,i]]},y.step=function(t){return arguments.length?y.majorStep(t).minorStep(t):y.minorStep()},y.majorStep=function(t){return arguments.length?(g=+t[0],v=+t[1],y):[g,v]},y.minorStep=function(t){return arguments.length?(h=+t[0],p=+t[1],y):[h,p]},y.precision=function(o){return arguments.length?(m=+o,u=Br(a,i,90),c=Vr(e,t,m),d=Br(l,s,90),f=Vr(r,n,m),y):m},y.majorExtent([[-180,-90+St],[180,90-St]]).minorExtent([[-180,-80-St],[180,80+St]])},o.geo.greatArc=function(){var t,e,n=Hr,r=jr;function i(){return{type:"LineString",coordinates:[t||n.apply(this,arguments),e||r.apply(this,arguments)]}}return i.distance=function(){return o.geo.distance(t||n.apply(this,arguments),e||r.apply(this,arguments))},i.source=function(e){return arguments.length?(n=e,t="function"==typeof e?null:e,i):n},i.target=function(t){return arguments.length?(r=t,e="function"==typeof t?null:t,i):r},i.precision=function(){return arguments.length?i:0},i},o.geo.interpolate=function(t,e){return n=t[0]*Pt,r=t[1]*Pt,i=e[0]*Pt,o=e[1]*Pt,a=Math.cos(r),s=Math.sin(r),l=Math.cos(o),u=Math.sin(o),c=a*Math.cos(n),d=a*Math.sin(n),f=l*Math.cos(i),h=l*Math.sin(i),p=2*Math.asin(Math.sqrt(Rt(o-r)+a*l*Rt(i-n))),g=1/Math.sin(p),(v=p?function(t){var e=Math.sin(t*=p)*g,n=Math.sin(p-t)*g,r=n*c+e*f,i=n*d+e*h,o=n*s+e*u;return[Math.atan2(i,r)*Tt,Math.atan2(o,Math.sqrt(r*r+i*i))*Tt]}:function(){return[n*Tt,r*Tt]}).distance=p,v;var n,r,i,o,a,s,l,u,c,d,f,h,p,g,v},o.geo.length=function(t){return br=0,o.geo.stream(t,qr),br};var qr={sphere:R,point:R,lineStart:function(){var t,e,n;function r(r,i){var o=Math.sin(i*=Pt),a=Math.cos(i),s=M((r*=Pt)-t),l=Math.cos(s);br+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=n*o-e*a*l)*s),e*o+n*a*l),t=r,e=o,n=a}qr.point=function(i,o){t=i*Pt,e=Math.sin(o*=Pt),n=Math.cos(o),qr.point=r},qr.lineEnd=function(){qr.point=qr.lineEnd=R}},lineEnd:R,polygonStart:R,polygonEnd:R};function Yr(t,e){function n(e,n){var r=Math.cos(e),i=Math.cos(n),o=t(r*i);return[o*i*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(t*o,r*a),Math.asin(r&&n*o/r)]},n}var Xr=Yr(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(o.geo.azimuthalEqualArea=function(){return Fr(Xr)}).raw=Xr;var Ur=Yr(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},O);function Gr(t,e){var n=Math.cos(t),r=function(t){return Math.tan(Dt/4+t/2)},i=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(r(e)/r(t)),o=n*Math.pow(r(t),i)/i;if(!i)return Jr;function a(t,e){o>0?e<-Nt+St&&(e=-Nt+St):e>Nt-St&&(e=Nt-St);var n=o/Math.pow(r(e),i);return[n*Math.sin(i*t),o-n*Math.cos(i*t)]}return a.invert=function(t,e){var n=o-e,r=It(i)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/i,2*Math.atan(Math.pow(o/r,1/i))-Nt]},a}function Zr(t,e){var n=Math.cos(t),r=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),i=n/r+t;if(M(r)<St)return Pr;function o(t,e){var n=i-e;return[n*Math.sin(r*t),i-n*Math.cos(r*t)]}return o.invert=function(t,e){var n=i-e;return[Math.atan2(t,n)/r,i-It(r)*Math.sqrt(t*t+n*n)]},o}(o.geo.azimuthalEquidistant=function(){return Fr(Ur)}).raw=Ur,(o.geo.conicConformal=function(){return lr(Gr)}).raw=Gr,(o.geo.conicEquidistant=function(){return lr(Zr)}).raw=Zr;var Kr=Yr(function(t){return 1/t},Math.atan);function Jr(t,e){return[t,Math.log(Math.tan(Dt/4+e/2))]}function $r(t){var e,n=Fr(t),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=o.apply(n,arguments);if(a===n){if(e=null==t){var s=Dt*r(),l=i();o([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else e&&(a=null);return a},n.clipExtent(null)}(o.geo.gnomonic=function(){return Fr(Kr)}).raw=Kr,Jr.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Nt]},(o.geo.mercator=function(){return $r(Jr)}).raw=Jr;var Qr=Yr(function(){return 1},Math.asin);(o.geo.orthographic=function(){return Fr(Qr)}).raw=Qr;var ti=Yr(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});function ei(t,e){return[Math.log(Math.tan(Dt/4+e/2)),-t]}function ni(t){return t[0]}function ri(t){return t[1]}function ii(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;i++){for(;r>1&&Ot(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function oi(t,e){return t[0]-e[0]||t[1]-e[1]}(o.geo.stereographic=function(){return Fr(ti)}).raw=ti,ei.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Nt]},(o.geo.transverseMercator=function(){var t=$r(ei),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=ei,o.geom={},o.geom.hull=function(t){var e=ni,n=ri;if(arguments.length)return r(t);function r(t){if(t.length<3)return[];var r,i=xe(e),o=xe(n),a=t.length,s=[],l=[];for(r=0;r<a;r++)s.push([+i.call(this,t[r],r),+o.call(this,t[r],r),r]);for(s.sort(oi),r=0;r<a;r++)l.push([s[r][0],-s[r][1]]);var u=ii(s),c=ii(l),d=c[0]===u[0],f=c[c.length-1]===u[u.length-1],h=[];for(r=u.length-1;r>=0;--r)h.push(t[s[u[r]][2]]);for(r=+d;r<c.length-f;++r)h.push(t[s[c[r]][2]]);return h}return r.x=function(t){return arguments.length?(e=t,r):e},r.y=function(t){return arguments.length?(n=t,r):n},r},o.geom.polygon=function(t){return X(t,ai),t};var ai=o.geom.polygon.prototype=[];function si(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function li(t,e,n,r){var i=t[0],o=n[0],a=e[0]-i,s=r[0]-o,l=t[1],u=n[1],c=e[1]-l,d=r[1]-u,f=(s*(l-u)-d*(i-o))/(d*a-s*c);return[i+f*a,l+f*c]}function ui(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}ai.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)i+=(t=r)[1]*(r=this[e])[0]-t[0]*r[1];return.5*i},ai.centroid=function(t){var e,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)o+=((e=s)[0]+(s=this[r])[0])*(n=e[0]*s[1]-s[0]*e[1]),a+=(e[1]+s[1])*n;return[o*t,a*t]},ai.clip=function(t){for(var e,n,r,i,o,a,s=ui(t),l=-1,u=this.length-ui(this),c=this[u-1];++l<u;){for(e=t.slice(),t.length=0,i=this[l],o=e[(r=e.length-s)-1],n=-1;++n<r;)si(a=e[n],c,i)?(si(o,c,i)||t.push(li(o,a,c,i)),t.push(a)):si(o,c,i)&&t.push(li(o,a,c,i)),o=a;s&&t.push(t[0]),c=i}return t};var ci,di,fi,hi,pi,gi=[],vi=[];function mi(t){var e=gi.pop()||new function(){Ti(this),this.edge=this.site=this.circle=null};return e.site=t,e}function yi(t){Si(t),fi.remove(t),gi.push(t),Ti(t)}function xi(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},o=t.P,a=t.N,s=[t];yi(t);for(var l=o;l.circle&&M(n-l.circle.x)<St&&M(r-l.circle.cy)<St;)o=l.P,s.unshift(l),yi(l),l=o;s.unshift(l),Si(l);for(var u=a;u.circle&&M(n-u.circle.x)<St&&M(r-u.circle.cy)<St;)a=u.N,s.push(u),yi(u),u=a;s.push(u),Si(u);var c,d=s.length;for(c=1;c<d;++c)Ei((u=s[c]).edge,(l=s[c-1]).site,u.site,i);(u=s[d-1]).edge=Fi((l=s[0]).site,u.site,null,i),Ai(l),Ai(u)}function bi(t){for(var e,n,r,i,o=t.x,a=t.y,s=fi._;s;)if((r=ki(s,a)-o)>St)s=s.L;else{if(!((i=o-Mi(s,a))>St)){r>-St?(e=s.P,n=s):i>-St?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var l=mi(t);if(fi.insert(e,l),e||n){if(e===n)return Si(e),n=mi(e.site),fi.insert(l,n),l.edge=n.edge=Fi(e.site,l.site),Ai(e),void Ai(n);if(n){Si(e),Si(n);var u=e.site,c=u.x,d=u.y,f=t.x-c,h=t.y-d,p=n.site,g=p.x-c,v=p.y-d,m=2*(f*v-h*g),y=f*f+h*h,x=g*g+v*v,b={x:(v*y-h*x)/m+c,y:(f*x-g*y)/m+d};Ei(n.edge,u,p,b),l.edge=Fi(u,t,null,b),n.edge=Fi(t,p,null,b),Ai(e),Ai(n)}else l.edge=Fi(e.site,l.site)}}function ki(t,e){var n=t.site,r=n.x,i=n.y,o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site).x,l=n.y,u=l-e;if(!u)return s;var c=s-r,d=1/o-1/u,f=c/u;return d?(-f+Math.sqrt(f*f-2*d*(c*c/(-2*u)-l+u/2+i-o/2)))/d+r:(r+s)/2}function Mi(t,e){var n=t.N;if(n)return ki(n,e);var r=t.site;return r.y===e?r.x:1/0}function wi(t){this.site=t,this.edges=[]}function Ci(t,e){return e.angle-t.angle}function Ai(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i.x,s=i.y,l=r.x-a,u=r.y-s,c=o.x-a,d=2*(l*(v=o.y-s)-u*c);if(!(d>=-_t)){var f=l*l+u*u,h=c*c+v*v,p=(v*f-u*h)/d,g=(l*h-c*f)/d,v=g+s,m=vi.pop()||new function(){Ti(this),this.x=this.y=this.arc=this.site=this.cy=null};m.arc=t,m.site=i,m.x=p+a,m.y=v+Math.sqrt(p*p+g*g),m.cy=v,t.circle=m;for(var y=null,x=pi._;x;)if(m.y<x.y||m.y===x.y&&m.x<=x.x){if(!x.L){y=x.P;break}x=x.L}else{if(!x.R){y=x;break}x=x.R}pi.insert(y,m),y||(hi=m)}}}}function Si(t){var e=t.circle;e&&(e.P||(hi=e.N),pi.remove(e),vi.push(e),Ti(e),t.circle=null)}function _i(t,e){var n=t.b;if(n)return!0;var r,i,o=t.a,a=e[0][0],s=e[1][0],l=e[0][1],u=e[1][1],c=t.l,d=t.r,f=c.x,h=c.y,p=d.x,g=d.y,v=(f+p)/2,m=(h+g)/2;if(g===h){if(v<a||v>=s)return;if(f>p){if(o){if(o.y>=u)return}else o={x:v,y:l};n={x:v,y:u}}else{if(o){if(o.y<l)return}else o={x:v,y:u};n={x:v,y:l}}}else if(i=m-(r=(f-p)/(g-h))*v,r<-1||r>1)if(f>p){if(o){if(o.y>=u)return}else o={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else{if(o){if(o.y<l)return}else o={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else if(h<g){if(o){if(o.x>=s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}return t.a=o,t.b=n,!0}function Di(t,e){this.l=t,this.r=e,this.a=this.b=null}function Fi(t,e,n,r){var i=new Di(t,e);return ci.push(i),n&&Ei(i,t,e,n),r&&Ei(i,e,t,r),di[t.i].edges.push(new Ni(i,t,e)),di[e.i].edges.push(new Ni(i,e,t)),i}function Ei(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function Ni(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function Pi(){this._=null}function Ti(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Ii(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Oi(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Li(t){for(;t.L;)t=t.L;return t}function Wi(t,e){var n,r,i,o=t.sort(zi).pop();for(ci=[],di=new Array(t.length),fi=new Pi,pi=new Pi;;)if(i=hi,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===n&&o.y===r||(di[o.i]=new wi(o),bi(o),n=o.x,r=o.y),o=t.pop();else{if(!i)break;xi(i.arc)}e&&(function(t){for(var e,n=ci,r=or(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)(!_i(e=n[i],t)||!r(e)||M(e.a.x-e.b.x)<St&&M(e.a.y-e.b.y)<St)&&(e.a=e.b=null,n.splice(i,1))}(e),function(t){for(var n,r,i,o,a,s,l,u,c,d,f=e[0][0],h=e[1][0],p=e[0][1],g=e[1][1],v=di,m=v.length;m--;)if((a=v[m])&&a.prepare())for(u=(l=a.edges).length,s=0;s<u;)i=(d=l[s].end()).x,o=d.y,r=(c=l[++s%u].start()).y,(M(i-(n=c.x))>St||M(o-r)>St)&&(l.splice(s,0,new Ni((y=a.site,x=d,b=M(i-f)<St&&g-o>St?{x:f,y:M(n-f)<St?r:g}:M(o-g)<St&&h-i>St?{x:M(r-g)<St?n:h,y:g}:M(i-h)<St&&o-p>St?{x:h,y:M(n-h)<St?r:p}:M(o-p)<St&&i-f>St?{x:M(r-p)<St?n:f,y:p}:null,k=void 0,(k=new Di(y,null)).a=x,k.b=b,ci.push(k),k),a.site,null)),++u);var y,x,b,k}());var a={cells:di,edges:ci};return fi=pi=ci=di=null,a}function zi(t,e){return e.y-t.y||e.x-t.x}wi.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(Ci),e.length},Ni.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Pi.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Li(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Ii(this,n),n=(t=n).U),n.C=!1,r.C=!0,Oi(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Oi(this,n),n=(t=n).U),n.C=!1,r.C=!0,Ii(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?Li(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,i.L=t=n.R,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Ii(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Oi(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Ii(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Oi(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Ii(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Oi(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},o.geom.voronoi=function(t){var e=ni,n=ri,r=e,i=n,o=Ri;if(t)return a(t);function a(t){var e=new Array(t.length),n=o[0][0],r=o[0][1],i=o[1][0],a=o[1][1];return Wi(s(t),o).cells.forEach(function(o,s){var l=o.edges,u=o.site;(e[s]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):u.x>=n&&u.x<=i&&u.y>=r&&u.y<=a?[[n,a],[i,a],[i,r],[n,r]]:[]).point=t[s]}),e}function s(t){return t.map(function(t,e){return{x:Math.round(r(t,e)/St)*St,y:Math.round(i(t,e)/St)*St,i:e}})}return a.links=function(t){return Wi(s(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},a.triangles=function(t){var e=[];return Wi(s(t)).cells.forEach(function(n,r){for(var i,o,a,s,l=n.site,u=n.edges.sort(Ci),c=-1,d=u.length,f=u[d-1].edge,h=f.l===l?f.r:f.l;++c<d;)i=h,h=(f=u[c].edge).l===l?f.r:f.l,r<i.i&&r<h.i&&((o=l).x-(s=h).x)*((a=i).y-o.y)-(o.x-a.x)*(s.y-o.y)<0&&e.push([t[r],t[i.i],t[h.i]])}),e},a.x=function(t){return arguments.length?(r=xe(e=t),a):e},a.y=function(t){return arguments.length?(i=xe(n=t),a):n},a.clipExtent=function(t){return arguments.length?(o=null==t?Ri:t,a):o===Ri?null:o},a.size=function(t){return arguments.length?a.clipExtent(t&&[[0,0],t]):o===Ri?null:o&&o[1]},a};var Ri=[[-1e6,-1e6],[1e6,1e6]];function Bi(t){return t.x}function Vi(t){return t.y}function Hi(t,e){t=o.rgb(t),e=o.rgb(e);var n=t.r,r=t.g,i=t.b,a=e.r-n,s=e.g-r,l=e.b-i;return function(t){return"#"+fe(Math.round(n+a*t))+fe(Math.round(r+s*t))+fe(Math.round(i+l*t))}}function ji(t,e){var n,r={},i={};for(n in t)n in e?r[n]=Gi(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function qi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Yi(t,e){var n,r,i,o=Xi.lastIndex=Ui.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=Xi.exec(t))&&(r=Ui.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:qi(n,r)})),o=Ui.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}o.geom.delaunay=function(t){return o.geom.voronoi().triangles(t)},o.geom.quadtree=function(t,e,n,r,i){var o,a=ni,s=ri;if(o=arguments.length)return a=Bi,s=Vi,3===o&&(i=n,r=e,n=e=0),l(t);function l(t){var l,u,c,d,f,h,p,g,v,m=xe(a),y=xe(s);if(null!=e)h=e,p=n,g=r,v=i;else if(g=v=-(h=p=1/0),u=[],c=[],f=t.length,o)for(d=0;d<f;++d)(l=t[d]).x<h&&(h=l.x),l.y<p&&(p=l.y),l.x>g&&(g=l.x),l.y>v&&(v=l.y),u.push(l.x),c.push(l.y);else for(d=0;d<f;++d){var x=+m(l=t[d],d),b=+y(l,d);x<h&&(h=x),b<p&&(p=b),x>g&&(g=x),b>v&&(v=b),u.push(x),c.push(b)}var k=g-h,w=v-p;function C(t,e,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var l=t.x,u=t.y;if(null!=l)if(M(l-n)+M(u-r)<.01)A(t,e,n,r,i,o,a,s);else{var c=t.point;t.x=t.y=t.point=null,A(t,c,l,u,i,o,a,s),A(t,e,n,r,i,o,a,s)}else t.x=n,t.y=r,t.point=e}else A(t,e,n,r,i,o,a,s)}function A(t,e,n,r,i,o,a,s){var l=.5*(i+a),u=.5*(o+s),c=n>=l,d=r>=u,f=d<<1|c;t.leaf=!1,t=t.nodes[f]||(t.nodes[f]={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){C(S,t,+m(t,++d),+y(t,d),h,p,g,v)},visit:function(t){!function t(e,n,r,i,o,a){if(!e(n,r,i,o,a)){var s=.5*(r+o),l=.5*(i+a),u=n.nodes;u[0]&&t(e,u[0],r,i,s,l),u[1]&&t(e,u[1],s,i,o,l),u[2]&&t(e,u[2],r,l,s,a),u[3]&&t(e,u[3],s,l,o,a)}}(t,S,h,p,g,v)},find:function(t){return function(t,e,n,r,i,o,a){var s,l=1/0;return function t(u,c,d,f,h){if(!(c>o||d>a||f<r||h<i)){if(p=u.point){var p,g=e-u.x,v=n-u.y,m=g*g+v*v;if(m<l){var y=Math.sqrt(l=m);r=e-y,i=n-y,o=e+y,a=n+y,s=p}}for(var x=u.nodes,b=.5*(c+f),k=.5*(d+h),M=(n>=k)<<1|e>=b,w=M+4;M<w;++M)if(u=x[3&M])switch(3&M){case 0:t(u,c,d,b,k);break;case 1:t(u,b,d,f,k);break;case 2:t(u,c,k,b,h);break;case 3:t(u,b,k,f,h)}}}(t,r,i,o,a),s}(S,t[0],t[1],h,p,g,v)}}),c?i=l:a=l,d?o=u:s=u,C(t,e,n,r,i,o,a,s)}k>w?v=p+k:g=h+w;var S={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){C(S,t,+m(t,++d),+y(t,d),h,p,g,v)},visit:function(t){!function t(e,n,r,i,o,a){if(!e(n,r,i,o,a)){var s=.5*(r+o),l=.5*(i+a),u=n.nodes;u[0]&&t(e,u[0],r,i,s,l),u[1]&&t(e,u[1],s,i,o,l),u[2]&&t(e,u[2],r,l,s,a),u[3]&&t(e,u[3],s,l,o,a)}}(t,S,h,p,g,v)},find:function(t){return function(t,e,n,r,i,o,a){var s,l=1/0;return function t(u,c,d,f,h){if(!(c>o||d>a||f<r||h<i)){if(p=u.point){var p,g=e-u.x,v=n-u.y,m=g*g+v*v;if(m<l){var y=Math.sqrt(l=m);r=e-y,i=n-y,o=e+y,a=n+y,s=p}}for(var x=u.nodes,b=.5*(c+f),k=.5*(d+h),M=(n>=k)<<1|e>=b,w=M+4;M<w;++M)if(u=x[3&M])switch(3&M){case 0:t(u,c,d,b,k);break;case 1:t(u,b,d,f,k);break;case 2:t(u,c,k,b,h);break;case 3:t(u,b,k,f,h)}}}(t,r,i,o,a),s}(S,t[0],t[1],h,p,g,v)}};if(d=-1,null==e){for(;++d<f;)C(S,t[d],u[d],c[d],h,p,g,v);--d}else t.forEach(S.add);return u=c=t=l=null,S}return l.x=function(t){return arguments.length?(a=t,l):a},l.y=function(t){return arguments.length?(s=t,l):s},l.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),l):null==e?null:[[e,n],[r,i]]},l.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),l):null==e?null:[r-e,i-n]},l},o.interpolateRgb=Hi,o.interpolateObject=ji,o.interpolateNumber=qi,o.interpolateString=Yi;var Xi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ui=new RegExp(Xi.source,"g");function Gi(t,e){for(var n,r=o.interpolators.length;--r>=0&&!(n=o.interpolators[r](t,e)););return n}function Zi(t,e){var n,r=[],i=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)r.push(Gi(t[n],e[n]));for(;n<o;++n)i[n]=t[n];for(;n<a;++n)i[n]=e[n];return function(t){for(n=0;n<s;++n)i[n]=r[n](t);return i}}o.interpolate=Gi,o.interpolators=[function(t,e){var n=typeof e;return("string"===n?ye.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?Hi:Yi:e instanceof Yt?Hi:Array.isArray(e)?Zi:"object"===n&&isNaN(e)?ji:qi)(t,e)}],o.interpolateArray=Zi;var Ki=function(){return O},Ji=o.map({linear:Ki,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return eo},cubic:function(){return no},sin:function(){return io},exp:function(){return oo},circle:function(){return ao},elastic:function(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Ft*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*Ft/e)}},back:function(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}},bounce:function(){return so}}),$i=o.map({in:O,out:Qi,"in-out":to,"out-in":function(t){return to(Qi(t))}});function Qi(t){return function(e){return 1-t(1-e)}}function to(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function eo(t){return t*t}function no(t){return t*t*t}function ro(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function io(t){return 1-Math.cos(t*Nt)}function oo(t){return Math.pow(2,10*(t-1))}function ao(t){return 1-Math.sqrt(1-t*t)}function so(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function lo(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function uo(t){var e,n,r,i=[t.a,t.b],o=[t.c,t.d],a=fo(i),s=co(i,o),l=fo(((e=o)[0]+=(r=-s)*(n=i)[0],e[1]+=r*n[1],e))||0;i[0]*o[1]<o[0]*i[1]&&(i[0]*=-1,i[1]*=-1,a*=-1,s*=-1),this.rotate=(a?Math.atan2(i[1],i[0]):Math.atan2(-o[0],o[1]))*Tt,this.translate=[t.e,t.f],this.scale=[a,l],this.skew=l?Math.atan2(s,l)*Tt:0}function co(t,e){return t[0]*e[0]+t[1]*e[1]}function fo(t){var e=Math.sqrt(co(t,t));return e&&(t[0]/=e,t[1]/=e),e}o.ease=function(t){var e,n=t.indexOf("-"),r=n>=0?t.slice(0,n):t,i=n>=0?t.slice(n+1):"in";return r=Ji.get(r)||Ki,i=$i.get(i)||O,e=i(r.apply(null,a.call(arguments,1))),function(t){return t<=0?0:t>=1?1:e(t)}},o.interpolateHcl=function(t,e){t=o.hcl(t),e=o.hcl(e);var n=t.h,r=t.c,i=t.l,a=e.h-n,s=e.c-r,l=e.l-i;return isNaN(s)&&(s=0,r=isNaN(r)?e.c:r),isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:a<-180&&(a+=360),function(t){return Jt(n+a*t,r+s*t,i+l*t)+""}},o.interpolateHsl=function(t,e){t=o.hsl(t),e=o.hsl(e);var n=t.h,r=t.s,i=t.l,a=e.h-n,s=e.s-r,l=e.l-i;return isNaN(s)&&(s=0,r=isNaN(r)?e.s:r),isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:a<-180&&(a+=360),function(t){return Gt(n+a*t,r+s*t,i+l*t)+""}},o.interpolateLab=function(t,e){t=o.lab(t),e=o.lab(e);var n=t.l,r=t.a,i=t.b,a=e.l-n,s=e.a-r,l=e.b-i;return function(t){return ie(n+a*t,r+s*t,i+l*t)+""}},o.interpolateRound=lo,o.transform=function(t){var e=l.createElementNS(o.ns.prefix.svg,"g");return(o.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new uo(n?n.matrix:ho)})(t)},uo.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ho={a:1,b:0,c:0,d:1,e:0,f:0};function po(t,e){var n,r=[],i=[],a=o.transform(t),s=o.transform(e),l=a.translate,u=s.translate,c=a.rotate,d=s.rotate,f=a.skew,h=s.skew,p=a.scale,g=s.scale;return l[0]!=u[0]||l[1]!=u[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:qi(l[0],u[0])},{i:3,x:qi(l[1],u[1])})):r.push(u[0]||u[1]?"translate("+u+")":""),c!=d?(c-d>180?d+=360:d-c>180&&(c+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:qi(c,d)})):d&&r.push(r.pop()+"rotate("+d+")"),f!=h?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:qi(f,h)}):h&&r.push(r.pop()+"skewX("+h+")"),p[0]!=g[0]||p[1]!=g[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:n-4,x:qi(p[0],g[0])},{i:n-2,x:qi(p[1],g[1])})):1==g[0]&&1==g[1]||r.push(r.pop()+"scale("+g+")"),n=i.length,function(t){for(var e,o=-1;++o<n;)r[(e=i[o]).i]=e.x(t);return r.join("")}}function go(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function vo(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function mo(t){for(var e=t.source,n=t.target,r=function(t,e){if(t===e)return t;for(var n=yo(t),r=yo(e),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}(e,n),i=[e];e!==r;)i.push(e=e.parent);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function yo(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function xo(t){t.fixed|=2}function bo(t){t.fixed&=-7}function ko(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Mo(t){t.fixed&=-5}o.interpolateTransform=po,o.layout={},o.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(mo(t[n]));return e}},o.layout.chord=function(){var t,e,n,r,i,a,s,l={},u=0;function c(){var l,c,f,h,p,g={},v=[],m=o.range(r),y=[];for(t=[],e=[],l=0,h=-1;++h<r;){for(c=0,p=-1;++p<r;)c+=n[h][p];v.push(c),y.push(o.range(r)),l+=c}for(i&&m.sort(function(t,e){return i(v[t],v[e])}),a&&y.forEach(function(t,e){t.sort(function(t,r){return a(n[e][t],n[e][r])})}),l=(Ft-u*r)/l,c=0,h=-1;++h<r;){for(f=c,p=-1;++p<r;){var x=m[h],b=y[x][p],k=n[x][b],M=c,w=c+=k*l;g[x+"-"+b]={index:x,subindex:b,startAngle:M,endAngle:w,value:k}}e[x]={index:x,startAngle:f,endAngle:c,value:(c-f)/l},c+=u}for(h=-1;++h<r;)for(p=h-1;++p<r;){var C=g[h+"-"+p],A=g[p+"-"+h];(C.value||A.value)&&t.push(C.value<A.value?{source:A,target:C}:{source:C,target:A})}s&&d()}function d(){t.sort(function(t,e){return s((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}return l.matrix=function(i){return arguments.length?(r=(n=i)&&n.length,t=e=null,l):n},l.padding=function(n){return arguments.length?(u=n,t=e=null,l):u},l.sortGroups=function(n){return arguments.length?(i=n,t=e=null,l):i},l.sortSubgroups=function(e){return arguments.length?(a=e,t=null,l):a},l.sortChords=function(e){return arguments.length?(s=e,t&&d(),l):s},l.chords=function(){return t||c(),t},l.groups=function(){return e||c(),e},l},o.layout.force=function(){var t,e,n,r,i,a={},s=o.dispatch("start","tick","end"),l=[1,1],u=.9,c=wo,d=Co,f=-30,h=Ao,p=.1,g=.64,v=[],m=[];function y(t){return function(e,n,r,i){if(e.point!==t){var o,a=e.cx-t.x,s=e.cy-t.y,l=i-n,u=a*a+s*s;if(l*l/g<u)return u<h&&(t.px-=a*(o=e.charge/u),t.py-=s*o),!0;e.point&&u&&u<h&&(t.px-=a*(o=e.pointCharge/u),t.py-=s*o)}return!e.charge}}function x(t){t.px=o.event.x,t.py=o.event.y,a.resume()}return a.tick=function(){if((e*=.99)<.005)return s.end({type:"end",alpha:e=0}),!0;var t,a,c,d,h,g,x,b,k,M=v.length,w=m.length;for(a=0;a<w;++a)(g=(b=(h=(c=m[a]).target).x-(d=c.source).x)*b+(k=h.y-d.y)*k)&&(k*=g=e*r[a]*((g=Math.sqrt(g))-n[a])/g,h.x-=(b*=g)*(x=d.weight/(h.weight+d.weight)),h.y-=k*x,d.x+=b*(x=1-x),d.y+=k*x);if((x=e*p)&&(b=l[0]/2,k=l[1]/2,a=-1,x))for(;++a<M;)(c=v[a]).x+=(b-c.x)*x,c.y+=(k-c.y)*x;if(f)for(function t(e,n,r){var i=0,o=0;if(e.charge=0,!e.leaf)for(var a,s=e.nodes,l=s.length,u=-1;++u<l;)null!=(a=s[u])&&(t(a,n,r),e.charge+=a.charge,i+=a.charge*a.cx,o+=a.charge*a.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var c=n*r[e.point.index];e.charge+=e.pointCharge=c,i+=c*e.point.x,o+=c*e.point.y}e.cx=i/e.charge,e.cy=o/e.charge}(t=o.geom.quadtree(v),e,i),a=-1;++a<M;)(c=v[a]).fixed||t.visit(y(c));for(a=-1;++a<M;)(c=v[a]).fixed?(c.x=c.px,c.y=c.py):(c.x-=(c.px-(c.px=c.x))*u,c.y-=(c.py-(c.py=c.y))*u);s.tick({type:"tick",alpha:e})},a.nodes=function(t){return arguments.length?(v=t,a):v},a.links=function(t){return arguments.length?(m=t,a):m},a.size=function(t){return arguments.length?(l=t,a):l},a.linkDistance=function(t){return arguments.length?(c="function"==typeof t?t:+t,a):c},a.distance=a.linkDistance,a.linkStrength=function(t){return arguments.length?(d="function"==typeof t?t:+t,a):d},a.friction=function(t){return arguments.length?(u=+t,a):u},a.charge=function(t){return arguments.length?(f="function"==typeof t?t:+t,a):f},a.chargeDistance=function(t){return arguments.length?(h=t*t,a):Math.sqrt(h)},a.gravity=function(t){return arguments.length?(p=+t,a):p},a.theta=function(t){return arguments.length?(g=t*t,a):Math.sqrt(g)},a.alpha=function(t){return arguments.length?(t=+t,e?e=t>0?t:0:t>0&&(s.start({type:"start",alpha:e=t}),o.timer(a.tick)),a):e},a.start=function(){var t,e,o,s=v.length,u=m.length,h=l[0],p=l[1];for(t=0;t<s;++t)(o=v[t]).index=t,o.weight=0;for(t=0;t<u;++t)"number"==typeof(o=m[t]).source&&(o.source=v[o.source]),"number"==typeof o.target&&(o.target=v[o.target]),++o.source.weight,++o.target.weight;for(t=0;t<s;++t)o=v[t],isNaN(o.x)&&(o.x=g("x",h)),isNaN(o.y)&&(o.y=g("y",p)),isNaN(o.px)&&(o.px=o.x),isNaN(o.py)&&(o.py=o.y);if(n=[],"function"==typeof c)for(t=0;t<u;++t)n[t]=+c.call(this,m[t],t);else for(t=0;t<u;++t)n[t]=c;if(r=[],"function"==typeof d)for(t=0;t<u;++t)r[t]=+d.call(this,m[t],t);else for(t=0;t<u;++t)r[t]=d;if(i=[],"function"==typeof f)for(t=0;t<s;++t)i[t]=+f.call(this,v[t],t);else for(t=0;t<s;++t)i[t]=f;function g(n,r){if(!e){for(e=new Array(s),l=0;l<s;++l)e[l]=[];for(l=0;l<u;++l){var i=m[l];e[i.source.index].push(i.target),e[i.target.index].push(i.source)}}for(var o,a=e[t],l=-1,c=a.length;++l<c;)if(!isNaN(o=a[l][n]))return o;return Math.random()*r}return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){if(t||(t=o.behavior.drag().origin(O).on("dragstart.force",xo).on("drag.force",x).on("dragend.force",bo)),!arguments.length)return t;this.on("mouseover.force",ko).on("mouseout.force",Mo).call(t)},o.rebind(a,s,"on")};var wo=20,Co=1,Ao=1/0;function So(t,e){return o.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=Po,t}function _o(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function Do(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(o=t.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(t=r.pop());)e(t)}function Fo(t){return t.children}function Eo(t){return t.value}function No(t,e){return e.value-t.value}function Po(t){return o.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}o.layout.hierarchy=function(){var t=No,e=Fo,n=Eo;function r(i){var o,a=[i],s=[];for(i.depth=0;null!=(o=a.pop());)if(s.push(o),(u=e.call(r,o,o.depth))&&(l=u.length)){for(var l,u,c;--l>=0;)a.push(c=u[l]),c.parent=o,c.depth=o.depth+1;n&&(o.value=0),o.children=u}else n&&(o.value=+n.call(r,o,o.depth)||0),delete o.children;return Do(i,function(e){var r,i;t&&(r=e.children)&&r.sort(t),n&&(i=e.parent)&&(i.value+=e.value)}),s}return r.sort=function(e){return arguments.length?(t=e,r):t},r.children=function(t){return arguments.length?(e=t,r):e},r.value=function(t){return arguments.length?(n=t,r):n},r.revalue=function(t){return n&&(_o(t,function(t){t.children&&(t.value=0)}),Do(t,function(t){var e;t.children||(t.value=+n.call(r,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},r},o.layout.partition=function(){var t=o.layout.hierarchy(),e=[1,1];function n(n,r){var i=t.call(this,n,r);return function t(e,n,r,i){var o=e.children;if(e.x=n,e.y=e.depth*i,e.dx=r,e.dy=i,o&&(a=o.length)){var a,s,l,u=-1;for(r=e.value?r/e.value:0;++u<a;)t(s=o[u],n,l=s.value*r,i),n+=l}}(i[0],0,e[0],e[1]/function t(e){var n=e.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,t(n[o]));return 1+r}(i[0])),i}return n.size=function(t){return arguments.length?(e=t,n):e},So(n,t)},o.layout.pie=function(){var t=Number,e=To,n=0,r=Ft,i=0;function a(s){var l,u=s.length,c=s.map(function(e,n){return+t.call(a,e,n)}),d=+("function"==typeof n?n.apply(this,arguments):n),f=("function"==typeof r?r.apply(this,arguments):r)-d,h=Math.min(Math.abs(f)/u,+("function"==typeof i?i.apply(this,arguments):i)),p=h*(f<0?-1:1),g=(f-u*p)/o.sum(c),v=o.range(u),m=[];return null!=e&&v.sort(e===To?function(t,e){return c[e]-c[t]}:function(t,n){return e(s[t],s[n])}),v.forEach(function(t){m[t]={data:s[t],value:l=c[t],startAngle:d,endAngle:d+=l*g+p,padAngle:h}}),m}return a.value=function(e){return arguments.length?(t=e,a):t},a.sort=function(t){return arguments.length?(e=t,a):e},a.startAngle=function(t){return arguments.length?(n=t,a):n},a.endAngle=function(t){return arguments.length?(r=t,a):r},a.padAngle=function(t){return arguments.length?(i=t,a):i},a};var To={};function Io(t){return t.x}function Oo(t){return t.y}function Lo(t,e,n){t.y0=e,t.y=n}o.layout.stack=function(){var t=O,e=Ro,n=Bo,r=Lo,i=Io,a=Oo;function s(l,u){if(!(h=l.length))return l;var c=l.map(function(e,n){return t.call(s,e,n)}),d=c.map(function(t){return t.map(function(t,e){return[i.call(s,t,e),a.call(s,t,e)]})}),f=e.call(s,d,u);c=o.permute(c,f),d=o.permute(d,f);var h,p,g,v,m=n.call(s,d,u),y=c[0].length;for(g=0;g<y;++g)for(r.call(s,c[0][g],v=m[g],d[0][g][1]),p=1;p<h;++p)r.call(s,c[p][g],v+=d[p-1][g][1],d[p][g][1]);return l}return s.values=function(e){return arguments.length?(t=e,s):t},s.order=function(t){return arguments.length?(e="function"==typeof t?t:Wo.get(t)||Ro,s):e},s.offset=function(t){return arguments.length?(n="function"==typeof t?t:zo.get(t)||Bo,s):n},s.x=function(t){return arguments.length?(i=t,s):i},s.y=function(t){return arguments.length?(a=t,s):a},s.out=function(t){return arguments.length?(r=t,s):r},s};var Wo=o.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(Vo),a=t.map(Ho),s=o.range(r).sort(function(t,e){return i[t]-i[e]}),l=0,u=0,c=[],d=[];for(e=0;e<r;++e)n=s[e],l<u?(l+=a[n],c.push(n)):(u+=a[n],d.push(n));return d.reverse().concat(c)},reverse:function(t){return o.range(t.length).reverse()},default:Ro}),zo=o.map({silhouette:function(t){var e,n,r,i=t.length,o=t[0].length,a=[],s=0,l=[];for(n=0;n<o;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];r>s&&(s=r),a.push(r)}for(n=0;n<o;++n)l[n]=(s-a[n])/2;return l},wiggle:function(t){var e,n,r,i,o,a,s,l,u,c=t.length,d=t[0],f=d.length,h=[];for(h[0]=l=u=0,n=1;n<f;++n){for(e=0,i=0;e<c;++e)i+=t[e][n][1];for(e=0,o=0,s=d[n][0]-d[n-1][0];e<c;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);r<e;++r)a+=(t[r][n][1]-t[r][n-1][1])/s;o+=a*t[e][n][1]}h[n]=l-=i?o/i*s:0,l<u&&(u=l)}for(n=0;n<f;++n)h[n]-=u;return h},expand:function(t){var e,n,r,i=t.length,o=t[0].length,a=1/i,s=[];for(n=0;n<o;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s},zero:Bo});function Ro(t){return o.range(t.length)}function Bo(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function Vo(t){for(var e,n=1,r=0,i=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function Ho(t){return t.reduce(jo,0)}function jo(t,e){return t+e[1]}function qo(t,e){return Yo(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function Yo(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function Xo(t){return[o.min(t),o.max(t)]}function Uo(t,e){return t.value-e.value}function Go(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function Zo(t,e){t._pack_next=e,e._pack_prev=t}function Ko(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function Jo(t){if((e=t.children)&&(l=e.length)){var e,n,r,i,o,a,s,l,u=1/0,c=-1/0,d=1/0,f=-1/0;if(e.forEach($o),(n=e[0]).x=-n.r,n.y=0,x(n),l>1&&((r=e[1]).x=r.r,r.y=0,x(r),l>2))for(ta(n,r,i=e[2]),x(i),Go(n,i),n._pack_prev=i,Go(i,r),r=n._pack_next,o=3;o<l;o++){ta(n,r,i=e[o]);var h=0,p=1,g=1;for(a=r._pack_next;a!==r;a=a._pack_next,p++)if(Ko(a,i)){h=1;break}if(1==h)for(s=n._pack_prev;s!==a._pack_prev&&!Ko(s,i);s=s._pack_prev,g++);h?(p<g||p==g&&r.r<n.r?Zo(n,r=a):Zo(n=s,r),o--):(Go(n,i),r=i,x(i))}var v=(u+c)/2,m=(d+f)/2,y=0;for(o=0;o<l;o++)(i=e[o]).x-=v,i.y-=m,y=Math.max(y,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=y,e.forEach(Qo)}function x(t){u=Math.min(t.x-t.r,u),c=Math.max(t.x+t.r,c),d=Math.min(t.y-t.r,d),f=Math.max(t.y+t.r,f)}}function $o(t){t._pack_next=t._pack_prev=t}function Qo(t){delete t._pack_next,delete t._pack_prev}function ta(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var a=e.r+n.r,s=i*i+o*o,l=.5+((r*=r)-(a*=a))/(2*s),u=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=t.x+l*i+u*o,n.y=t.y+l*o-u*i}else n.x=t.x+r,n.y=t.y}function ea(t,e){return t.parent==e.parent?1:2}function na(t){var e=t.children;return e.length?e[0]:t.t}function ra(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function ia(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function oa(t,e,n){return t.a.parent===e.parent?t.a:n}function aa(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function sa(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function la(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function ua(t){return t.rangeExtent?t.rangeExtent():la(t.range())}function ca(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(i(t))}}function da(t,e){var n,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}o.layout.histogram=function(){var t=!0,e=Number,n=Xo,r=qo;function i(i,a){for(var s,l,u=[],c=i.map(e,this),d=n.call(this,c,a),f=r.call(this,d,c,a),h=(a=-1,c.length),p=f.length-1,g=t?1:1/h;++a<p;)(s=u[a]=[]).dx=f[a+1]-(s.x=f[a]),s.y=0;if(p>0)for(a=-1;++a<h;)(l=c[a])>=d[0]&&l<=d[1]&&((s=u[o.bisect(f,l,1,p)-1]).y+=g,s.push(i[a]));return u}return i.value=function(t){return arguments.length?(e=t,i):e},i.range=function(t){return arguments.length?(n=xe(t),i):n},i.bins=function(t){return arguments.length?(r="number"==typeof t?function(e){return Yo(e,t)}:xe(t),i):r},i.frequency=function(e){return arguments.length?(t=!!e,i):t},i},o.layout.pack=function(){var t,e=o.layout.hierarchy().sort(Uo),n=0,r=[1,1];function i(i,o){var a=e.call(this,i,o),s=a[0],l=r[0],u=r[1],c=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(s.x=s.y=0,Do(s,function(t){t.r=+c(t.value)}),Do(s,Jo),n){var d=n*(t?1:Math.max(2*s.r/l,2*s.r/u))/2;Do(s,function(t){t.r+=d}),Do(s,Jo),Do(s,function(t){t.r-=d})}return function t(e,n,r,i){var o=e.children;if(e.x=n+=i*e.x,e.y=r+=i*e.y,e.r*=i,o)for(var a=-1,s=o.length;++a<s;)t(o[a],n,r,i)}(s,l/2,u/2,t?1:1/Math.max(2*s.r/l,2*s.r/u)),a}return i.size=function(t){return arguments.length?(r=t,i):r},i.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,i):t},i.padding=function(t){return arguments.length?(n=+t,i):n},So(i,e)},o.layout.tree=function(){var t=o.layout.hierarchy().sort(null).value(null),e=ea,n=[1,1],r=null;function i(i,o){var u=t.call(this,i,o),c=u[0],d=function(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var i,o=e.children,a=0,s=o.length;a<s;++a)r.push((o[a]=i={_:o[a],parent:e,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}(c);if(Do(d,a),d.parent.m=-d.z,_o(d,s),r)_o(c,l);else{var f=c,h=c,p=c;_o(c,function(t){t.x<f.x&&(f=t),t.x>h.x&&(h=t),t.depth>p.depth&&(p=t)});var g=e(f,h)/2-f.x,v=n[0]/(h.x+e(h,f)/2+g),m=n[1]/(p.depth||1);_o(c,function(t){t.x=(t.x+g)*v,t.y=t.depth*m})}return u}function a(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n.length){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(t);var o=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,n,r){if(n){for(var i,o=t,a=t,s=n,l=o.parent.children[0],u=o.m,c=a.m,d=s.m,f=l.m;s=ra(s),o=na(o),s&&o;)l=na(l),(a=ra(a)).a=t,(i=s.z+d-o.z-u+e(s._,o._))>0&&(ia(oa(s,t,r),t,i),u+=i,c+=i),d+=s.m,u+=o.m,f+=l.m,c+=a.m;s&&!ra(a)&&(a.t=s,a.m+=d-c),o&&!na(l)&&(l.t=o,l.m+=u-f,r=t)}return r}(t,i,t.parent.A||r[0])}function s(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function l(t){t.x*=n[0],t.y=t.depth*n[1]}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(t){return arguments.length?(r=null==(n=t)?l:null,i):r?null:n},i.nodeSize=function(t){return arguments.length?(r=null==(n=t)?null:l,i):r?n:null},So(i,t)},o.layout.cluster=function(){var t=o.layout.hierarchy().sort(null).value(null),e=ea,n=[1,1],r=!1;function i(i,a){var s,l=t.call(this,i,a),u=l[0],c=0;Do(u,function(t){var n=t.children;n&&n.length?(t.x=function(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}(n),t.y=function(t){return 1+o.max(t,function(t){return t.y})}(n)):(t.x=s?c+=e(t,s):0,t.y=0,s=t)});var d=function t(e){var n=e.children;return n&&n.length?t(n[0]):e}(u),f=function t(e){var n,r=e.children;return r&&(n=r.length)?t(r[n-1]):e}(u),h=d.x-e(d,f)/2,p=f.x+e(f,d)/2;return Do(u,r?function(t){t.x=(t.x-u.x)*n[0],t.y=(u.y-t.y)*n[1]}:function(t){t.x=(t.x-h)/(p-h)*n[0],t.y=(1-(u.y?t.y/u.y:1))*n[1]}),l}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(t){return arguments.length?(r=null==(n=t),i):r?null:n},i.nodeSize=function(t){return arguments.length?(r=null!=(n=t),i):r?n:null},So(i,t)},o.layout.treemap=function(){var t,e=o.layout.hierarchy(),n=Math.round,r=[1,1],i=null,a=aa,s=!1,l="squarify",u=.5*(1+Math.sqrt(5));function c(t,e){for(var n,r,i=-1,o=t.length;++i<o;)r=(n=t[i]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function d(t){var e=t.children;if(e&&e.length){var n,r,i,o=a(t),s=[],u=e.slice(),f=1/0,g="slice"===l?o.dx:"dice"===l?o.dy:"slice-dice"===l?1&t.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(c(u,o.dx*o.dy/t.value),s.area=0;(i=u.length)>0;)s.push(n=u[i-1]),s.area+=n.area,"squarify"!==l||(r=h(s,g))<=f?(u.pop(),f=r):(s.area-=s.pop().area,p(s,g,o,!1),g=Math.min(o.dx,o.dy),s.length=s.area=0,f=1/0);s.length&&(p(s,g,o,!0),s.length=s.area=0),e.forEach(d)}}function f(t){var e=t.children;if(e&&e.length){var n,r=a(t),i=e.slice(),o=[];for(c(i,r.dx*r.dy/t.value),o.area=0;n=i.pop();)o.push(n),o.area+=n.area,null!=n.z&&(p(o,n.z?r.dx:r.dy,r,!i.length),o.length=o.area=0);e.forEach(f)}}function h(t,e){for(var n,r=t.area,i=0,o=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(n<o&&(o=n),n>i&&(i=n));return e*=e,(r*=r)?Math.max(e*i*u/r,r/(e*o*u)):1/0}function p(t,e,r,i){var o,a=-1,s=t.length,l=r.x,u=r.y,c=e?n(t.area/e):0;if(e==r.dx){for((i||c>r.dy)&&(c=r.dy);++a<s;)(o=t[a]).x=l,o.y=u,o.dy=c,l+=o.dx=Math.min(r.x+r.dx-l,c?n(o.area/c):0);o.z=!0,o.dx+=r.x+r.dx-l,r.y+=c,r.dy-=c}else{for((i||c>r.dx)&&(c=r.dx);++a<s;)(o=t[a]).x=l,o.y=u,o.dx=c,u+=o.dy=Math.min(r.y+r.dy-u,c?n(o.area/c):0);o.z=!1,o.dy+=r.y+r.dy-u,r.x+=c,r.dx-=c}}function g(n){var i=t||e(n),o=i[0];return o.x=0,o.y=0,o.dx=r[0],o.dy=r[1],t&&e.revalue(o),c([o],o.dx*o.dy/o.value),(t?f:d)(o),s&&(t=i),i}return g.size=function(t){return arguments.length?(r=t,g):r},g.padding=function(t){if(!arguments.length)return i;function e(e){return sa(e,t)}var n;return a=null==(i=t)?aa:"function"==(n=typeof t)?function(e){var n=t.call(g,e,e.depth);return null==n?aa(e):sa(e,"number"==typeof n?[n,n,n,n]:n)}:"number"===n?(t=[t,t,t,t],e):e,g},g.round=function(t){return arguments.length?(n=t?Math.round:Number,g):n!=Number},g.sticky=function(e){return arguments.length?(s=e,t=null,g):s},g.ratio=function(t){return arguments.length?(u=t,g):u},g.mode=function(t){return arguments.length?(l=t+"",g):l},So(g,e)},o.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,r,i;do{i=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r}while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=o.random.normal.apply(o,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=o.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},o.scale={};var fa={floor:O,ceil:O};function ha(t,e,n,r){var i=[],a=[],s=0,l=Math.min(t.length,e.length)-1;for(t[l]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<=l;)i.push(n(t[s-1],t[s])),a.push(r(e[s-1],e[s]));return function(e){var n=o.bisect(t,e,1,l)-1;return a[n](i[n](e))}}function pa(t,e){return o.rebind(t,e,"range","rangeRound","interpolate","clamp")}function ga(t,e){return da(t,(n=va(t,e)[2])?{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}:fa);var n}function va(t,e){null==e&&(e=10);var n=la(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function ma(t,e){return o.range.apply(o,va(t,e))}function ya(t,e,n){var r=va(t,e);if(n){var i=Te.exec(n);if(i.shift(),"s"===i[8]){var a=o.formatPrefix(Math.max(M(r[0]),M(r[1])));return i[7]||(i[7]="."+ba(a.scale(r[2]))),i[8]="f",n=o.format(i.join("")),function(t){return n(a.scale(t))+a.symbol}}i[7]||(i[7]="."+function(t,e){var n=ba(e[2]);return t in xa?Math.abs(n-ba(Math.max(M(e[0]),M(e[1]))))+ +("e"!==t):n-2*("%"===t)}(i[8],r)),n=i.join("")}else n=",."+ba(r[2])+"f";return o.format(n)}o.scale.linear=function(){return function t(e,n,r,i){var o,a;function s(){var t=Math.min(e.length,n.length)>2?ha:ca,s=i?vo:go;return o=t(e,n,s,r),a=t(n,e,s,Gi),l}function l(t){return o(t)}return l.invert=function(t){return a(t)},l.domain=function(t){return arguments.length?(e=t.map(Number),s()):e},l.range=function(t){return arguments.length?(n=t,s()):n},l.rangeRound=function(t){return l.range(t).interpolate(lo)},l.clamp=function(t){return arguments.length?(i=t,s()):i},l.interpolate=function(t){return arguments.length?(r=t,s()):r},l.ticks=function(t){return ma(e,t)},l.tickFormat=function(t,n){return ya(e,t,n)},l.nice=function(t){return ga(e,t),s()},l.copy=function(){return t(e,n,r,i)},s()}([0,1],[0,1],Gi,!1)};var xa={s:1,g:1,p:1,r:1,e:1};function ba(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}o.scale.log=function(){return function t(e,n,r,i){function a(t){return(r?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(n)}function s(t){return r?Math.pow(n,t):-Math.pow(n,-t)}function l(t){return e(a(t))}return l.invert=function(t){return s(e.invert(t))},l.domain=function(t){return arguments.length?(r=t[0]>=0,e.domain((i=t.map(Number)).map(a)),l):i},l.base=function(t){return arguments.length?(n=+t,e.domain(i.map(a)),l):n},l.nice=function(){var t=da(i.map(a),r?Math:Ma);return e.domain(t),i=t.map(s),l},l.ticks=function(){var t=la(i),e=[],o=t[0],l=t[1],u=Math.floor(a(o)),c=Math.ceil(a(l)),d=n%1?2:n;if(isFinite(c-u)){if(r){for(;u<c;u++)for(var f=1;f<d;f++)e.push(s(u)*f);e.push(s(u))}else for(e.push(s(u));u++<c;)for(f=d-1;f>0;f--)e.push(s(u)*f);for(u=0;e[u]<o;u++);for(c=e.length;e[c-1]>l;c--);e=e.slice(u,c)}return e},l.tickFormat=function(t,e){if(!arguments.length)return ka;arguments.length<2?e=ka:"function"!=typeof e&&(e=o.format(e));var n,i=Math.max(.1,t/l.ticks().length),u=r?(n=1e-12,Math.ceil):(n=-1e-12,Math.floor);return function(t){return t/s(u(a(t)+n))<=i?e(t):""}},l.copy=function(){return t(e.copy(),n,r,i)},pa(l,e)}(o.scale.linear().domain([0,1]),10,!0,[1,10])};var ka=o.format(".0e"),Ma={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function wa(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}o.scale.pow=function(){return function t(e,n,r){var i=wa(n),o=wa(1/n);function a(t){return e(i(t))}return a.invert=function(t){return o(e.invert(t))},a.domain=function(t){return arguments.length?(e.domain((r=t.map(Number)).map(i)),a):r},a.ticks=function(t){return ma(r,t)},a.tickFormat=function(t,e){return ya(r,t,e)},a.nice=function(t){return a.domain(ga(r,t))},a.exponent=function(t){return arguments.length?(i=wa(n=t),o=wa(1/n),e.domain(r.map(i)),a):n},a.copy=function(){return t(e.copy(),n,r)},pa(a,e)}(o.scale.linear(),1,[0,1])},o.scale.sqrt=function(){return o.scale.pow().exponent(.5)},o.scale.ordinal=function(){return function t(e,n){var r,i,a;function s(t){return i[((r.get(t)||("range"===n.t?r.set(t,e.push(t)):NaN))-1)%i.length]}function l(t,n){return o.range(e.length).map(function(e){return t+n*e})}return s.domain=function(t){if(!arguments.length)return e;e=[],r=new C;for(var i,o=-1,a=t.length;++o<a;)r.has(i=t[o])||r.set(i,e.push(i));return s[n.t].apply(s,n.a)},s.range=function(t){return arguments.length?(i=t,a=0,n={t:"range",a:arguments},s):i},s.rangePoints=function(t,r){arguments.length<2&&(r=0);var o=t[0],u=t[1],c=e.length<2?(o=(o+u)/2,0):(u-o)/(e.length-1+r);return i=l(o+c*r/2,c),a=0,n={t:"rangePoints",a:arguments},s},s.rangeRoundPoints=function(t,r){arguments.length<2&&(r=0);var o=t[0],u=t[1],c=e.length<2?(o=u=Math.round((o+u)/2),0):(u-o)/(e.length-1+r)|0;return i=l(o+Math.round(c*r/2+(u-o-(e.length-1+r)*c)/2),c),a=0,n={t:"rangeRoundPoints",a:arguments},s},s.rangeBands=function(t,r,o){arguments.length<2&&(r=0),arguments.length<3&&(o=r);var u=t[1]<t[0],c=t[u-0],d=(t[1-u]-c)/(e.length-r+2*o);return i=l(c+d*o,d),u&&i.reverse(),a=d*(1-r),n={t:"rangeBands",a:arguments},s},s.rangeRoundBands=function(t,r,o){arguments.length<2&&(r=0),arguments.length<3&&(o=r);var u=t[1]<t[0],c=t[u-0],d=t[1-u],f=Math.floor((d-c)/(e.length-r+2*o));return i=l(c+Math.round((d-c-(e.length-r)*f)/2),f),u&&i.reverse(),a=Math.round(f*(1-r)),n={t:"rangeRoundBands",a:arguments},s},s.rangeBand=function(){return a},s.rangeExtent=function(){return la(n.a[0])},s.copy=function(){return t(e,n)},s.domain(e)}([],{t:"range",a:[[]]})},o.scale.category10=function(){return o.scale.ordinal().range(Ca)},o.scale.category20=function(){return o.scale.ordinal().range(Aa)},o.scale.category20b=function(){return o.scale.ordinal().range(Sa)},o.scale.category20c=function(){return o.scale.ordinal().range(_a)};var Ca=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ce),Aa=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ce),Sa=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ce),_a=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ce);function Da(){return 0}o.scale.quantile=function(){return function t(e,n){var r;function i(){var t=0,i=n.length;for(r=[];++t<i;)r[t-1]=o.quantile(e,t/i);return a}function a(t){if(!isNaN(t=+t))return n[o.bisect(r,t)]}return a.domain=function(t){return arguments.length?(e=t.map(m).filter(y).sort(v),i()):e},a.range=function(t){return arguments.length?(n=t,i()):n},a.quantiles=function(){return r},a.invertExtent=function(t){return(t=n.indexOf(t))<0?[NaN,NaN]:[t>0?r[t-1]:e[0],t<r.length?r[t]:e[e.length-1]]},a.copy=function(){return t(e,n)},i()}([],[])},o.scale.quantize=function(){return function t(e,n,r){var i,o;function a(t){return r[Math.max(0,Math.min(o,Math.floor(i*(t-e))))]}function s(){return i=r.length/(n-e),o=r.length-1,a}return a.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],s()):[e,n]},a.range=function(t){return arguments.length?(r=t,s()):r},a.invertExtent=function(t){return[t=(t=r.indexOf(t))<0?NaN:t/i+e,t+1/i]},a.copy=function(){return t(e,n,r)},s()}(0,1,[0,1])},o.scale.threshold=function(){return function t(e,n){function r(t){if(t<=t)return n[o.bisect(e,t)]}return r.domain=function(t){return arguments.length?(e=t,r):e},r.range=function(t){return arguments.length?(n=t,r):n},r.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]},r.copy=function(){return t(e,n)},r}([.5],[0,1])},o.scale.identity=function(){return function t(e){function n(t){return+t}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=t.map(n),n):e},n.ticks=function(t){return ma(e,t)},n.tickFormat=function(t,n){return ya(e,t,n)},n.copy=function(){return t(e)},n}([0,1])},o.svg={},o.svg.arc=function(){var t=Ea,e=Na,n=Da,r=Fa,i=Pa,o=Ta,a=Ia;function s(){var s=Math.max(0,+t.apply(this,arguments)),u=Math.max(0,+e.apply(this,arguments)),c=i.apply(this,arguments)-Nt,d=o.apply(this,arguments)-Nt,f=Math.abs(d-c),h=c>d?0:1;if(u<s&&(p=u,u=s,s=p),f>=Et)return l(u,h)+(s?l(s,1-h):"")+"Z";var p,g,v,m,y,x,b,k,M,w,C,A,S=0,_=0,D=[];if((m=(+a.apply(this,arguments)||0)/2)&&(v=r===Fa?Math.sqrt(s*s+u*u):+r.apply(this,arguments),h||(_*=-1),u&&(_=Wt(v/u*Math.sin(m))),s&&(S=Wt(v/s*Math.sin(m)))),u){y=u*Math.cos(c+_),x=u*Math.sin(c+_),b=u*Math.cos(d-_),k=u*Math.sin(d-_);var F=Math.abs(d-c-2*_)<=Dt?0:1;if(_&&Oa(y,x,b,k)===h^F){var E=(c+d)/2;y=u*Math.cos(E),x=u*Math.sin(E),b=k=null}}else y=x=0;if(s){M=s*Math.cos(d-S),w=s*Math.sin(d-S),C=s*Math.cos(c+S),A=s*Math.sin(c+S);var N=Math.abs(c-d+2*S)<=Dt?0:1;if(S&&Oa(M,w,C,A)===1-h^N){var P=(c+d)/2;M=s*Math.cos(P),w=s*Math.sin(P),C=A=null}}else M=w=0;if((p=Math.min(Math.abs(u-s)/2,+n.apply(this,arguments)))>.001){g=s<u^h?0:1;var T=null==C?[M,w]:null==b?[y,x]:li([y,x],[C,A],[b,k],[M,w]),I=y-T[0],O=x-T[1],L=b-T[0],W=k-T[1],z=1/Math.sin(Math.acos((I*L+O*W)/(Math.sqrt(I*I+O*O)*Math.sqrt(L*L+W*W)))/2),R=Math.sqrt(T[0]*T[0]+T[1]*T[1]);if(null!=b){var B=Math.min(p,(u-R)/(z+1)),V=La(null==C?[M,w]:[C,A],[y,x],u,B,h),H=La([b,k],[M,w],u,B,h);p===B?D.push("M",V[0],"A",B,",",B," 0 0,",g," ",V[1],"A",u,",",u," 0 ",1-h^Oa(V[1][0],V[1][1],H[1][0],H[1][1]),",",h," ",H[1],"A",B,",",B," 0 0,",g," ",H[0]):D.push("M",V[0],"A",B,",",B," 0 1,",g," ",H[0])}else D.push("M",y,",",x);if(null!=C){var j=Math.min(p,(s-R)/(z-1)),q=La([y,x],[C,A],s,-j,h),Y=La([M,w],null==b?[y,x]:[b,k],s,-j,h);p===j?D.push("L",Y[0],"A",j,",",j," 0 0,",g," ",Y[1],"A",s,",",s," 0 ",h^Oa(Y[1][0],Y[1][1],q[1][0],q[1][1]),",",1-h," ",q[1],"A",j,",",j," 0 0,",g," ",q[0]):D.push("L",Y[0],"A",j,",",j," 0 0,",g," ",q[0])}else D.push("L",M,",",w)}else D.push("M",y,",",x),null!=b&&D.push("A",u,",",u," 0 ",F,",",h," ",b,",",k),D.push("L",M,",",w),null!=C&&D.push("A",s,",",s," 0 ",N,",",1-h," ",C,",",A);return D.push("Z"),D.join("")}function l(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}return s.innerRadius=function(e){return arguments.length?(t=xe(e),s):t},s.outerRadius=function(t){return arguments.length?(e=xe(t),s):e},s.cornerRadius=function(t){return arguments.length?(n=xe(t),s):n},s.padRadius=function(t){return arguments.length?(r=t==Fa?Fa:xe(t),s):r},s.startAngle=function(t){return arguments.length?(i=xe(t),s):i},s.endAngle=function(t){return arguments.length?(o=xe(t),s):o},s.padAngle=function(t){return arguments.length?(a=xe(t),s):a},s.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Nt;return[Math.cos(r)*n,Math.sin(r)*n]},s};var Fa="auto";function Ea(t){return t.innerRadius}function Na(t){return t.outerRadius}function Pa(t){return t.startAngle}function Ta(t){return t.endAngle}function Ia(t){return t&&t.padAngle}function Oa(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function La(t,e,n,r,i){var o=t[0]-e[0],a=t[1]-e[1],s=(i?r:-r)/Math.sqrt(o*o+a*a),l=s*a,u=-s*o,c=t[0]+l,d=t[1]+u,f=e[0]+l,h=e[1]+u,p=(c+f)/2,g=(d+h)/2,v=f-c,m=h-d,y=v*v+m*m,x=n-r,b=c*h-f*d,k=(m<0?-1:1)*Math.sqrt(x*x*y-b*b),M=(b*m-v*k)/y,w=(-b*v-m*k)/y,C=(b*m+v*k)/y,A=(-b*v+m*k)/y,S=M-p,_=w-g,D=C-p,F=A-g;return S*S+_*_>D*D+F*F&&(M=C,w=A),[[M-l,w-u],[M*n/x,w*n/x]]}function Wa(t){var e=ni,n=ri,r=Kn,i=Ra,o=i.key,a=.7;function s(o){var s,l=[],u=[],c=-1,d=o.length,f=xe(e),h=xe(n);function p(){l.push("M",i(t(u),a))}for(;++c<d;)r.call(this,s=o[c],c)?u.push([+f.call(this,s,c),+h.call(this,s,c)]):u.length&&(p(),u=[]);return u.length&&p(),l.length?l.join(""):null}return s.x=function(t){return arguments.length?(e=t,s):e},s.y=function(t){return arguments.length?(n=t,s):n},s.defined=function(t){return arguments.length?(r=t,s):r},s.interpolate=function(t){return arguments.length?(o="function"==typeof t?i=t:(i=za.get(t)||Ra).key,s):o},s.tension=function(t){return arguments.length?(a=t,s):a},s}o.svg.line=function(){return Wa(O)};var za=o.map({linear:Ra,"linear-closed":function(t){return Ra(t)+"Z"},step:function(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")},"step-before":Ba,"step-after":Va,basis:qa,"basis-open":function(t){if(t.length<4)return Ra(t);for(var e,n=[],r=-1,i=t.length,o=[0],a=[0];++r<3;)o.push((e=t[r])[0]),a.push(e[1]);for(n.push(Ya(Ga,o)+","+Ya(Ga,a)),--r;++r<i;)e=t[r],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Za(n,o,a);return n.join("")},"basis-closed":function(t){for(var e,n,r=-1,i=t.length,o=i+4,a=[],s=[];++r<4;)a.push((n=t[r%i])[0]),s.push(n[1]);for(e=[Ya(Ga,a),",",Ya(Ga,s)],--r;++r<o;)n=t[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Za(e,a,s);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var r,i,o=t[0][0],a=t[0][1],s=t[n][0]-o,l=t[n][1]-a,u=-1;++u<=n;)(r=t[u])[0]=e*r[0]+(1-e)*(o+(i=u/n)*s),r[1]=e*r[1]+(1-e)*(a+i*l);return qa(t)},cardinal:function(t,e){return t.length<3?Ra(t):t[0]+Ha(t,ja(t,e))},"cardinal-open":function(t,e){return t.length<4?Ra(t):t[1]+Ha(t.slice(1,-1),ja(t,e))},"cardinal-closed":function(t,e){return t.length<3?Ra(t):t[0]+Ha((t.push(t[0]),t),ja([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?Ra(t):t[0]+Ha(t,function(t){for(var e,n,r,i,o=[],a=function(t){for(var e=0,n=t.length-1,r=[],i=t[0],o=t[1],a=r[0]=Ka(i,o);++e<n;)r[e]=(a+(a=Ka(i=o,o=t[e+1])))/2;return r[e]=a,r}(t),s=-1,l=t.length-1;++s<l;)e=Ka(t[s],t[s+1]),M(e)<St?a[s]=a[s+1]=0:(i=(n=a[s]/e)*n+(r=a[s+1]/e)*r)>9&&(i=3*e/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r);for(s=-1;++s<=l;)i=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}(t))}});function Ra(t){return t.join("L")}function Ba(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function Va(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function Ha(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Ra(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],a=e[0],s=a,l=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=t[1],l=2),e.length>1){o=t[l],l++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-(s=e[1])[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var u=2;u<e.length;u++,l++)r+="S"+((o=t[l])[0]-(s=e[u])[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=t[l];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function ja(t,e){for(var n,r=[],i=(1-e)/2,o=t[0],a=t[1],s=1,l=t.length;++s<l;)n=o,o=a,r.push([i*((a=t[s])[0]-n[0]),i*(a[1]-n[1])]);return r}function qa(t){if(t.length<3)return Ra(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],a=[i,i,i,(r=t[1])[0]],s=[o,o,o,r[1]],l=[i,",",o,"L",Ya(Ga,a),",",Ya(Ga,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),Za(l,a,s);return t.pop(),l.push("L",r),l.join("")}function Ya(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}za.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Xa=[0,2/3,1/3,0],Ua=[0,1/3,2/3,0],Ga=[0,1/6,2/3,1/6];function Za(t,e,n){t.push("C",Ya(Xa,e),",",Ya(Xa,n),",",Ya(Ua,e),",",Ya(Ua,n),",",Ya(Ga,e),",",Ya(Ga,n))}function Ka(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Ja(t){for(var e,n,r,i=-1,o=t.length;++i<o;)r=(e=t[i])[1]-Nt,e[0]=(n=e[0])*Math.cos(r),e[1]=n*Math.sin(r);return t}function $a(t){var e=ni,n=ni,r=0,i=ri,o=Kn,a=Ra,s=a.key,l=a,u="L",c=.7;function d(s){var d,f,h,p=[],g=[],v=[],m=-1,y=s.length,x=xe(e),b=xe(r),k=e===n?function(){return f}:xe(n),M=r===i?function(){return h}:xe(i);function w(){p.push("M",a(t(v),c),u,l(t(g.reverse()),c),"Z")}for(;++m<y;)o.call(this,d=s[m],m)?(g.push([f=+x.call(this,d,m),h=+b.call(this,d,m)]),v.push([+k.call(this,d,m),+M.call(this,d,m)])):g.length&&(w(),g=[],v=[]);return g.length&&w(),p.length?p.join(""):null}return d.x=function(t){return arguments.length?(e=n=t,d):n},d.x0=function(t){return arguments.length?(e=t,d):e},d.x1=function(t){return arguments.length?(n=t,d):n},d.y=function(t){return arguments.length?(r=i=t,d):i},d.y0=function(t){return arguments.length?(r=t,d):r},d.y1=function(t){return arguments.length?(i=t,d):i},d.defined=function(t){return arguments.length?(o=t,d):o},d.interpolate=function(t){return arguments.length?(s="function"==typeof t?a=t:(a=za.get(t)||Ra).key,l=a.reverse||a,u=a.closed?"M":"L",d):s},d.tension=function(t){return arguments.length?(c=t,d):c},d}function Qa(t){return t.radius}function ts(t){return[t.x,t.y]}function es(){return 64}function ns(){return"circle"}function rs(t){var e=Math.sqrt(t/Dt);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}o.svg.line.radial=function(){var t=Wa(Ja);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Ba.reverse=Va,Va.reverse=Ba,o.svg.area=function(){return $a(O)},o.svg.area.radial=function(){var t=$a(Ja);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},o.svg.chord=function(){var t=Hr,e=jr,n=Qa,r=Pa,i=Ta;function o(n,r){var i,o,u=a(this,t,n,r),c=a(this,e,n,r);return"M"+u.p0+s(u.r,u.p1,u.a1-u.a0)+((i=u).a0==(o=c).a0&&i.a1==o.a1?l(0,0,0,u.p0):l(0,0,0,c.p0)+s(c.r,c.p1,c.a1-c.a0)+l(0,0,0,u.p0))+"Z"}function a(t,e,o,a){var s=e.call(t,o,a),l=n.call(t,s,a),u=r.call(t,s,a)-Nt,c=i.call(t,s,a)-Nt;return{r:l,a0:u,a1:c,p0:[l*Math.cos(u),l*Math.sin(u)],p1:[l*Math.cos(c),l*Math.sin(c)]}}function s(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Dt)+",1 "+e}function l(t,e,n,r){return"Q 0,0 "+r}return o.radius=function(t){return arguments.length?(n=xe(t),o):n},o.source=function(e){return arguments.length?(t=xe(e),o):t},o.target=function(t){return arguments.length?(e=xe(t),o):e},o.startAngle=function(t){return arguments.length?(r=xe(t),o):r},o.endAngle=function(t){return arguments.length?(i=xe(t),o):i},o},o.svg.diagonal=function(){var t=Hr,e=jr,n=ts;function r(r,i){var o=t.call(this,r,i),a=e.call(this,r,i),s=(o.y+a.y)/2,l=[o,{x:o.x,y:s},{x:a.x,y:s},a];return"M"+(l=l.map(n))[0]+"C"+l[1]+" "+l[2]+" "+l[3]}return r.source=function(e){return arguments.length?(t=xe(e),r):t},r.target=function(t){return arguments.length?(e=xe(t),r):e},r.projection=function(t){return arguments.length?(n=t,r):n},r},o.svg.diagonal.radial=function(){var t=o.svg.diagonal(),e=ts,n=t.projection;return t.projection=function(t){return arguments.length?n(function(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-Nt;return[n*Math.cos(r),n*Math.sin(r)]}}(e=t)):e},t},o.svg.symbol=function(){var t=ns,e=es;function n(n,r){return(is.get(t.call(this,n,r))||rs)(e.call(this,n,r))}return n.type=function(e){return arguments.length?(t=xe(e),n):t},n.size=function(t){return arguments.length?(e=xe(t),n):e},n};var is=o.map({circle:rs,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*as)),n=e*as;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/os),n=e*os/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/os),n=e*os/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});o.svg.symbolTypes=is.keys();var os=Math.sqrt(3),as=Math.tan(30*Pt);J.transition=function(t){for(var e,n,r=cs||++hs,i=vs(t),o=[],a=ds||{time:Date.now(),ease:ro,delay:0,duration:250},s=-1,l=this.length;++s<l;){o.push(e=[]);for(var u=this[s],c=-1,d=u.length;++c<d;)(n=u[c])&&ms(n,c,i,r,a),e.push(n)}return us(o,i,r)},J.interrupt=function(t){return this.each(null==t?ss:ls(vs(t)))};var ss=ls(vs());function ls(t){return function(){var e,n;(e=this[t])&&(n=e[e.active])&&(--e.count?delete e[e.active]:delete this[t],e.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function us(t,e,n){return X(t,fs),t.namespace=e,t.id=n,t}var cs,ds,fs=[],hs=0;function ps(t,e,n,r){var i=t.id,o=t.namespace;return ht(t,"function"==typeof n?function(t,a,s){t[o][i].tween.set(e,r(n.call(t,t.__data__,a,s)))}:(n=r(n),function(t){t[o][i].tween.set(e,n)}))}function gs(t){return null==t&&(t=""),function(){this.textContent=t}}function vs(t){return null==t?"__transition__":"__transition_"+t+"__"}function ms(t,e,n,r,i){var a=t[n]||(t[n]={active:0,count:0}),s=a[r];if(!s){var l=i.time;s=a[r]={tween:new C,time:l,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++a.count,o.timer(function(i){var u,c,d=s.delay,f=Se,h=[];if(f.t=d+l,d<=i)return p(i-d);function p(n){if(a.active>r)return v();var i=a[a.active];i&&(--a.count,delete a[a.active],i.event&&i.event.interrupt.call(t,t.__data__,i.index)),a.active=r,s.event&&s.event.start.call(t,t.__data__,e),s.tween.forEach(function(n,r){(r=r.call(t,t.__data__,e))&&h.push(r)}),c=s.ease,u=s.duration,o.timer(function(){return f.c=g(n||1)?Kn:g,1},0,l)}function g(n){if(a.active!==r)return 1;for(var i=n/u,o=c(i),l=h.length;l>0;)h[--l].call(t,o);return i>=1?(s.event&&s.event.end.call(t,t.__data__,e),v()):void 0}function v(){return--a.count?delete a[r]:delete t[n],1}f.c=p},0,l)}}fs.call=J.call,fs.empty=J.empty,fs.node=J.node,fs.size=J.size,o.transition=function(t,e){return t&&t.transition?cs?t.transition(e):t:o.selection().transition(t)},o.transition.prototype=fs,fs.select=function(t){var e,n,r,i=this.id,o=this.namespace,a=[];t=$(t);for(var s=-1,l=this.length;++s<l;){a.push(e=[]);for(var u=this[s],c=-1,d=u.length;++c<d;)(r=u[c])&&(n=t.call(r,r.__data__,c,s))?("__data__"in r&&(n.__data__=r.__data__),ms(n,c,o,i,r[o][i]),e.push(n)):e.push(null)}return us(a,o,i)},fs.selectAll=function(t){var e,n,r,i,o,a=this.id,s=this.namespace,l=[];t=Q(t);for(var u=-1,c=this.length;++u<c;)for(var d=this[u],f=-1,h=d.length;++f<h;)if(r=d[f]){o=r[s][a],n=t.call(r,r.__data__,f,u),l.push(e=[]);for(var p=-1,g=n.length;++p<g;)(i=n[p])&&ms(i,p,s,a,o),e.push(i)}return us(l,s,a)},fs.filter=function(t){var e,n,r=[];"function"!=typeof t&&(t=ft(t));for(var i=0,o=this.length;i<o;i++){r.push(e=[]);for(var a,s=0,l=(a=this[i]).length;s<l;s++)(n=a[s])&&t.call(n,n.__data__,s,i)&&e.push(n)}return us(r,this.namespace,this.id)},fs.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):ht(this,null==e?function(e){e[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})},fs.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var n="transform"==t?po:Gi,r=o.ns.qualify(t);function i(){this.removeAttribute(r)}function a(){this.removeAttributeNS(r.space,r.local)}return ps(this,"attr."+t,e,r.local?function(t){return null==t?a:(t+="",function(){var e,i=this.getAttributeNS(r.space,r.local);return i!==t&&(e=n(i,t),function(t){this.setAttributeNS(r.space,r.local,e(t))})})}:function(t){return null==t?i:(t+="",function(){var e,i=this.getAttribute(r);return i!==t&&(e=n(i,t),function(t){this.setAttribute(r,e(t))})})})},fs.attrTween=function(t,e){var n=o.ns.qualify(t);return this.tween("attr."+t,n.local?function(t,r){var i=e.call(this,t,r,this.getAttributeNS(n.space,n.local));return i&&function(t){this.setAttributeNS(n.space,n.local,i(t))}}:function(t,r){var i=e.call(this,t,r,this.getAttribute(n));return i&&function(t){this.setAttribute(n,i(t))}})},fs.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.style(n,t[n],e);return this}n=""}function i(){this.style.removeProperty(t)}return ps(this,"style."+t,e,function(e){return null==e?i:(e+="",function(){var r,i=c(this).getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(r=Gi(i,e),function(e){this.style.setProperty(t,r(e),n)})})})},fs.styleTween=function(t,e,n){return arguments.length<3&&(n=""),this.tween("style."+t,function(r,i){var o=e.call(this,r,i,c(this).getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),n)}})},fs.text=function(t){return ps(this,"text",t,gs)},fs.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},fs.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=o.ease.apply(o,arguments)),ht(this,function(r){r[n][e].ease=t}))},fs.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:ht(this,"function"==typeof t?function(r,i,o){r[n][e].delay=+t.call(r,r.__data__,i,o)}:(t=+t,function(r){r[n][e].delay=t}))},fs.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:ht(this,"function"==typeof t?function(r,i,o){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,o))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},fs.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var i=ds,a=cs;try{cs=n,ht(this,function(e,i,o){ds=e[r][n],t.call(e,e.__data__,i,o)})}finally{ds=i,cs=a}}else ht(this,function(i){var a=i[r][n];(a.event||(a.event=o.dispatch("start","end","interrupt"))).on(t,e)});return this},fs.transition=function(){for(var t,e,n,r=this.id,i=++hs,o=this.namespace,a=[],s=0,l=this.length;s<l;s++){a.push(t=[]);for(var u,c=0,d=(u=this[s]).length;c<d;c++)(e=u[c])&&ms(e,c,o,i,{time:(n=e[o][r]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return us(a,o,i)},o.svg.axis=function(){var t,e=o.scale.linear(),n=ys,r=6,i=6,a=3,s=[10],l=null;function u(u){u.each(function(){var u,c=o.select(this),d=this.__chart__||e,f=this.__chart__=e.copy(),h=null==l?f.ticks?f.ticks.apply(f,s):f.domain():l,p=null==t?f.tickFormat?f.tickFormat.apply(f,s):O:t,g=c.selectAll(".tick").data(h,f),v=g.enter().insert("g",".domain").attr("class","tick").style("opacity",St),m=o.transition(g.exit()).style("opacity",St).remove(),y=o.transition(g.order()).style("opacity",1),x=Math.max(r,0)+a,b=ua(f),k=c.selectAll(".domain").data([0]),M=(k.enter().append("path").attr("class","domain"),o.transition(k));v.append("line"),v.append("text");var w,C,A,S,_=v.select("line"),D=y.select("line"),F=g.select("text").text(p),E=v.select("text"),N=y.select("text"),P="top"===n||"left"===n?-1:1;if("bottom"===n||"top"===n?(u=bs,w="x",A="y",C="x2",S="y2",F.attr("dy",P<0?"0em":".71em").style("text-anchor","middle"),M.attr("d","M"+b[0]+","+P*i+"V0H"+b[1]+"V"+P*i)):(u=ks,w="y",A="x",C="y2",S="x2",F.attr("dy",".32em").style("text-anchor",P<0?"end":"start"),M.attr("d","M"+P*i+","+b[0]+"H0V"+b[1]+"H"+P*i)),_.attr(S,P*r),E.attr(A,P*x),D.attr(C,0).attr(S,P*r),N.attr(w,0).attr(A,P*x),f.rangeBand){var T=f,I=T.rangeBand()/2;d=f=function(t){return T(t)+I}}else d.rangeBand?d=f:m.call(u,f,d);v.call(u,d,f),y.call(u,f,f)})}return u.scale=function(t){return arguments.length?(e=t,u):e},u.orient=function(t){return arguments.length?(n=t in xs?t+"":ys,u):n},u.ticks=function(){return arguments.length?(s=arguments,u):s},u.tickValues=function(t){return arguments.length?(l=t,u):l},u.tickFormat=function(e){return arguments.length?(t=e,u):t},u.tickSize=function(t){var e=arguments.length;return e?(r=+t,i=+arguments[e-1],u):r},u.innerTickSize=function(t){return arguments.length?(r=+t,u):r},u.outerTickSize=function(t){return arguments.length?(i=+t,u):i},u.tickPadding=function(t){return arguments.length?(a=+t,u):a},u.tickSubdivide=function(){return arguments.length&&u},u};var ys="bottom",xs={top:1,right:1,bottom:1,left:1};function bs(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"})}function ks(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"})}o.svg.brush=function(){var t,e,n=q(f,"brushstart","brush","brushend"),r=null,i=null,a=[0,0],s=[0,0],l=!0,u=!0,d=ws[0];function f(t){t.each(function(){var t=o.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",v).on("touchstart.brush",v),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(d,O);n.exit().remove(),n.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Ms[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",f.empty()?"none":null);var a,s=o.transition(t),l=o.transition(e);r&&(a=ua(r),l.attr("x",a[0]).attr("width",a[1]-a[0]),p(s)),i&&(a=ua(i),l.attr("y",a[0]).attr("height",a[1]-a[0]),g(s)),h(s)})}function h(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+a[+/e$/.test(t)]+","+s[+/^s/.test(t)]+")"})}function p(t){t.select(".extent").attr("x",a[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",a[1]-a[0])}function g(t){t.select(".extent").attr("y",s[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",s[1]-s[0])}function v(){var d,v,m=this,y=o.select(o.event.target),x=n.of(m,arguments),b=o.select(m),k=y.datum(),M=!/^(n|s)$/.test(k)&&r,w=!/^(e|w)$/.test(k)&&i,C=y.classed("extent"),A=Mt(m),S=o.mouse(m),_=o.select(c(m)).on("keydown.brush",function(){32==o.event.keyCode&&(C||(d=null,S[0]-=a[1],S[1]-=s[1],C=2),H())}).on("keyup.brush",function(){32==o.event.keyCode&&2==C&&(S[0]+=a[1],S[1]+=s[1],C=0,H())});if(o.event.changedTouches?_.on("touchmove.brush",E).on("touchend.brush",P):_.on("mousemove.brush",E).on("mouseup.brush",P),b.interrupt().selectAll("*").interrupt(),C)S[0]=a[0]-S[0],S[1]=s[0]-S[1];else if(k){var D=+/w$/.test(k),F=+/^n/.test(k);v=[a[1-D]-S[0],s[1-F]-S[1]],S[0]=a[D],S[1]=s[F]}else o.event.altKey&&(d=S.slice());function E(){var t=o.mouse(m),e=!1;v&&(t[0]+=v[0],t[1]+=v[1]),C||(o.event.altKey?(d||(d=[(a[0]+a[1])/2,(s[0]+s[1])/2]),S[0]=a[+(t[0]<d[0])],S[1]=s[+(t[1]<d[1])]):d=null),M&&N(t,r,0)&&(p(b),e=!0),w&&N(t,i,1)&&(g(b),e=!0),e&&(h(b),x({type:"brush",mode:C?"move":"resize"}))}function N(n,r,i){var o,c,f=ua(r),h=f[0],p=f[1],g=S[i],v=i?s:a,m=v[1]-v[0];if(C&&(h-=g,p-=m+g),o=(i?u:l)?Math.max(h,Math.min(p,n[i])):n[i],C?c=(o+=g)+m:(d&&(g=Math.max(h,Math.min(p,2*d[i]-o))),g<o?(c=o,o=g):c=g),v[0]!=o||v[1]!=c)return i?e=null:t=null,v[0]=o,v[1]=c,!0}function P(){E(),b.style("pointer-events","all").selectAll(".resize").style("display",f.empty()?"none":null),o.select("body").style("cursor",null),_.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),A(),x({type:"brushend"})}b.style("pointer-events","none").selectAll(".resize").style("display",null),o.select("body").style("cursor",y.style("cursor")),x({type:"brushstart"}),E()}return f.event=function(r){r.each(function(){var r=n.of(this,arguments),i={x:a,y:s,i:t,j:e},l=this.__chart__||i;this.__chart__=i,cs?o.select(this).transition().each("start.brush",function(){t=l.i,e=l.j,a=l.x,s=l.y,r({type:"brushstart"})}).tween("brush:brush",function(){var n=Zi(a,i.x),o=Zi(s,i.y);return t=e=null,function(t){a=i.x=n(t),s=i.y=o(t),r({type:"brush",mode:"resize"})}}).each("end.brush",function(){t=i.i,e=i.j,r({type:"brush",mode:"resize"}),r({type:"brushend"})}):(r({type:"brushstart"}),r({type:"brush",mode:"resize"}),r({type:"brushend"}))})},f.x=function(t){return arguments.length?(d=ws[!(r=t)<<1|!i],f):r},f.y=function(t){return arguments.length?(d=ws[!r<<1|!(i=t)],f):i},f.clamp=function(t){return arguments.length?(r&&i?(l=!!t[0],u=!!t[1]):r?l=!!t:i&&(u=!!t),f):r&&i?[l,u]:r?l:i?u:null},f.extent=function(n){var o,l,u,c,d;return arguments.length?(r&&(o=n[0],l=n[1],i&&(o=o[0],l=l[0]),t=[o,l],r.invert&&(o=r(o),l=r(l)),l<o&&(d=o,o=l,l=d),o==a[0]&&l==a[1]||(a=[o,l])),i&&(u=n[0],c=n[1],r&&(u=u[1],c=c[1]),e=[u,c],i.invert&&(u=i(u),c=i(c)),c<u&&(d=u,u=c,c=d),u==s[0]&&c==s[1]||(s=[u,c])),f):(r&&(t?(o=t[0],l=t[1]):(o=a[0],l=a[1],r.invert&&(o=r.invert(o),l=r.invert(l)),l<o&&(d=o,o=l,l=d))),i&&(e?(u=e[0],c=e[1]):(u=s[0],c=s[1],i.invert&&(u=i.invert(u),c=i.invert(c)),c<u&&(d=u,u=c,c=d))),r&&i?[[o,u],[l,c]]:r?[o,l]:i&&[u,c])},f.clear=function(){return f.empty()||(a=[0,0],s=[0,0],t=e=null),f},f.empty=function(){return!!r&&a[0]==a[1]||!!i&&s[0]==s[1]},o.rebind(f,n,"on")};var Ms={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ws=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Cs=Le.format=dn.timeFormat,As=Cs.utc,Ss=As("%Y-%m-%dT%H:%M:%S.%LZ");function _s(t){return t.toISOString()}function Ds(t,e,n){function r(e){return t(e)}function i(t,n){var r=(t[1]-t[0])/n,i=o.bisect(Es,r);return i==Es.length?[e.year,va(t.map(function(t){return t/31536e6}),n)[2]]:i?e[r/Es[i-1]<Es[i]/r?i-1:i]:[Ts,va(t,n)[2]]}return r.invert=function(e){return Fs(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(Fs)},r.nice=function(t,e){var n=r.domain(),o=la(n),a=null==t?i(o,10):"number"==typeof t&&i(o,t);function s(n){return!isNaN(n)&&!t.range(n,Fs(+n+1),e).length}return a&&(t=a[0],e=a[1]),r.domain(da(n,e>1?{floor:function(e){for(;s(e=t.floor(e));)e=Fs(e-1);return e},ceil:function(e){for(;s(e=t.ceil(e));)e=Fs(+e+1);return e}}:t))},r.ticks=function(t,e){var n=la(r.domain()),o=null==t?i(n,10):"number"==typeof t?i(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],Fs(+n[1]+1),e<1?1:e)},r.tickFormat=function(){return n},r.copy=function(){return Ds(t.copy(),e,n)},pa(r,t)}function Fs(t){return new Date(t)}Cs.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?_s:Ss,_s.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},_s.toString=Ss.toString,Le.second=Be(function(t){return new We(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),Le.seconds=Le.second.range,Le.seconds.utc=Le.second.utc.range,Le.minute=Be(function(t){return new We(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),Le.minutes=Le.minute.range,Le.minutes.utc=Le.minute.utc.range,Le.hour=Be(function(t){var e=t.getTimezoneOffset()/60;return new We(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),Le.hours=Le.hour.range,Le.hours.utc=Le.hour.utc.range,Le.month=Be(function(t){return(t=Le.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),Le.months=Le.month.range,Le.months.utc=Le.month.utc.range;var Es=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Ns=[[Le.second,1],[Le.second,5],[Le.second,15],[Le.second,30],[Le.minute,1],[Le.minute,5],[Le.minute,15],[Le.minute,30],[Le.hour,1],[Le.hour,3],[Le.hour,6],[Le.hour,12],[Le.day,1],[Le.day,2],[Le.week,1],[Le.month,1],[Le.month,3],[Le.year,1]],Ps=Cs.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Kn]]),Ts={range:function(t,e,n){return o.range(Math.ceil(t/n)*n,+e,n).map(Fs)},floor:O,ceil:O};Ns.year=Le.year,Le.scale=function(){return Ds(o.scale.linear(),Ns,Ps)};var Is=Ns.map(function(t){return[t[0].utc,t[1]]}),Os=As.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Kn]]);function Ls(t){return JSON.parse(t.responseText)}function Ws(t){var e=l.createRange();return e.selectNode(l.body),e.createContextualFragment(t.responseText)}Is.year=Le.year.utc,Le.scale.utc=function(){return Ds(o.scale.linear(),Is,Os)},o.text=be(function(t){return t.responseText}),o.json=function(t,e){return ke(t,"application/json",Ls,e)},o.html=function(t,e){return ke(t,"text/html",Ws,e)},o.xml=be(function(t){return t.responseXML}),void 0===(i="function"==typeof(r=o)?r.call(e,n,e,t):r)||(t.exports=i),this.d3=o}()},cdu6:function(t,e,n){"use strict";var r=n("CDJp"),i=n("K2E3"),o=n("RDha"),a=n("g8vO");function s(t){var e,n,r=[];for(e=0,n=t.length;e<n;++e)r.push(t[e].label);return r}function l(t,e,n){var r=t.getPixelForTick(e);return n&&(r-=0===e?(t.getPixelForTick(1)-r)/2:(r-t.getPixelForTick(e-1))/2),r}function u(t,e,n){return o.isArray(e)?o.longestText(t,n,e):t.measureText(e).width}function c(t){var e=o.valueOrDefault,n=r.global,i=e(t.fontSize,n.defaultFontSize),a=e(t.fontStyle,n.defaultFontStyle),s=e(t.fontFamily,n.defaultFontFamily);return{size:i,style:a,family:s,font:o.fontString(i,a,s)}}function d(t){return o.options.toLineHeight(o.valueOrDefault(t.lineHeight,1.2),o.valueOrDefault(t.fontSize,r.global.defaultFontSize))}r._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",lineHeight:1.2,padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:a.formatters.values,minor:{},major:{}}}),t.exports=i.extend({getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}},getTicks:function(){return this._ticks},mergeTicksOptions:function(){var t=this.options.ticks;for(var e in!1===t.minor&&(t.minor={display:!1}),!1===t.major&&(t.major={display:!1}),t)"major"!==e&&"minor"!==e&&(void 0===t.minor[e]&&(t.minor[e]=t[e]),void 0===t.major[e]&&(t.major[e]=t[e]))},beforeUpdate:function(){o.callback(this.options.beforeUpdate,[this])},update:function(t,e,n){var r,i,a,s,l,u,c=this;for(c.beforeUpdate(),c.maxWidth=t,c.maxHeight=e,c.margins=o.extend({left:0,right:0,top:0,bottom:0},n),c.longestTextCache=c.longestTextCache||{},c.beforeSetDimensions(),c.setDimensions(),c.afterSetDimensions(),c.beforeDataLimits(),c.determineDataLimits(),c.afterDataLimits(),c.beforeBuildTicks(),l=c.buildTicks()||[],c.afterBuildTicks(),c.beforeTickToLabelConversion(),a=c.convertTicksToLabels(l)||c.ticks,c.afterTickToLabelConversion(),c.ticks=a,r=0,i=a.length;r<i;++r)s=a[r],(u=l[r])?u.label=s:l.push(u={label:s,major:!1});return c._ticks=l,c.beforeCalculateTickRotation(),c.calculateTickRotation(),c.afterCalculateTickRotation(),c.beforeFit(),c.fit(),c.afterFit(),c.afterUpdate(),c.minSize},afterUpdate:function(){o.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){o.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0},afterSetDimensions:function(){o.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){o.callback(this.options.beforeDataLimits,[this])},determineDataLimits:o.noop,afterDataLimits:function(){o.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){o.callback(this.options.beforeBuildTicks,[this])},buildTicks:o.noop,afterBuildTicks:function(){o.callback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){o.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var t=this.options.ticks;this.ticks=this.ticks.map(t.userCallback||t.callback,this)},afterTickToLabelConversion:function(){o.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){o.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var t=this,e=t.ctx,n=t.options.ticks,r=s(t._ticks),i=c(n);e.font=i.font;var a=n.minRotation||0;if(r.length&&t.options.display&&t.isHorizontal())for(var l,u=o.longestText(e,i.font,r,t.longestTextCache),d=u,f=t.getPixelForTick(1)-t.getPixelForTick(0)-6;d>f&&a<n.maxRotation;){var h=o.toRadians(a);if(l=Math.cos(h),Math.sin(h)*u>t.maxHeight){a--;break}a++,d=l*u}t.labelRotation=a},afterCalculateTickRotation:function(){o.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){o.callback(this.options.beforeFit,[this])},fit:function(){var t=this,e=t.minSize={width:0,height:0},n=s(t._ticks),r=t.options,i=r.ticks,a=r.scaleLabel,l=r.gridLines,f=r.display,h=t.isHorizontal(),p=c(i),g=r.gridLines.tickMarkLength;if(e.width=h?t.isFullWidth()?t.maxWidth-t.margins.left-t.margins.right:t.maxWidth:f&&l.drawTicks?g:0,e.height=h?f&&l.drawTicks?g:0:t.maxHeight,a.display&&f){var v=d(a)+o.options.toPadding(a.padding).height;h?e.height+=v:e.width+=v}if(i.display&&f){var m=o.longestText(t.ctx,p.font,n,t.longestTextCache),y=o.numberOfLabelLines(n),x=.5*p.size,b=t.options.ticks.padding;if(h){t.longestLabelWidth=m;var k=o.toRadians(t.labelRotation),M=Math.cos(k),w=Math.sin(k);e.height=Math.min(t.maxHeight,e.height+(w*m+p.size*y+x*(y-1)+x)+b),t.ctx.font=p.font;var C=u(t.ctx,n[0],p.font),A=u(t.ctx,n[n.length-1],p.font);0!==t.labelRotation?(t.paddingLeft="bottom"===r.position?M*C+3:M*x+3,t.paddingRight="bottom"===r.position?M*x+3:M*A+3):(t.paddingLeft=C/2+3,t.paddingRight=A/2+3)}else i.mirror?m=0:m+=b+x,e.width=Math.min(t.maxWidth,e.width+m),t.paddingTop=p.size/2,t.paddingBottom=p.size/2}t.handleMargins(),t.width=e.width,t.height=e.height},handleMargins:function(){var t=this;t.margins&&(t.paddingLeft=Math.max(t.paddingLeft-t.margins.left,0),t.paddingTop=Math.max(t.paddingTop-t.margins.top,0),t.paddingRight=Math.max(t.paddingRight-t.margins.right,0),t.paddingBottom=Math.max(t.paddingBottom-t.margins.bottom,0))},afterFit:function(){o.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(t){if(o.isNullOrUndef(t))return NaN;if("number"==typeof t&&!isFinite(t))return NaN;if(t)if(this.isHorizontal()){if(void 0!==t.x)return this.getRightValue(t.x)}else if(void 0!==t.y)return this.getRightValue(t.y);return t},getLabelForIndex:o.noop,getPixelForValue:o.noop,getValueForPixel:o.noop,getPixelForTick:function(t){var e=this,n=e.options.offset;if(e.isHorizontal()){var r=(e.width-(e.paddingLeft+e.paddingRight))/Math.max(e._ticks.length-(n?0:1),1),i=r*t+e.paddingLeft;return n&&(i+=r/2),e.left+Math.round(i)+(e.isFullWidth()?e.margins.left:0)}return e.top+t*((e.height-(e.paddingTop+e.paddingBottom))/(e._ticks.length-1))},getPixelForDecimal:function(t){var e=this;return e.isHorizontal()?e.left+Math.round((e.width-(e.paddingLeft+e.paddingRight))*t+e.paddingLeft)+(e.isFullWidth()?e.margins.left:0):e.top+t*e.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var t=this.min,e=this.max;return this.beginAtZero?0:t<0&&e<0?e:t>0&&e>0?t:0},_autoSkip:function(t){var e,n,r,i,a=this,s=a.isHorizontal(),l=a.options.ticks.minor,u=t.length,c=o.toRadians(a.labelRotation),d=Math.cos(c),f=a.longestLabelWidth*d,h=[];for(l.maxTicksLimit&&(i=l.maxTicksLimit),s&&(e=!1,(f+l.autoSkipPadding)*u>a.width-(a.paddingLeft+a.paddingRight)&&(e=1+Math.floor((f+l.autoSkipPadding)*u/(a.width-(a.paddingLeft+a.paddingRight)))),i&&u>i&&(e=Math.max(e,Math.floor(u/i)))),n=0;n<u;n++)r=t[n],(e>1&&n%e>0||n%e==0&&n+e>=u)&&n!==u-1&&delete r.label,h.push(r);return h},draw:function(t){var e=this,n=e.options;if(n.display){var i=e.ctx,a=r.global,s=n.ticks.minor,u=n.ticks.major||s,f=n.gridLines,h=n.scaleLabel,p=0!==e.labelRotation,g=e.isHorizontal(),v=s.autoSkip?e._autoSkip(e.getTicks()):e.getTicks(),m=o.valueOrDefault(s.fontColor,a.defaultFontColor),y=c(s),x=o.valueOrDefault(u.fontColor,a.defaultFontColor),b=c(u),k=f.drawTicks?f.tickMarkLength:0,M=o.valueOrDefault(h.fontColor,a.defaultFontColor),w=c(h),C=o.options.toPadding(h.padding),A=o.toRadians(e.labelRotation),S=[],_=e.options.gridLines.lineWidth,D="right"===n.position?e.left:e.right-_-k,F="right"===n.position?e.left+k:e.right,E="bottom"===n.position?e.top+_:e.bottom-k-_,N="bottom"===n.position?e.top+_+k:e.bottom+_;if(o.each(v,function(r,i){if(!o.isNullOrUndef(r.label)){var u,c,d,h,m,y,x,b,M,w,C,P,T,I,O=r.label;i===e.zeroLineIndex&&n.offset===f.offsetGridLines?(u=f.zeroLineWidth,c=f.zeroLineColor,d=f.zeroLineBorderDash,h=f.zeroLineBorderDashOffset):(u=o.valueAtIndexOrDefault(f.lineWidth,i),c=o.valueAtIndexOrDefault(f.color,i),d=o.valueOrDefault(f.borderDash,a.borderDash),h=o.valueOrDefault(f.borderDashOffset,a.borderDashOffset));var L="middle",W="middle",z=s.padding;if(g){var R=k+z;"bottom"===n.position?(W=p?"middle":"top",L=p?"right":"center",I=e.top+R):(W=p?"middle":"bottom",L=p?"left":"center",I=e.bottom-R);var B=l(e,i,f.offsetGridLines&&v.length>1);B<e.left&&(c="rgba(0,0,0,0)"),B+=o.aliasPixel(u),T=e.getPixelForTick(i)+s.labelOffset,m=x=M=C=B,y=E,b=N,w=t.top,P=t.bottom+_}else{var V,H="left"===n.position;s.mirror?(L=H?"left":"right",V=z):(L=H?"right":"left",V=k+z),T=H?e.right-V:e.left+V;var j=l(e,i,f.offsetGridLines&&v.length>1);j<e.top&&(c="rgba(0,0,0,0)"),j+=o.aliasPixel(u),I=e.getPixelForTick(i)+s.labelOffset,m=D,x=F,M=t.left,C=t.right+_,y=b=w=P=j}S.push({tx1:m,ty1:y,tx2:x,ty2:b,x1:M,y1:w,x2:C,y2:P,labelX:T,labelY:I,glWidth:u,glColor:c,glBorderDash:d,glBorderDashOffset:h,rotation:-1*A,label:O,major:r.major,textBaseline:W,textAlign:L})}}),o.each(S,function(t){if(f.display&&(i.save(),i.lineWidth=t.glWidth,i.strokeStyle=t.glColor,i.setLineDash&&(i.setLineDash(t.glBorderDash),i.lineDashOffset=t.glBorderDashOffset),i.beginPath(),f.drawTicks&&(i.moveTo(t.tx1,t.ty1),i.lineTo(t.tx2,t.ty2)),f.drawOnChartArea&&(i.moveTo(t.x1,t.y1),i.lineTo(t.x2,t.y2)),i.stroke(),i.restore()),s.display){i.save(),i.translate(t.labelX,t.labelY),i.rotate(t.rotation),i.font=t.major?b.font:y.font,i.fillStyle=t.major?x:m,i.textBaseline=t.textBaseline,i.textAlign=t.textAlign;var n=t.label;if(o.isArray(n))for(var r=n.length,a=1.5*y.size,l=e.isHorizontal()?0:-a*(r-1)/2,u=0;u<r;++u)i.fillText(""+n[u],0,l),l+=a;else i.fillText(n,0,0);i.restore()}}),h.display){var P,T,I=0,O=d(h)/2;if(g)P=e.left+(e.right-e.left)/2,T="bottom"===n.position?e.bottom-O-C.bottom:e.top+O+C.top;else{var L="left"===n.position;P=L?e.left+O+C.top:e.right-O-C.top,T=e.top+(e.bottom-e.top)/2,I=L?-.5*Math.PI:.5*Math.PI}i.save(),i.translate(P,T),i.rotate(I),i.textAlign="center",i.textBaseline="middle",i.fillStyle=M,i.font=w.font,i.fillText(h.labelString,0,0),i.restore()}if(f.drawBorder){i.lineWidth=o.valueAtIndexOrDefault(f.lineWidth,0),i.strokeStyle=o.valueAtIndexOrDefault(f.color,0);var W=e.left,z=e.right+_,R=e.top,B=e.bottom+_,V=o.aliasPixel(i.lineWidth);g?(R=B="top"===n.position?e.bottom:e.top,R+=V,B+=V):(W=z="left"===n.position?e.right:e.left,W+=V,z+=V),i.beginPath(),i.moveTo(W,R),i.lineTo(z,B),i.stroke()}}}})},dpnK:function(t,e,n){"use strict";var r=n("CDJp"),i=n("RDha");r._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:i.noop,onComplete:i.noop}}),t.exports={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(t,e,n,r){var i,o,a=this.animations;for(e.chart=t,r||(t.animating=!0),i=0,o=a.length;i<o;++i)if(a[i].chart===t)return void(a[i]=e);a.push(e),1===a.length&&this.requestAnimationFrame()},cancelAnimation:function(t){var e=i.findIndex(this.animations,function(e){return e.chart===t});-1!==e&&(this.animations.splice(e,1),t.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=i.requestAnimFrame.call(window,function(){t.request=null,t.startDigest()}))},startDigest:function(){var t=this,e=Date.now(),n=0;t.dropFrames>1&&(n=Math.floor(t.dropFrames),t.dropFrames=t.dropFrames%1),t.advance(1+n);var r=Date.now();t.dropFrames+=(r-e)/t.frameDuration,t.animations.length>0&&t.requestAnimationFrame()},advance:function(t){for(var e,n,r=this.animations,o=0;o<r.length;)n=(e=r[o]).chart,e.currentStep=(e.currentStep||0)+t,e.currentStep=Math.min(e.currentStep,e.numSteps),i.callback(e.render,[n,e],n),i.callback(e.onAnimationProgress,[e],n),e.currentStep>=e.numSteps?(i.callback(e.onAnimationComplete,[e],n),n.animating=!1,r.splice(o,1)):++o}}},fELs:function(t,e,n){"use strict";var r=n("RDha");function i(t,e){return r.where(t,function(t){return t.position===e})}function o(t,e){t.forEach(function(t,e){return t._tmpIndex_=e,t}),t.sort(function(t,n){var r=e?n:t,i=e?t:n;return r.weight===i.weight?r._tmpIndex_-i._tmpIndex_:r.weight-i.weight}),t.forEach(function(t){delete t._tmpIndex_})}t.exports={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),e.fullWidth=e.fullWidth||!1,e.position=e.position||"top",e.weight=e.weight||0,t.boxes.push(e)},removeBox:function(t,e){var n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure:function(t,e,n){for(var r,i=["fullWidth","position","weight"],o=i.length,a=0;a<o;++a)n.hasOwnProperty(r=i[a])&&(e[r]=n[r])},update:function(t,e,n){if(t){var a=r.options.toPadding((t.options.layout||{}).padding),s=a.left,l=a.right,u=a.top,c=a.bottom,d=i(t.boxes,"left"),f=i(t.boxes,"right"),h=i(t.boxes,"top"),p=i(t.boxes,"bottom"),g=i(t.boxes,"chartArea");o(d,!0),o(f,!1),o(h,!0),o(p,!1);var v=e-s-l,m=n-u-c,y=(e-v/2)/(d.length+f.length),x=(n-m/2)/(h.length+p.length),b=v,k=m,M=[];r.each(d.concat(f,h,p),function(t){var e,n=t.isHorizontal();n?(e=t.update(t.fullWidth?v:b,x),k-=e.height):(e=t.update(y,k),b-=e.width),M.push({horizontal:n,minSize:e,box:t})});var w=0,C=0,A=0,S=0;r.each(h.concat(p),function(t){if(t.getPadding){var e=t.getPadding();w=Math.max(w,e.left),C=Math.max(C,e.right)}}),r.each(d.concat(f),function(t){if(t.getPadding){var e=t.getPadding();A=Math.max(A,e.top),S=Math.max(S,e.bottom)}});var _=s,D=l,F=u,E=c;r.each(d.concat(f),W),r.each(d,function(t){_+=t.width}),r.each(f,function(t){D+=t.width}),r.each(h.concat(p),W),r.each(h,function(t){F+=t.height}),r.each(p,function(t){E+=t.height}),r.each(d.concat(f),function(t){var e=r.findNextWhere(M,function(e){return e.box===t});e&&t.update(e.minSize.width,k,{left:0,right:0,top:F,bottom:E})}),_=s,D=l,F=u,E=c,r.each(d,function(t){_+=t.width}),r.each(f,function(t){D+=t.width}),r.each(h,function(t){F+=t.height}),r.each(p,function(t){E+=t.height});var N=Math.max(w-_,0);_+=N,D+=Math.max(C-D,0);var P=Math.max(A-F,0);F+=P,E+=Math.max(S-E,0);var T=n-F-E,I=e-_-D;I===b&&T===k||(r.each(d,function(t){t.height=T}),r.each(f,function(t){t.height=T}),r.each(h,function(t){t.fullWidth||(t.width=I)}),r.each(p,function(t){t.fullWidth||(t.width=I)}),k=T,b=I);var O=s+N,L=u+P;r.each(d.concat(h),z),O+=b,L+=k,r.each(f,z),r.each(p,z),t.chartArea={left:_,top:F,right:_+b,bottom:F+k},r.each(g,function(e){e.left=t.chartArea.left,e.top=t.chartArea.top,e.right=t.chartArea.right,e.bottom=t.chartArea.bottom,e.update(b,k)})}function W(t){var e=r.findNextWhere(M,function(e){return e.box===t});if(e)if(t.isHorizontal()){var n={left:Math.max(_,w),right:Math.max(D,C),top:0,bottom:0};t.update(t.fullWidth?v:b,m/2,n)}else t.update(e.minSize.width,k)}function z(t){t.isHorizontal()?(t.left=t.fullWidth?s:_,t.right=t.fullWidth?e-l:_+b,t.top=L,t.bottom=L+t.height,L=t.bottom):(t.left=O,t.right=O+t.width,t.top=F,t.bottom=F+k,O=t.right)}}}},g8vO:function(t,e,n){"use strict";var r=n("RDha");t.exports={formatters:{values:function(t){return r.isArray(t)?t:""+t},linear:function(t,e,n){var i=n.length>3?n[2]-n[1]:n[1]-n[0];Math.abs(i)>1&&t!==Math.floor(t)&&(i=t-Math.floor(t));var o=r.log10(Math.abs(i)),a="";if(0!==t)if(Math.max(Math.abs(n[0]),Math.abs(n[n.length-1]))<1e-4){var s=r.log10(Math.abs(t));a=t.toExponential(Math.floor(s)-Math.floor(o))}else{var l=-1*Math.floor(o);l=Math.max(Math.min(l,20),0),a=t.toFixed(l)}else a="0";return a},logarithmic:function(t,e,n){var i=t/Math.pow(10,Math.floor(r.log10(t)));return 0===t?"0":1===i||2===i||5===i||0===e||e===n.length-1?t.toExponential():""}}}},iM7B:function(t,e,n){"use strict";var r=n("RDha"),i=n("Hg4g"),o=n("q8Fl");t.exports=r.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},o._enabled?o:i)},iYGd:function(t,e,n){"use strict";t.exports=function(t){t.Radar=function(e,n){return n.type="radar",new t(e,n)}}},jXIB:function(t,e,n){"use strict";t.exports={},t.exports.filler=n("vpM6"),t.exports.legend=n("AX6q"),t.exports.title=n("mjYD")},mgIt:function(t,e,n){var r=n("T016");function i(t){if(t){var e=[0,0,0],n=1,i=t.match(/^#([a-fA-F0-9]{3})$/i);if(i){i=i[1];for(var o=0;o<e.length;o++)e[o]=parseInt(i[o]+i[o],16)}else if(i=t.match(/^#([a-fA-F0-9]{6})$/i))for(i=i[1],o=0;o<e.length;o++)e[o]=parseInt(i.slice(2*o,2*o+2),16);else if(i=t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(o=0;o<e.length;o++)e[o]=parseInt(i[o+1]);n=parseFloat(i[4])}else if(i=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(o=0;o<e.length;o++)e[o]=Math.round(2.55*parseFloat(i[o+1]));n=parseFloat(i[4])}else if(i=t.match(/(\w+)/)){if("transparent"==i[1])return[0,0,0,0];if(!(e=r[i[1]]))return}for(o=0;o<e.length;o++)e[o]=c(e[o],0,255);return n=n||0==n?c(n,0,1):1,e[3]=n,e}}function o(t){if(t){var e=t.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(e){var n=parseFloat(e[4]);return[c(parseInt(e[1]),0,360),c(parseFloat(e[2]),0,100),c(parseFloat(e[3]),0,100),c(isNaN(n)?1:n,0,1)]}}}function a(t){if(t){var e=t.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(e){var n=parseFloat(e[4]);return[c(parseInt(e[1]),0,360),c(parseFloat(e[2]),0,100),c(parseFloat(e[3]),0,100),c(isNaN(n)?1:n,0,1)]}}}function s(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function l(t,e){return"rgba("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%, "+(e||t[3]||1)+")"}function u(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function c(t,e,n){return Math.min(Math.max(e,t),n)}function d(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}t.exports={getRgba:i,getHsla:o,getRgb:function(t){var e=i(t);return e&&e.slice(0,3)},getHsl:function(t){var e=o(t);return e&&e.slice(0,3)},getHwb:a,getAlpha:function(t){var e=i(t);return e?e[3]:(e=o(t))?e[3]:(e=a(t))?e[3]:void 0},hexString:function(t){return"#"+d(t[0])+d(t[1])+d(t[2])},rgbString:function(t,e){return e<1||t[3]&&t[3]<1?s(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"},rgbaString:s,percentString:function(t,e){return e<1||t[3]&&t[3]<1?l(t,e):"rgb("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%)"},percentaString:l,hslString:function(t,e){return e<1||t[3]&&t[3]<1?u(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"},hslaString:u,hwbString:function(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"},keyword:function(t){return f[t.slice(0,3)]}};var f={};for(var h in r)f[r[h]]=h},mjYD:function(t,e,n){"use strict";var r=n("CDJp"),i=n("K2E3"),o=n("RDha"),a=n("fELs"),s=o.noop;r._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,lineHeight:1.2,padding:10,position:"top",text:"",weight:2e3}});var l=i.extend({initialize:function(t){o.extend(this,t),this.legendHitBoxes=[]},beforeUpdate:s,update:function(t,e,n){var r=this;return r.beforeUpdate(),r.maxWidth=t,r.maxHeight=e,r.margins=n,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeBuildLabels(),r.buildLabels(),r.afterBuildLabels(),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate(),r.minSize},afterUpdate:s,beforeSetDimensions:s,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:s,beforeBuildLabels:s,buildLabels:s,afterBuildLabels:s,beforeFit:s,fit:function(){var t=this,e=t.options,n=e.display,i=(0,o.valueOrDefault)(e.fontSize,r.global.defaultFontSize),a=t.minSize,s=o.isArray(e.text)?e.text.length:1,l=o.options.toLineHeight(e.lineHeight,i),u=n?s*l+2*e.padding:0;t.isHorizontal()?(a.width=t.maxWidth,a.height=u):(a.width=u,a.height=t.maxHeight),t.width=a.width,t.height=a.height},afterFit:s,isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},draw:function(){var t=this,e=t.ctx,n=o.valueOrDefault,i=t.options,a=r.global;if(i.display){var s,l,u,c=n(i.fontSize,a.defaultFontSize),d=n(i.fontStyle,a.defaultFontStyle),f=n(i.fontFamily,a.defaultFontFamily),h=o.fontString(c,d,f),p=o.options.toLineHeight(i.lineHeight,c),g=p/2+i.padding,v=0,m=t.top,y=t.left,x=t.bottom,b=t.right;e.fillStyle=n(i.fontColor,a.defaultFontColor),e.font=h,t.isHorizontal()?(l=y+(b-y)/2,u=m+g,s=b-y):(l="left"===i.position?y+g:b-g,u=m+(x-m)/2,s=x-m,v=Math.PI*("left"===i.position?-.5:.5)),e.save(),e.translate(l,u),e.rotate(v),e.textAlign="center",e.textBaseline="middle";var k=i.text;if(o.isArray(k))for(var M=0,w=0;w<k.length;++w)e.fillText(k[w],0,M,s),M+=p;else e.fillText(k,0,0,s);e.restore()}}});function u(t,e){var n=new l({ctx:t.ctx,options:e,chart:t});a.configure(t,n,e),a.addBox(t,n),t.titleBlock=n}t.exports={id:"title",_element:l,beforeInit:function(t){var e=t.options.title;e&&u(t,e)},beforeUpdate:function(t){var e=t.options.title,n=t.titleBlock;e?(o.mergeIf(e,r.global.title),n?(a.configure(t,n,e),n.options=e):u(t,e)):n&&(a.removeBox(t,n),delete t.titleBlock)}}},mlr9:function(t,e,n){"use strict";var r=n("RDha");function i(t,e){return t.native?{x:t.x,y:t.y}:r.getRelativePosition(t,e)}function o(t,e){var n,r,i,o,a;for(r=0,o=t.data.datasets.length;r<o;++r)if(t.isDatasetVisible(r))for(i=0,a=(n=t.getDatasetMeta(r)).data.length;i<a;++i){var s=n.data[i];s._view.skip||e(s)}}function a(t,e){var n=[];return o(t,function(t){t.inRange(e.x,e.y)&&n.push(t)}),n}function s(t,e,n,r){var i=Number.POSITIVE_INFINITY,a=[];return o(t,function(t){if(!n||t.inRange(e.x,e.y)){var o=t.getCenterPoint(),s=r(e,o);s<i?(a=[t],i=s):s===i&&a.push(t)}}),a}function l(t){var e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,r){var i=e?Math.abs(t.x-r.x):0,o=n?Math.abs(t.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function u(t,e,n){var r=i(e,t);n.axis=n.axis||"x";var o=l(n.axis),u=n.intersect?a(t,r):s(t,r,!1,o),c=[];return u.length?(t.data.datasets.forEach(function(e,n){if(t.isDatasetVisible(n)){var r=t.getDatasetMeta(n).data[u[0]._index];r&&!r._view.skip&&c.push(r)}}),c):[]}t.exports={modes:{single:function(t,e){var n=i(e,t),r=[];return o(t,function(t){if(t.inRange(n.x,n.y))return r.push(t),r}),r.slice(0,1)},label:u,index:u,dataset:function(t,e,n){var r=i(e,t);n.axis=n.axis||"xy";var o=l(n.axis),u=n.intersect?a(t,r):s(t,r,!1,o);return u.length>0&&(u=t.getDatasetMeta(u[0]._datasetIndex).data),u},"x-axis":function(t,e){return u(t,e,{intersect:!1})},point:function(t,e){return a(t,i(e,t))},nearest:function(t,e,n){var r=i(e,t);n.axis=n.axis||"xy";var o=l(n.axis),a=s(t,r,n.intersect,o);return a.length>1&&a.sort(function(t,e){var n=t.getArea()-e.getArea();return 0===n&&(n=t._datasetIndex-e._datasetIndex),n}),a.slice(0,1)},x:function(t,e,n){var r=i(e,t),a=[],s=!1;return o(t,function(t){t.inXRange(r.x)&&a.push(t),t.inRange(r.x,r.y)&&(s=!0)}),n.intersect&&!s&&(a=[]),a},y:function(t,e,n){var r=i(e,t),a=[],s=!1;return o(t,function(t){t.inYRange(r.y)&&a.push(t),t.inRange(r.x,r.y)&&(s=!0)}),n.intersect&&!s&&(a=[]),a}}}},nDWh:function(t,e,n){"use strict";var r=n("6ww4"),i=n("CDJp"),o=n("RDha"),a=n("tjFV");t.exports=function(){function t(t,e,n){var r;return"string"==typeof t?(r=parseInt(t,10),-1!==t.indexOf("%")&&(r=r/100*e.parentNode[n])):r=t,r}function e(t){return void 0!==t&&null!==t&&"none"!==t}function n(n,r,i){var a=document.defaultView,s=o._getParentNode(n),l=a.getComputedStyle(n)[r],u=a.getComputedStyle(s)[r],c=e(l),d=e(u),f=Number.POSITIVE_INFINITY;return c||d?Math.min(c?t(l,n,i):f,d?t(u,s,i):f):"none"}o.configMerge=function(){return o.merge(o.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(t,e,n,r){var i=e[t]||{},s=n[t];"scales"===t?e[t]=o.scaleMerge(i,s):"scale"===t?e[t]=o.merge(i,[a.getScaleDefaults(s.type),s]):o._merger(t,e,n,r)}})},o.scaleMerge=function(){return o.merge(o.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(t,e,n,r){if("xAxes"===t||"yAxes"===t){var i,s,l,u=n[t].length;for(e[t]||(e[t]=[]),i=0;i<u;++i)s=o.valueOrDefault((l=n[t][i]).type,"xAxes"===t?"category":"linear"),i>=e[t].length&&e[t].push({}),o.merge(e[t][i],!e[t][i].type||l.type&&l.type!==e[t][i].type?[a.getScaleDefaults(s),l]:l)}else o._merger(t,e,n,r)}})},o.where=function(t,e){if(o.isArray(t)&&Array.prototype.filter)return t.filter(e);var n=[];return o.each(t,function(t){e(t)&&n.push(t)}),n},o.findIndex=Array.prototype.findIndex?function(t,e,n){return t.findIndex(e,n)}:function(t,e,n){n=void 0===n?t:n;for(var r=0,i=t.length;r<i;++r)if(e.call(n,t[r],r,t))return r;return-1},o.findNextWhere=function(t,e,n){o.isNullOrUndef(n)&&(n=-1);for(var r=n+1;r<t.length;r++){var i=t[r];if(e(i))return i}},o.findPreviousWhere=function(t,e,n){o.isNullOrUndef(n)&&(n=t.length);for(var r=n-1;r>=0;r--){var i=t[r];if(e(i))return i}},o.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},o.almostEquals=function(t,e,n){return Math.abs(t-e)<n},o.almostWhole=function(t,e){var n=Math.round(t);return n-e<t&&n+e>t},o.max=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.max(t,e)},Number.NEGATIVE_INFINITY)},o.min=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.min(t,e)},Number.POSITIVE_INFINITY)},o.sign=Math.sign?function(t){return Math.sign(t)}:function(t){return 0==(t=+t)||isNaN(t)?t:t>0?1:-1},o.log10=Math.log10?function(t){return Math.log10(t)}:function(t){var e=Math.log(t)*Math.LOG10E,n=Math.round(e);return t===Math.pow(10,n)?n:e},o.toRadians=function(t){return t*(Math.PI/180)},o.toDegrees=function(t){return t*(180/Math.PI)},o.getAngleFromPoint=function(t,e){var n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r),o=Math.atan2(r,n);return o<-.5*Math.PI&&(o+=2*Math.PI),{angle:o,distance:i}},o.distanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},o.aliasPixel=function(t){return t%2==0?0:.5},o.splineCurve=function(t,e,n,r){var i=t.skip?e:t,o=e,a=n.skip?e:n,s=Math.sqrt(Math.pow(o.x-i.x,2)+Math.pow(o.y-i.y,2)),l=Math.sqrt(Math.pow(a.x-o.x,2)+Math.pow(a.y-o.y,2)),u=s/(s+l),c=l/(s+l),d=r*(u=isNaN(u)?0:u),f=r*(c=isNaN(c)?0:c);return{previous:{x:o.x-d*(a.x-i.x),y:o.y-d*(a.y-i.y)},next:{x:o.x+f*(a.x-i.x),y:o.y+f*(a.y-i.y)}}},o.EPSILON=Number.EPSILON||1e-14,o.splineCurveMonotone=function(t){var e,n,r,i,a,s,l,u,c,d=(t||[]).map(function(t){return{model:t._model,deltaK:0,mK:0}}),f=d.length;for(e=0;e<f;++e)if(!(r=d[e]).model.skip){if(n=e>0?d[e-1]:null,(i=e<f-1?d[e+1]:null)&&!i.model.skip){var h=i.model.x-r.model.x;r.deltaK=0!==h?(i.model.y-r.model.y)/h:0}r.mK=!n||n.model.skip?r.deltaK:!i||i.model.skip?n.deltaK:this.sign(n.deltaK)!==this.sign(r.deltaK)?0:(n.deltaK+r.deltaK)/2}for(e=0;e<f-1;++e)i=d[e+1],(r=d[e]).model.skip||i.model.skip||(o.almostEquals(r.deltaK,0,this.EPSILON)?r.mK=i.mK=0:(a=r.mK/r.deltaK,s=i.mK/r.deltaK,(u=Math.pow(a,2)+Math.pow(s,2))<=9||(l=3/Math.sqrt(u),r.mK=a*l*r.deltaK,i.mK=s*l*r.deltaK)));for(e=0;e<f;++e)(r=d[e]).model.skip||(n=e>0?d[e-1]:null,i=e<f-1?d[e+1]:null,n&&!n.model.skip&&(r.model.controlPointPreviousX=r.model.x-(c=(r.model.x-n.model.x)/3),r.model.controlPointPreviousY=r.model.y-c*r.mK),i&&!i.model.skip&&(r.model.controlPointNextX=r.model.x+(c=(i.model.x-r.model.x)/3),r.model.controlPointNextY=r.model.y+c*r.mK))},o.nextItem=function(t,e,n){return n?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},o.previousItem=function(t,e,n){return n?e<=0?t[t.length-1]:t[e-1]:e<=0?t[0]:t[e-1]},o.niceNum=function(t,e){var n=Math.floor(o.log10(t)),r=t/Math.pow(10,n);return(e?r<1.5?1:r<3?2:r<7?5:10:r<=1?1:r<=2?2:r<=5?5:10)*Math.pow(10,n)},o.requestAnimFrame="undefined"==typeof window?function(t){t()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)},o.getRelativePosition=function(t,e){var n,r,i=t.originalEvent||t,a=t.target||t.srcElement,s=a.getBoundingClientRect(),l=i.touches;l&&l.length>0?(n=l[0].clientX,r=l[0].clientY):(n=i.clientX,r=i.clientY);var u=parseFloat(o.getStyle(a,"padding-left")),c=parseFloat(o.getStyle(a,"padding-top")),d=parseFloat(o.getStyle(a,"padding-right")),f=parseFloat(o.getStyle(a,"padding-bottom")),h=s.bottom-s.top-c-f;return{x:n=Math.round((n-s.left-u)/(s.right-s.left-u-d)*a.width/e.currentDevicePixelRatio),y:r=Math.round((r-s.top-c)/h*a.height/e.currentDevicePixelRatio)}},o.getConstraintWidth=function(t){return n(t,"max-width","clientWidth")},o.getConstraintHeight=function(t){return n(t,"max-height","clientHeight")},o._calculatePadding=function(t,e,n){return(e=o.getStyle(t,e)).indexOf("%")>-1?n/parseInt(e,10):parseInt(e,10)},o._getParentNode=function(t){var e=t.parentNode;return e&&e.host&&(e=e.host),e},o.getMaximumWidth=function(t){var e=o._getParentNode(t);if(!e)return t.clientWidth;var n=e.clientWidth,r=n-o._calculatePadding(e,"padding-left",n)-o._calculatePadding(e,"padding-right",n),i=o.getConstraintWidth(t);return isNaN(i)?r:Math.min(r,i)},o.getMaximumHeight=function(t){var e=o._getParentNode(t);if(!e)return t.clientHeight;var n=e.clientHeight,r=n-o._calculatePadding(e,"padding-top",n)-o._calculatePadding(e,"padding-bottom",n),i=o.getConstraintHeight(t);return isNaN(i)?r:Math.min(r,i)},o.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},o.retinaScale=function(t,e){var n=t.currentDevicePixelRatio=e||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==n){var r=t.canvas,i=t.height,o=t.width;r.height=i*n,r.width=o*n,t.ctx.scale(n,n),r.style.height||r.style.width||(r.style.height=i+"px",r.style.width=o+"px")}},o.fontString=function(t,e,n){return e+" "+t+"px "+n},o.longestText=function(t,e,n,r){var i=(r=r||{}).data=r.data||{},a=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},a=r.garbageCollect=[],r.font=e),t.font=e;var s=0;o.each(n,function(e){void 0!==e&&null!==e&&!0!==o.isArray(e)?s=o.measureText(t,i,a,s,e):o.isArray(e)&&o.each(e,function(e){void 0===e||null===e||o.isArray(e)||(s=o.measureText(t,i,a,s,e))})});var l=a.length/2;if(l>n.length){for(var u=0;u<l;u++)delete i[a[u]];a.splice(0,l)}return s},o.measureText=function(t,e,n,r,i){var o=e[i];return o||(o=e[i]=t.measureText(i).width,n.push(i)),o>r&&(r=o),r},o.numberOfLabelLines=function(t){var e=1;return o.each(t,function(t){o.isArray(t)&&t.length>e&&(e=t.length)}),e},o.color=r?function(t){return t instanceof CanvasGradient&&(t=i.global.defaultColor),r(t)}:function(t){return console.error("Color.js not found!"),t},o.getHoverColor=function(t){return t instanceof CanvasPattern?t:o.color(t).saturate(.5).darken(.1).rgbString()}}},paOr:function(t,e,n){"use strict";var r=n("RDha"),i=n("cdu6");t.exports=function(t){var e=r.noop;t.LinearScaleBase=i.extend({getRightValue:function(t){return"string"==typeof t?+t:i.prototype.getRightValue.call(this,t)},handleTickRangeOptions:function(){var t=this,e=t.options.ticks;if(e.beginAtZero){var n=r.sign(t.min),i=r.sign(t.max);n<0&&i<0?t.max=0:n>0&&i>0&&(t.min=0)}var o=void 0!==e.min||void 0!==e.suggestedMin,a=void 0!==e.max||void 0!==e.suggestedMax;void 0!==e.min?t.min=e.min:void 0!==e.suggestedMin&&(t.min=null===t.min?e.suggestedMin:Math.min(t.min,e.suggestedMin)),void 0!==e.max?t.max=e.max:void 0!==e.suggestedMax&&(t.max=null===t.max?e.suggestedMax:Math.max(t.max,e.suggestedMax)),o!==a&&t.min>=t.max&&(o?t.max=t.min+1:t.min=t.max-1),t.min===t.max&&(t.max++,e.beginAtZero||t.min--)},getTickLimit:e,handleDirectionalChanges:e,buildTicks:function(){var t=this,e=t.options.ticks,n=t.getTickLimit(),i={maxTicks:n=Math.max(2,n),min:e.min,max:e.max,precision:e.precision,stepSize:r.valueOrDefault(e.fixedStepSize,e.stepSize)},o=t.ticks=function(t,e){var n,i,o,a=[];if(t.stepSize&&t.stepSize>0)o=t.stepSize;else{var s=r.niceNum(e.max-e.min,!1);o=r.niceNum(s/(t.maxTicks-1),!0),void 0!==(i=t.precision)&&(n=Math.pow(10,i),o=Math.ceil(o*n)/n)}var l=Math.floor(e.min/o)*o,u=Math.ceil(e.max/o)*o;r.isNullOrUndef(t.min)||r.isNullOrUndef(t.max)||!t.stepSize||r.almostWhole((t.max-t.min)/t.stepSize,o/1e3)&&(l=t.min,u=t.max);var c=(u-l)/o;c=r.almostEquals(c,Math.round(c),o/1e3)?Math.round(c):Math.ceil(c),i=1,o<1&&(i=Math.pow(10,1-Math.floor(r.log10(o))),l=Math.round(l*i)/i,u=Math.round(u*i)/i),a.push(void 0!==t.min?t.min:l);for(var d=1;d<c;++d)a.push(Math.round((l+d*o)*i)/i);return a.push(void 0!==t.max?t.max:u),a}(i,t);t.handleDirectionalChanges(),t.max=r.max(o),t.min=r.min(o),e.reverse?(o.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){var t=this;t.ticksAsNumbers=t.ticks.slice(),t.zeroLineIndex=t.ticks.indexOf(0),i.prototype.convertTicksToLabels.call(t)}})}},q8Fl:function(t,e,n){"use strict";var r=n("RDha"),i=["animationstart","webkitAnimationStart"],o={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function a(t,e){var n=r.getStyle(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?Number(i[1]):void 0}var s=!!function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("e",null,e)}catch(t){}return t}()&&{passive:!0};function l(t,e,n){t.addEventListener(e,n,s)}function u(t,e,n){t.removeEventListener(e,n,s)}function c(t,e,n,r,i){return{type:t,chart:e,native:i||null,x:void 0!==n?n:null,y:void 0!==r?r:null}}t.exports={_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,initialize:function(){var t,e,n="from{opacity:0.99}to{opacity:1}";t="@-webkit-keyframes chartjs-render-animation{"+n+"}@keyframes chartjs-render-animation{"+n+"}.chartjs-render-monitor{-webkit-animation:chartjs-render-animation 0.001s;animation:chartjs-render-animation 0.001s;}",e=this._style||document.createElement("style"),this._style||(this._style=e,t="/* Chart.js */\n"+t,e.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(e)),e.appendChild(document.createTextNode(t))},acquireContext:function(t,e){"string"==typeof t?t=document.getElementById(t):t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas);var n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(function(t,e){var n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t.$chartjs={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null===i||""===i){var o=a(t,"width");void 0!==o&&(t.width=o)}if(null===r||""===r)if(""===t.style.height)t.height=t.width/(e.options.aspectRatio||2);else{var s=a(t,"height");void 0!==o&&(t.height=s)}}(t,e),n):null},releaseContext:function(t){var e=t.canvas;if(e.$chartjs){var n=e.$chartjs.initial;["height","width"].forEach(function(t){var i=n[t];r.isNullOrUndef(i)?e.removeAttribute(t):e.setAttribute(t,i)}),r.each(n.style||{},function(t,n){e.style[n]=t}),e.width=e.width,delete e.$chartjs}},addEventListener:function(t,e,n){var a=t.canvas;if("resize"!==e){var s=n.$chartjs||(n.$chartjs={});l(a,e,(s.proxies||(s.proxies={}))[t.id+"_"+e]=function(e){n(function(t,e){var n=o[t.type]||t.type,i=r.getRelativePosition(t,e);return c(n,e,i.x,i.y,t)}(e,t))})}else!function(t,e,n){var o,a,s,u,d=t.$chartjs||(t.$chartjs={}),f=d.resizer=function(t){var e=document.createElement("div"),n="chartjs-size-monitor",r="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;";e.style.cssText=r,e.className=n,e.innerHTML='<div class="'+n+'-expand" style="'+r+'"><div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0"></div></div><div class="'+n+'-shrink" style="'+r+'"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div>';var i=e.childNodes[0],o=e.childNodes[1];e._reset=function(){i.scrollLeft=1e6,i.scrollTop=1e6,o.scrollLeft=1e6,o.scrollTop=1e6};var a=function(){e._reset(),t()};return l(i,"scroll",a.bind(i,"expand")),l(o,"scroll",a.bind(o,"shrink")),e}((o=function(){if(d.resizer)return e(c("resize",n))},s=!1,u=[],function(){u=Array.prototype.slice.call(arguments),a=a||this,s||(s=!0,r.requestAnimFrame.call(window,function(){s=!1,o.apply(a,u)}))}));!function(t,e){var n=t.$chartjs||(t.$chartjs={}),o=n.renderProxy=function(t){"chartjs-render-animation"===t.animationName&&e()};r.each(i,function(e){l(t,e,o)}),n.reflow=!!t.offsetParent,t.classList.add("chartjs-render-monitor")}(t,function(){if(d.resizer){var e=t.parentNode;e&&e!==f.parentNode&&e.insertBefore(f,e.firstChild),f._reset()}})}(a,n,t)},removeEventListener:function(t,e,n){var o,a,s,l=t.canvas;if("resize"!==e){var c=((n.$chartjs||{}).proxies||{})[t.id+"_"+e];c&&u(l,e,c)}else s=(a=(o=l).$chartjs||{}).resizer,delete a.resizer,function(t){var e=t.$chartjs||{},n=e.renderProxy;n&&(r.each(i,function(e){u(t,e,n)}),delete e.renderProxy),t.classList.remove("chartjs-render-monitor")}(o),s&&s.parentNode&&s.parentNode.removeChild(s)}},r.addEvent=l,r.removeEvent=u},qzaf:function(t,e,n){"use strict";t.exports=function(t){t.PolarArea=function(e,n){return n.type="polarArea",new t(e,n)}}},rN8Y:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CcnG");e.NvD3Component=function(){function t(t){this.el=t.nativeElement}return t.prototype.ngOnChanges=function(t){this.options&&(this.chart&&this.chartType===this.options.chart.type?this.updateWithOptions(this.options):this.initChart(this.options))},t.prototype.ngOnDestroy=function(){this.clearElement()},t.prototype.initChart=function(t){var e=this;this.clearElement(),t&&(this.chart=nv.models[t.chart.type](),this.chartType=this.options.chart.type,this.chart.id=Math.random().toString(36).substr(2,15),this.updateWithOptions(t),nv.addGraph(function(){if(e.chart)return e.chart.resizeHandler&&e.chart.resizeHandler.clear(),e.chart.resizeHandler=nv.utils.windowResize(function(){e.chart&&e.chart.update&&e.chart.update()}),e.chart},t.chart.callback))},t.prototype.updateWithOptions=function(t){if(t){for(var e in this.chart)this.chart.hasOwnProperty(e)&&("_"===e[0]||["clearHighlights","highlightPoint","id","options","resizeHandler","state","open","close","tooltipContent"].indexOf(e)>=0||("dispatch"===e?this.configureEvents(this.chart[e],t.chart[e]):["bars","bars1","bars2","boxplot","bullet","controls","discretebar","distX","distY","interactiveLayer","legend","lines","lines1","lines2","multibar","pie","scatter","scatters1","scatters2","sparkline","stack1","stack2","sunburst","tooltip","x2Axis","xAxis","y1Axis","y2Axis","y3Axis","y4Axis","yAxis","yAxis1","yAxis2","sankeyChart"].indexOf(e)>=0||"stacked"===e&&"stackedAreaChart"===t.chart.type?this.configure(this.chart[e],t.chart[e],t.chart.type):("xTickFormat"!==e&&"yTickFormat"!==e||"lineWithFocusChart"!==t.chart.type)&&("tooltips"===e&&"boxPlotChart"===t.chart.type||("tooltipXContent"!==e&&"tooltipYContent"!==e||"scatterChart"!==t.chart.type)&&(void 0===t.chart[e]||null===t.chart[e]||this.chart[e](t.chart[e])))));this.updateWithData(this.data)}},t.prototype.updateWithData=function(t){if(t){var e=this.el.querySelector("svg");this.svg=e?d3.select(e):d3.select(this.el).append("svg"),this.updateSize(),this.svg.datum(t).call(this.chart)}},t.prototype.updateSize=function(){if(this.svg){var t=void 0,e=void 0;(t=this.options.chart.height)&&(isNaN(+t)||(t+="px"),this.svg.attr("height",t).style({height:t})),(e=this.options.chart.width)?(isNaN(+e)||(e+="px"),this.svg.attr("width",e).style({width:e})):this.svg.attr("width","100%").style({width:"100%"})}},t.prototype.configure=function(t,e,n){if(t&&e)for(var r in t)t.hasOwnProperty(r)&&("_"===r[0]||("dispatch"===r?this.configureEvents(t[r],e[r]):"tooltip"===r?this.configure(t[r],e[r],n):"contentGenerator"===r?e[r]&&t[r](e[r]):-1===["axis","clearHighlights","defined","highlightPoint","nvPointerEventsClass","options","rangeBand","rangeBands","scatter","open","close"].indexOf(r)&&(void 0===e[r]||null===e[r]||t[r](e[r]))))},t.prototype.configureEvents=function(t,e){if(t&&e)for(var n in t)t.hasOwnProperty(n)&&(void 0===e[n]||null===e[n]||t.on(n+"._",e[n]))},t.prototype.clearElement=function(){if(this.el.innerHTML="",this.chart&&this.chart.tooltip&&this.chart.tooltip.id&&d3.select("#"+this.chart.tooltip.id()).remove(),nv.graphs&&this.chart)for(var t=nv.graphs.length-1;t>=0;t--)nv.graphs[t]&&nv.graphs[t].id===this.chart.id&&nv.graphs.splice(t,1);nv.tooltip&&nv.tooltip.cleanup&&nv.tooltip.cleanup(),this.chart&&this.chart.resizeHandler&&this.chart.resizeHandler.clear(),this.chart=null},t.decorators=[{type:r.Component,args:[{selector:"nvd3",template:""}]}],t.propDecorators={options:[{type:r.Input}],data:[{type:r.Input}]},t}()},t1N5:function(t,e){function n(t){var e,n,r=t[0]/255,i=t[1]/255,o=t[2]/255,a=Math.min(r,i,o),s=Math.max(r,i,o),l=s-a;return s==a?e=0:r==s?e=(i-o)/l:i==s?e=2+(o-r)/l:o==s&&(e=4+(r-i)/l),(e=Math.min(60*e,360))<0&&(e+=360),n=(a+s)/2,[e,100*(s==a?0:n<=.5?l/(s+a):l/(2-s-a)),100*n]}function i(t){var e,n,r=t[0],i=t[1],o=t[2],a=Math.min(r,i,o),s=Math.max(r,i,o),l=s-a;return n=0==s?0:l/s*1e3/10,s==a?e=0:r==s?e=(i-o)/l:i==s?e=2+(o-r)/l:o==s&&(e=4+(r-i)/l),(e=Math.min(60*e,360))<0&&(e+=360),[e,n,s/255*1e3/10]}function o(t){var e=t[0],r=t[1],i=t[2];return[n(t)[0],1/255*Math.min(e,Math.min(r,i))*100,100*(i=1-1/255*Math.max(e,Math.max(r,i)))]}function a(t){var e,n=t[0]/255,r=t[1]/255,i=t[2]/255;return[100*((1-n-(e=Math.min(1-n,1-r,1-i)))/(1-e)||0),100*((1-r-e)/(1-e)||0),100*((1-i-e)/(1-e)||0),100*e]}function s(t){return C[JSON.stringify(t)]}function l(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*e+.7152*n+.0722*r),100*(.0193*e+.1192*n+.9505*r)]}function u(t){var e=l(t),n=e[0],r=e[1],i=e[2];return r/=100,i/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]}function c(t){var e,n,r,i,o,a=t[0]/360,s=t[1]/100,l=t[2]/100;if(0==s)return[o=255*l,o,o];e=2*l-(n=l<.5?l*(1+s):l+s-l*s),i=[0,0,0];for(var u=0;u<3;u++)(r=a+1/3*-(u-1))<0&&r++,r>1&&r--,i[u]=255*(o=6*r<1?e+6*(n-e)*r:2*r<1?n:3*r<2?e+(n-e)*(2/3-r)*6:e);return i}function d(t){var e=t[0]/60,n=t[1]/100,r=t[2]/100,i=Math.floor(e)%6,o=e-Math.floor(e),a=255*r*(1-n),s=255*r*(1-n*o),l=255*r*(1-n*(1-o));switch(r*=255,i){case 0:return[r,l,a];case 1:return[s,r,a];case 2:return[a,r,l];case 3:return[a,s,r];case 4:return[l,a,r];case 5:return[r,a,s]}}function f(t){var e,n,i,o,a=t[0]/360,s=t[1]/100,l=t[2]/100,u=s+l;switch(u>1&&(s/=u,l/=u),n=1-l,i=6*a-(e=Math.floor(6*a)),0!=(1&e)&&(i=1-i),o=s+i*(n-s),e){default:case 6:case 0:r=n,g=o,b=s;break;case 1:r=o,g=n,b=s;break;case 2:r=s,g=n,b=o;break;case 3:r=s,g=o,b=n;break;case 4:r=o,g=s,b=n;break;case 5:r=n,g=s,b=o}return[255*r,255*g,255*b]}function h(t){var e=t[1]/100,n=t[2]/100,r=t[3]/100;return[255*(1-Math.min(1,t[0]/100*(1-r)+r)),255*(1-Math.min(1,e*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r))]}function p(t){var e,n,r,i=t[0]/100,o=t[1]/100,a=t[2]/100;return n=-.9689*i+1.8758*o+.0415*a,r=.0557*i+-.204*o+1.057*a,e=(e=3.2406*i+-1.5372*o+-.4986*a)>.0031308?1.055*Math.pow(e,1/2.4)-.055:e*=12.92,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r*=12.92,[255*(e=Math.min(Math.max(0,e),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]}function v(t){var e=t[0],n=t[1],r=t[2];return n/=100,r/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(e-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]}function m(t){var e,n,r,i,o=t[0],a=t[1],s=t[2];return o<=8?i=(n=100*o/903.3)/100*7.787+16/116:(n=100*Math.pow((o+16)/116,3),i=Math.pow(n/100,1/3)),[e=e/95.047<=.008856?e=95.047*(a/500+i-16/116)/7.787:95.047*Math.pow(a/500+i,3),n,r=r/108.883<=.008859?r=108.883*(i-s/200-16/116)/7.787:108.883*Math.pow(i-s/200,3)]}function y(t){var e,n=t[0],r=t[1],i=t[2];return(e=360*Math.atan2(i,r)/2/Math.PI)<0&&(e+=360),[n,Math.sqrt(r*r+i*i),e]}function x(t){return p(m(t))}function k(t){var e,n=t[1];return e=t[2]/360*2*Math.PI,[t[0],n*Math.cos(e),n*Math.sin(e)]}function M(t){return w[t]}t.exports={rgb2hsl:n,rgb2hsv:i,rgb2hwb:o,rgb2cmyk:a,rgb2keyword:s,rgb2xyz:l,rgb2lab:u,rgb2lch:function(t){return y(u(t))},hsl2rgb:c,hsl2hsv:function(t){var e=t[1]/100,n=t[2]/100;return 0===n?[0,0,0]:[t[0],2*(e*=(n*=2)<=1?n:2-n)/(n+e)*100,(n+e)/2*100]},hsl2hwb:function(t){return o(c(t))},hsl2cmyk:function(t){return a(c(t))},hsl2keyword:function(t){return s(c(t))},hsv2rgb:d,hsv2hsl:function(t){var e,n,r=t[1]/100,i=t[2]/100;return e=r*i,[t[0],100*(e=(e/=(n=(2-r)*i)<=1?n:2-n)||0),100*(n/=2)]},hsv2hwb:function(t){return o(d(t))},hsv2cmyk:function(t){return a(d(t))},hsv2keyword:function(t){return s(d(t))},hwb2rgb:f,hwb2hsl:function(t){return n(f(t))},hwb2hsv:function(t){return i(f(t))},hwb2cmyk:function(t){return a(f(t))},hwb2keyword:function(t){return s(f(t))},cmyk2rgb:h,cmyk2hsl:function(t){return n(h(t))},cmyk2hsv:function(t){return i(h(t))},cmyk2hwb:function(t){return o(h(t))},cmyk2keyword:function(t){return s(h(t))},keyword2rgb:M,keyword2hsl:function(t){return n(M(t))},keyword2hsv:function(t){return i(M(t))},keyword2hwb:function(t){return o(M(t))},keyword2cmyk:function(t){return a(M(t))},keyword2lab:function(t){return u(M(t))},keyword2xyz:function(t){return l(M(t))},xyz2rgb:p,xyz2lab:v,xyz2lch:function(t){return y(v(t))},lab2xyz:m,lab2rgb:x,lab2lch:y,lch2lab:k,lch2xyz:function(t){return m(k(t))},lch2rgb:function(t){return x(k(t))}};var w={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},C={};for(var A in w)C[JSON.stringify(w[A])]=A},tjFV:function(t,e,n){"use strict";var r=n("CDJp"),i=n("RDha"),o=n("fELs");t.exports={constructors:{},defaults:{},registerScaleType:function(t,e,n){this.constructors[t]=e,this.defaults[t]=i.clone(n)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0},getScaleDefaults:function(t){return this.defaults.hasOwnProperty(t)?i.merge({},[r.scale,this.defaults[t]]):{}},updateScaleDefaults:function(t,e){this.defaults.hasOwnProperty(t)&&(this.defaults[t]=i.extend(this.defaults[t],e))},addScalesToLayout:function(t){i.each(t.scales,function(e){e.fullWidth=e.options.fullWidth,e.position=e.options.position,e.weight=e.options.weight,o.addBox(t,e)})}}},u0Op:function(t,e,n){"use strict";var r=n("TC34"),i={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return(t-=1)*t*t+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-((t-=1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return(t-=1)*t*t*t*t+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return t>=1?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t-=1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,n=0,r=1;return 0===t?0:1===t?1:(n||(n=.3),r<1?(r=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/r),-r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n))},easeOutElastic:function(t){var e=1.70158,n=0,r=1;return 0===t?0:1===t?1:(n||(n=.3),r<1?(r=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/r),r*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)},easeInOutElastic:function(t){var e=1.70158,n=0,r=1;return 0===t?0:2==(t/=.5)?1:(n||(n=.45),r<1?(r=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/r),t<1?r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*-.5:r*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1)},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:function(t){return 1-i.easeOutBounce(1-t)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:function(t){return t<.5?.5*i.easeInBounce(2*t):.5*i.easeOutBounce(2*t-1)+.5}};t.exports={effects:i},r.easingEffects=i},uxXc:function(t,e,n){var r=n("t1N5"),i=function(){return new u};for(var o in r){i[o+"Raw"]=function(t){return function(e){return"number"==typeof e&&(e=Array.prototype.slice.call(arguments)),r[t](e)}}(o);var a=/(\w+)2(\w+)/.exec(o),s=a[1],l=a[2];(i[s]=i[s]||{})[l]=i[o]=function(t){return function(e){"number"==typeof e&&(e=Array.prototype.slice.call(arguments));var n=r[t](e);if("string"==typeof n||void 0===n)return n;for(var i=0;i<n.length;i++)n[i]=Math.round(n[i]);return n}}(o)}var u=function(){this.convs={}};u.prototype.routeSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n))},u.prototype.setValues=function(t,e){return this.space=t,this.convs={},this.convs[t]=e,this},u.prototype.getValues=function(t){var e=this.convs[t];if(!e){var n=this.space;e=i[n][t](this.convs[n]),this.convs[t]=e}return e},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(t){u.prototype[t]=function(e){return this.routeSpace(t,arguments)}}),t.exports=i},vpM6:function(t,e,n){"use strict";var r=n("CDJp"),i=n("vvH+"),o=n("RDha");r._set("global",{plugins:{filler:{propagate:!0}}});var a={dataset:function(t){var e=t.fill,n=t.chart,r=n.getDatasetMeta(e),i=r&&n.isDatasetVisible(e)&&r.dataset._children||[],o=i.length||0;return o?function(t,e){return e<o&&i[e]._view||null}:null},boundary:function(t){var e=t.boundary,n=e?e.x:null,r=e?e.y:null;return function(t){return{x:null===n?t.x:n,y:null===r?t.y:r}}}};function s(t,e,n){var r,i=t._model||{},o=i.fill;if(void 0===o&&(o=!!i.backgroundColor),!1===o||null===o)return!1;if(!0===o)return"origin";if(r=parseFloat(o,10),isFinite(r)&&Math.floor(r)===r)return"-"!==o[0]&&"+"!==o[0]||(r=e+r),!(r===e||r<0||r>=n)&&r;switch(o){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return o;default:return!1}}function l(t){var e,n=t.el._model||{},r=t.el._scale||{},i=t.fill,o=null;if(isFinite(i))return null;if("start"===i?o=void 0===n.scaleBottom?r.bottom:n.scaleBottom:"end"===i?o=void 0===n.scaleTop?r.top:n.scaleTop:void 0!==n.scaleZero?o=n.scaleZero:r.getBasePosition?o=r.getBasePosition():r.getBasePixel&&(o=r.getBasePixel()),void 0!==o&&null!==o){if(void 0!==o.x&&void 0!==o.y)return o;if("number"==typeof o&&isFinite(o))return{x:(e=r.isHorizontal())?o:null,y:e?null:o}}return null}function u(t,e,n){var r,i=t[e].fill,o=[e];if(!n)return i;for(;!1!==i&&-1===o.indexOf(i);){if(!isFinite(i))return i;if(!(r=t[i]))return!1;if(r.visible)return i;o.push(i),i=r.fill}return!1}function c(t){var e=t.fill,n="dataset";return!1===e?null:(isFinite(e)||(n="boundary"),a[n](t))}function d(t){return t&&!t.skip}function f(t,e,n,r,i){var a;if(r&&i){for(t.moveTo(e[0].x,e[0].y),a=1;a<r;++a)o.canvas.lineTo(t,e[a-1],e[a]);for(t.lineTo(n[i-1].x,n[i-1].y),a=i-1;a>0;--a)o.canvas.lineTo(t,n[a],n[a-1],!0)}}t.exports={id:"filler",afterDatasetsUpdate:function(t,e){var n,r,o,a,d=(t.data.datasets||[]).length,f=e.propagate,h=[];for(r=0;r<d;++r)a=null,(o=(n=t.getDatasetMeta(r)).dataset)&&o._model&&o instanceof i.Line&&(a={visible:t.isDatasetVisible(r),fill:s(o,r,d),chart:t,el:o}),n.$filler=a,h.push(a);for(r=0;r<d;++r)(a=h[r])&&(a.fill=u(h,r,f),a.boundary=l(a),a.mapper=c(a))},beforeDatasetDraw:function(t,e){var n=e.meta.$filler;if(n){var i=t.ctx,a=n.el,s=a._view,l=a._children||[],u=n.mapper,c=s.backgroundColor||r.global.defaultColor;u&&c&&l.length&&(o.canvas.clipArea(i,t.chartArea),function(t,e,n,r,i,o){var a,s,l,u,c,h,p,g=e.length,v=r.spanGaps,m=[],y=[],x=0,b=0;for(t.beginPath(),a=0,s=g+!!o;a<s;++a)c=n(u=e[l=a%g]._view,l,r),h=d(u),p=d(c),h&&p?(x=m.push(u),b=y.push(c)):x&&b&&(v?(h&&m.push(u),p&&y.push(c)):(f(t,m,y,x,b),x=b=0,m=[],y=[]));f(t,m,y,x,b),t.closePath(),t.fillStyle=i,t.fill()}(i,l,u,s,c,a._loop),o.canvas.unclipArea(i))}}}},"vvH+":function(t,e,n){"use strict";t.exports={},t.exports.Arc=n("X8CM"),t.exports.Line=n("UqmZ"),t.exports.Point=n("OXbD"),t.exports.Rectangle=n("2UWG")},x8uC:function(t,e,n){"use strict";var r=n("CDJp"),i=n("K2E3"),o=n("RDha");r._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:o.noop,title:function(t,e){var n="",r=e.labels,i=r?r.length:0;if(t.length>0){var o=t[0];o.xLabel?n=o.xLabel:i>0&&o.index<i&&(n=r[o.index])}return n},afterTitle:o.noop,beforeBody:o.noop,beforeLabel:o.noop,label:function(t,e){var n=e.datasets[t.datasetIndex].label||"";return n&&(n+=": "),n+t.yLabel},labelColor:function(t,e){var n=e.getDatasetMeta(t.datasetIndex).data[t.index]._view;return{borderColor:n.borderColor,backgroundColor:n.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:o.noop,afterBody:o.noop,beforeFooter:o.noop,footer:o.noop,afterFooter:o.noop}}});var a={average:function(t){if(!t.length)return!1;var e,n,r=0,i=0,o=0;for(e=0,n=t.length;e<n;++e){var a=t[e];if(a&&a.hasValue()){var s=a.tooltipPosition();r+=s.x,i+=s.y,++o}}return{x:Math.round(r/o),y:Math.round(i/o)}},nearest:function(t,e){var n,r,i,a=e.x,s=e.y,l=Number.POSITIVE_INFINITY;for(n=0,r=t.length;n<r;++n){var u=t[n];if(u&&u.hasValue()){var c=u.getCenterPoint(),d=o.distanceBetweenPoints(e,c);d<l&&(l=d,i=u)}}if(i){var f=i.tooltipPosition();a=f.x,s=f.y}return{x:a,y:s}}};function s(t,e){var n=o.color(t);return n.alpha(e*n.alpha()).rgbaString()}function l(t,e){return e&&(o.isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function u(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function c(t){var e=r.global,n=o.valueOrDefault;return{xPadding:t.xPadding,yPadding:t.yPadding,xAlign:t.xAlign,yAlign:t.yAlign,bodyFontColor:t.bodyFontColor,_bodyFontFamily:n(t.bodyFontFamily,e.defaultFontFamily),_bodyFontStyle:n(t.bodyFontStyle,e.defaultFontStyle),_bodyAlign:t.bodyAlign,bodyFontSize:n(t.bodyFontSize,e.defaultFontSize),bodySpacing:t.bodySpacing,titleFontColor:t.titleFontColor,_titleFontFamily:n(t.titleFontFamily,e.defaultFontFamily),_titleFontStyle:n(t.titleFontStyle,e.defaultFontStyle),titleFontSize:n(t.titleFontSize,e.defaultFontSize),_titleAlign:t.titleAlign,titleSpacing:t.titleSpacing,titleMarginBottom:t.titleMarginBottom,footerFontColor:t.footerFontColor,_footerFontFamily:n(t.footerFontFamily,e.defaultFontFamily),_footerFontStyle:n(t.footerFontStyle,e.defaultFontStyle),footerFontSize:n(t.footerFontSize,e.defaultFontSize),_footerAlign:t.footerAlign,footerSpacing:t.footerSpacing,footerMarginTop:t.footerMarginTop,caretSize:t.caretSize,cornerRadius:t.cornerRadius,backgroundColor:t.backgroundColor,opacity:0,legendColorBackground:t.multiKeyBackground,displayColors:t.displayColors,borderColor:t.borderColor,borderWidth:t.borderWidth}}function d(t){return l([],u(t))}(t.exports=i.extend({initialize:function(){this._model=c(this._options),this._lastActive=[]},getTitle:function(){var t=this._options.callbacks,e=t.beforeTitle.apply(this,arguments),n=t.title.apply(this,arguments),r=t.afterTitle.apply(this,arguments),i=[];return l(i=l(i=l(i,u(e)),u(n)),u(r))},getBeforeBody:function(){return d(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(t,e){var n=this,r=n._options.callbacks,i=[];return o.each(t,function(t){var o={before:[],lines:[],after:[]};l(o.before,u(r.beforeLabel.call(n,t,e))),l(o.lines,r.label.call(n,t,e)),l(o.after,u(r.afterLabel.call(n,t,e))),i.push(o)}),i},getAfterBody:function(){return d(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var t=this._options.callbacks,e=t.beforeFooter.apply(this,arguments),n=t.footer.apply(this,arguments),r=t.afterFooter.apply(this,arguments),i=[];return l(i=l(i=l(i,u(e)),u(n)),u(r))},update:function(t){var e,n,r,i,s,l,u,d=this,f=d._options,h=d._model,p=d._model=c(f),g=d._active,v=d._data,m={xAlign:h.xAlign,yAlign:h.yAlign},y={x:h.x,y:h.y},x={width:h.width,height:h.height},b={x:h.caretX,y:h.caretY};if(g.length){p.opacity=1;var k=[],M=[];b=a[f.position].call(d,g,d._eventPosition);var w=[];for(e=0,n=g.length;e<n;++e)w.push((i=void 0,s=void 0,i=(r=g[e])._xScale,s=r._yScale||r._scale,l=r._index,u=r._datasetIndex,{xLabel:i?i.getLabelForIndex(l,u):"",yLabel:s?s.getLabelForIndex(l,u):"",index:l,datasetIndex:u,x:r._model.x,y:r._model.y}));f.filter&&(w=w.filter(function(t){return f.filter(t,v)})),f.itemSort&&(w=w.sort(function(t,e){return f.itemSort(t,e,v)})),o.each(w,function(t){k.push(f.callbacks.labelColor.call(d,t,d._chart)),M.push(f.callbacks.labelTextColor.call(d,t,d._chart))}),p.title=d.getTitle(w,v),p.beforeBody=d.getBeforeBody(w,v),p.body=d.getBody(w,v),p.afterBody=d.getAfterBody(w,v),p.footer=d.getFooter(w,v),p.x=Math.round(b.x),p.y=Math.round(b.y),p.caretPadding=f.caretPadding,p.labelColors=k,p.labelTextColors=M,p.dataPoints=w,y=function(t,e,n,r){var i=t.x,o=t.y,a=t.caretPadding,s=n.xAlign,l=n.yAlign,u=t.caretSize+a,c=t.cornerRadius+a;return"right"===s?i-=e.width:"center"===s&&((i-=e.width/2)+e.width>r.width&&(i=r.width-e.width),i<0&&(i=0)),"top"===l?o+=u:o-="bottom"===l?e.height+u:e.height/2,"center"===l?"left"===s?i+=u:"right"===s&&(i-=u):"left"===s?i-=c:"right"===s&&(i+=c),{x:i,y:o}}(p,x=function(t,e){var n=t._chart.ctx,r=2*e.yPadding,i=0,a=e.body,s=a.reduce(function(t,e){return t+e.before.length+e.lines.length+e.after.length},0);s+=e.beforeBody.length+e.afterBody.length;var l=e.title.length,u=e.footer.length,c=e.titleFontSize,d=e.bodyFontSize,f=e.footerFontSize;r+=l*c,r+=l?(l-1)*e.titleSpacing:0,r+=l?e.titleMarginBottom:0,r+=s*d,r+=s?(s-1)*e.bodySpacing:0,r+=u?e.footerMarginTop:0,r+=u*f,r+=u?(u-1)*e.footerSpacing:0;var h=0,p=function(t){i=Math.max(i,n.measureText(t).width+h)};return n.font=o.fontString(c,e._titleFontStyle,e._titleFontFamily),o.each(e.title,p),n.font=o.fontString(d,e._bodyFontStyle,e._bodyFontFamily),o.each(e.beforeBody.concat(e.afterBody),p),h=e.displayColors?d+2:0,o.each(a,function(t){o.each(t.before,p),o.each(t.lines,p),o.each(t.after,p)}),h=0,n.font=o.fontString(f,e._footerFontStyle,e._footerFontFamily),o.each(e.footer,p),{width:i+=2*e.xPadding,height:r}}(this,p),m=function(t,e){var n,r,i,o,a,s=t._model,l=t._chart,u=t._chart.chartArea,c="center",d="center";s.y<e.height?d="top":s.y>l.height-e.height&&(d="bottom");var f=(u.left+u.right)/2,h=(u.top+u.bottom)/2;"center"===d?(n=function(t){return t<=f},r=function(t){return t>f}):(n=function(t){return t<=e.width/2},r=function(t){return t>=l.width-e.width/2}),i=function(t){return t+e.width+s.caretSize+s.caretPadding>l.width},o=function(t){return t-e.width-s.caretSize-s.caretPadding<0},a=function(t){return t<=h?"top":"bottom"},n(s.x)?(c="left",i(s.x)&&(c="center",d=a(s.y))):r(s.x)&&(c="right",o(s.x)&&(c="center",d=a(s.y)));var p=t._options;return{xAlign:p.xAlign?p.xAlign:c,yAlign:p.yAlign?p.yAlign:d}}(this,x),d._chart)}else p.opacity=0;return p.xAlign=m.xAlign,p.yAlign=m.yAlign,p.x=y.x,p.y=y.y,p.width=x.width,p.height=x.height,p.caretX=b.x,p.caretY=b.y,d._model=p,t&&f.custom&&f.custom.call(d,p),d},drawCaret:function(t,e){var n=this._chart.ctx,r=this.getCaretPosition(t,e,this._view);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)},getCaretPosition:function(t,e,n){var r,i,o,a,s,l,u=n.caretSize,c=n.cornerRadius,d=n.xAlign,f=n.yAlign,h=t.x,p=t.y,g=e.width,v=e.height;if("center"===f)s=p+v/2,"left"===d?(i=(r=h)-u,o=r,a=s+u,l=s-u):(i=(r=h+g)+u,o=r,a=s-u,l=s+u);else if("left"===d?(r=(i=h+c+u)-u,o=i+u):"right"===d?(r=(i=h+g-c-u)-u,o=i+u):(r=(i=n.caretX)-u,o=i+u),"top"===f)s=(a=p)-u,l=a;else{s=(a=p+v)+u,l=a;var m=o;o=r,r=m}return{x1:r,x2:i,x3:o,y1:a,y2:s,y3:l}},drawTitle:function(t,e,n,r){var i=e.title;if(i.length){n.textAlign=e._titleAlign,n.textBaseline="top";var a,l,u=e.titleFontSize,c=e.titleSpacing;for(n.fillStyle=s(e.titleFontColor,r),n.font=o.fontString(u,e._titleFontStyle,e._titleFontFamily),a=0,l=i.length;a<l;++a)n.fillText(i[a],t.x,t.y),t.y+=u+c,a+1===i.length&&(t.y+=e.titleMarginBottom-c)}},drawBody:function(t,e,n,r){var i=e.bodyFontSize,a=e.bodySpacing,l=e.body;n.textAlign=e._bodyAlign,n.textBaseline="top",n.font=o.fontString(i,e._bodyFontStyle,e._bodyFontFamily);var u=0,c=function(e){n.fillText(e,t.x+u,t.y),t.y+=i+a};n.fillStyle=s(e.bodyFontColor,r),o.each(e.beforeBody,c);var d=e.displayColors;u=d?i+2:0,o.each(l,function(a,l){var u=s(e.labelTextColors[l],r);n.fillStyle=u,o.each(a.before,c),o.each(a.lines,function(o){d&&(n.fillStyle=s(e.legendColorBackground,r),n.fillRect(t.x,t.y,i,i),n.lineWidth=1,n.strokeStyle=s(e.labelColors[l].borderColor,r),n.strokeRect(t.x,t.y,i,i),n.fillStyle=s(e.labelColors[l].backgroundColor,r),n.fillRect(t.x+1,t.y+1,i-2,i-2),n.fillStyle=u),c(o)}),o.each(a.after,c)}),u=0,o.each(e.afterBody,c),t.y-=a},drawFooter:function(t,e,n,r){var i=e.footer;i.length&&(t.y+=e.footerMarginTop,n.textAlign=e._footerAlign,n.textBaseline="top",n.fillStyle=s(e.footerFontColor,r),n.font=o.fontString(e.footerFontSize,e._footerFontStyle,e._footerFontFamily),o.each(i,function(r){n.fillText(r,t.x,t.y),t.y+=e.footerFontSize+e.footerSpacing}))},drawBackground:function(t,e,n,r,i){n.fillStyle=s(e.backgroundColor,i),n.strokeStyle=s(e.borderColor,i),n.lineWidth=e.borderWidth;var o=e.xAlign,a=e.yAlign,l=t.x,u=t.y,c=r.width,d=r.height,f=e.cornerRadius;n.beginPath(),n.moveTo(l+f,u),"top"===a&&this.drawCaret(t,r),n.lineTo(l+c-f,u),n.quadraticCurveTo(l+c,u,l+c,u+f),"center"===a&&"right"===o&&this.drawCaret(t,r),n.lineTo(l+c,u+d-f),n.quadraticCurveTo(l+c,u+d,l+c-f,u+d),"bottom"===a&&this.drawCaret(t,r),n.lineTo(l+f,u+d),n.quadraticCurveTo(l,u+d,l,u+d-f),"center"===a&&"left"===o&&this.drawCaret(t,r),n.lineTo(l,u+f),n.quadraticCurveTo(l,u,l+f,u),n.closePath(),n.fill(),e.borderWidth>0&&n.stroke()},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var n={width:e.width,height:e.height},r={x:e.x,y:e.y},i=Math.abs(e.opacity<.001)?0:e.opacity;this._options.enabled&&(e.title.length||e.beforeBody.length||e.body.length||e.afterBody.length||e.footer.length)&&(this.drawBackground(r,e,t,n,i),r.x+=e.xPadding,r.y+=e.yPadding,this.drawTitle(r,e,t,i),this.drawBody(r,e,t,i),this.drawFooter(r,e,t,i))}},handleEvent:function(t){var e,n=this,r=n._options;return n._lastActive=n._lastActive||[],n._active="mouseout"===t.type?[]:n._chart.getElementsAtEventForMode(t,r.mode,r),(e=!o.arrayEquals(n._active,n._lastActive))&&(n._lastActive=n._active,(r.enabled||r.custom)&&(n._eventPosition={x:t.x,y:t.y},n.update(!0),n.pivot())),e}})).positioners=a},xdbM:function(t,e,n){"use strict";var r=n("mrSG").__decorate,i=n("mrSG").__metadata,o=n("CcnG"),a=n("WyAD"),s=function(){function t(t){this.labels=[],this.options={},this.chartClick=new o.EventEmitter,this.chartHover=new o.EventEmitter,this.initFlag=!1,this.element=t}return t.prototype.ngOnInit=function(){this.ctx=this.element.nativeElement.getContext("2d"),this.cvs=this.element.nativeElement,this.initFlag=!0,(this.data||this.datasets)&&this.refresh()},t.prototype.ngOnChanges=function(t){this.initFlag&&(t.hasOwnProperty("data")||t.hasOwnProperty("datasets")?(this.updateChartData(t.data?t.data.currentValue:t.datasets.currentValue),this.chart.update()):this.refresh())},t.prototype.ngOnDestroy=function(){this.chart&&(this.chart.destroy(),this.chart=void 0)},t.prototype.getChartBuilder=function(t){var e=this,n=this.getDatasets(),r=Object.assign({},this.options);return!1===this.legend&&(r.legend={display:!1}),r.hover=r.hover||{},r.hover.onHover||(r.hover.onHover=function(t){t&&!t.length||e.chartHover.emit({active:t})}),r.onClick||(r.onClick=function(t,n){e.chartClick.emit({event:t,active:n})}),new a.Chart(t,{type:this.chartType,data:{labels:this.labels,datasets:n},options:r})},t.prototype.updateChartData=function(t){Array.isArray(t[0].data)?this.chart.data.datasets.forEach(function(e,n){e.data=t[n].data,t[n].label&&(e.label=t[n].label)}):this.chart.data.datasets[0].data=t},t.prototype.getDatasets=function(){var t=this,e=void 0;if((!this.datasets||!this.datasets.length&&this.data&&this.data.length)&&(e=Array.isArray(this.data[0])?this.data.map(function(e,n){return{data:e,label:t.labels[n]||"Label "+n}}):[{data:this.data,label:"Label 0"}]),(this.datasets&&this.datasets.length||e&&e.length)&&(e=(this.datasets||e).map(function(e,n){var r=Object.assign({},e);return t.colors&&t.colors.length?Object.assign(r,t.colors[n]):Object.assign(r,function(t,e,n){return"pie"===t||"doughnut"===t?{backgroundColor:(r=f(n)).map(function(t){return l(t,.6)}),borderColor:r.map(function(){return"#fff"}),pointBackgroundColor:r.map(function(t){return l(t,1)}),pointBorderColor:r.map(function(){return"#fff"}),pointHoverBackgroundColor:r.map(function(t){return l(t,1)}),pointHoverBorderColor:r.map(function(t){return l(t,1)})}:"polarArea"===t?function(t){return{backgroundColor:t.map(function(t){return l(t,.6)}),borderColor:t.map(function(t){return l(t,1)}),hoverBackgroundColor:t.map(function(t){return l(t,.8)}),hoverBorderColor:t.map(function(t){return l(t,1)})}}(f(n)):"line"===t||"radar"===t?function(t){return{backgroundColor:l(t,.4),borderColor:l(t,1),pointBackgroundColor:l(t,1),pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:l(t,.8)}}(d(e)):"bar"===t||"horizontalBar"===t?function(t){return{backgroundColor:l(t,.6),borderColor:l(t,1),hoverBackgroundColor:l(t,.8),hoverBorderColor:l(t,1)}}(d(e)):d(e);var r}(t.chartType,n,r.data.length)),r})),!e)throw new Error("ng-charts configuration error,\n      data or datasets field are required to render char "+this.chartType);return e},t.prototype.refresh=function(){this.ngOnDestroy(),this.chart=this.getChartBuilder(this.ctx)},t.defaultColors=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],t}();function l(t,e){return"rgba("+t.concat(e).join(",")+")"}function u(t,e){return Math.floor(Math.random()*(e-t+1))+t}function c(){return[u(0,255),u(0,255),u(0,255)]}function d(t){return s.defaultColors[t]||c()}function f(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=s.defaultColors[n]||c();return e}r([o.Input(),i("design:type",Array)],s.prototype,"data",void 0),r([o.Input(),i("design:type",Array)],s.prototype,"datasets",void 0),r([o.Input(),i("design:type",Array)],s.prototype,"labels",void 0),r([o.Input(),i("design:type",Object)],s.prototype,"options",void 0),r([o.Input(),i("design:type",String)],s.prototype,"chartType",void 0),r([o.Input(),i("design:type",Array)],s.prototype,"colors",void 0),r([o.Input(),i("design:type",Boolean)],s.prototype,"legend",void 0),r([o.Output(),i("design:type",o.EventEmitter)],s.prototype,"chartClick",void 0),r([o.Output(),i("design:type",o.EventEmitter)],s.prototype,"chartHover",void 0),s=r([o.Directive({selector:"canvas[baseChart]",exportAs:"base-chart"})],s),e.BaseChartDirective=s;var h=function(){};h=r([o.NgModule({declarations:[s],exports:[s],imports:[]})],h),e.ChartsModule=h},yPMN:function(t,e,n){"use strict";n("CDJp")._set("global",{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},layout:{padding:{top:0,right:0,bottom:0,left:0}}}),t.exports=function(){var t=function(t,e){return this.construct(t,e),this};return t.Chart=t,t}}}]);